

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>fermipy package &mdash; Fermipy 0.18.0+17.gdd46b.dirty documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="fermipy.jobs subpackage" href="fermipy_jobs.html" />
    <link rel="prev" title="Merit Skimmer" href="validation/merit_skimmer.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Fermipy
          

          
          </a>

          
            
            
              <div class="version">
                0.18.0+17.gdd46b.dirty
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="output.html">Output File</a></li>
<li class="toctree-l1"><a class="reference internal" href="fitting.html">ROI Optimization and Fitting</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Customizing the Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer.html">Developer Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced/index.html">Advanced Analysis Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="validation/index.html">Validation Tools</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">fermipy package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-fermipy.config">fermipy.config module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fermipy.defaults">fermipy.defaults module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fermipy-gtanalysis-module">fermipy.gtanalysis module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fermipy.logger">fermipy.logger module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fermipy.roi_model">fermipy.roi_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fermipy.utils">fermipy.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fermipy.plotting">fermipy.plotting module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fermipy.sed">fermipy.sed module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fermipy.sourcefind">fermipy.sourcefind module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fermipy.spectrum">fermipy.spectrum module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fermipy.skymap">fermipy.skymap module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fermipy.castro">fermipy.castro module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fermipy.tsmap">fermipy.tsmap module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fermipy.residmap">fermipy.residmap module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fermipy.lightcurve">fermipy.lightcurve module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fermipy">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fermipy_jobs.html">fermipy.jobs subpackage</a></li>
<li class="toctree-l1"><a class="reference internal" href="fermipy_diffuse.html">fermipy.diffuse subpackage</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Fermipy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>fermipy package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/fermipy.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="fermipy-package">
<span id="fermipy"></span><h1>fermipy package<a class="headerlink" href="#fermipy-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-fermipy.config">
<span id="fermipy-config-module"></span><h2>fermipy.config module<a class="headerlink" href="#module-fermipy.config" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fermipy.config.ConfigManager">
<em class="property">class </em><code class="descclassname">fermipy.config.</code><code class="descname">ConfigManager</code><a class="reference internal" href="_modules/fermipy/config.html#ConfigManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.ConfigManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="classmethod">
<dt id="fermipy.config.ConfigManager.create">
<em class="property">classmethod </em><code class="descname">create</code><span class="sig-paren">(</span><em>configfile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/config.html#ConfigManager.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.ConfigManager.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a configuration dictionary from a yaml config file.
This function will first populate the dictionary with defaults
taken from pre-defined configuration files.  The configuration
dictionary is then updated with the user-defined configuration
file.  Any settings defined by the user will take precedence
over the default settings.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="fermipy.config.ConfigManager.load">
<em class="property">static </em><code class="descname">load</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/config.html#ConfigManager.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.ConfigManager.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.config.ConfigSchema">
<em class="property">class </em><code class="descclassname">fermipy.config.</code><code class="descname">ConfigSchema</code><span class="sig-paren">(</span><em>options=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/config.html#ConfigSchema"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.ConfigSchema" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class encapsulating a configuration schema.</p>
<dl class="method">
<dt id="fermipy.config.ConfigSchema.add_option">
<code class="descname">add_option</code><span class="sig-paren">(</span><em>name</em>, <em>default_value</em>, <em>helpstr=''</em>, <em>otype=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/config.html#ConfigSchema.add_option"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.ConfigSchema.add_option" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.config.ConfigSchema.add_section">
<code class="descname">add_section</code><span class="sig-paren">(</span><em>name</em>, <em>section</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/config.html#ConfigSchema.add_section"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.ConfigSchema.add_section" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.config.ConfigSchema.create_config">
<code class="descname">create_config</code><span class="sig-paren">(</span><em>config=None</em>, <em>validate=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/config.html#ConfigSchema.create_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.ConfigSchema.create_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.config.ConfigSchema.items">
<code class="descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/config.html#ConfigSchema.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.ConfigSchema.items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.config.Configurable">
<em class="property">class </em><code class="descclassname">fermipy.config.</code><code class="descname">Configurable</code><span class="sig-paren">(</span><em>config</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/config.html#Configurable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.Configurable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>The base class provides common facilities like loading and saving
configuration state.</p>
<dl class="attribute">
<dt id="fermipy.config.Configurable.config">
<code class="descname">config</code><a class="headerlink" href="#fermipy.config.Configurable.config" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the configuration dictionary of this class.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.config.Configurable.configdir">
<code class="descname">configdir</code><a class="headerlink" href="#fermipy.config.Configurable.configdir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.config.Configurable.configure">
<code class="descname">configure</code><span class="sig-paren">(</span><em>config</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/config.html#Configurable.configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.Configurable.configure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.config.Configurable.get_config">
<em class="property">classmethod </em><code class="descname">get_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/config.html#Configurable.get_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.Configurable.get_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a default configuration dictionary for this class.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.config.Configurable.print_config">
<code class="descname">print_config</code><span class="sig-paren">(</span><em>logger</em>, <em>loglevel=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/config.html#Configurable.print_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.Configurable.print_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.config.Configurable.schema">
<code class="descname">schema</code><a class="headerlink" href="#fermipy.config.Configurable.schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the configuration schema of this class.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.config.Configurable.write_config">
<code class="descname">write_config</code><span class="sig-paren">(</span><em>outfile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/config.html#Configurable.write_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.Configurable.write_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the configuration dictionary to an output file.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="fermipy.config.cast_config">
<code class="descclassname">fermipy.config.</code><code class="descname">cast_config</code><span class="sig-paren">(</span><em>config</em>, <em>defaults</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/config.html#cast_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.cast_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.config.create_default_config">
<code class="descclassname">fermipy.config.</code><code class="descname">create_default_config</code><span class="sig-paren">(</span><em>schema</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/config.html#create_default_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.create_default_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a configuration dictionary from a schema dictionary.
The schema defines the valid configuration keys and their default
values.  Each element of <code class="docutils literal notranslate"><span class="pre">schema</span></code> should be a tuple/list
containing (default value,docstring,type) or a dict containing a
nested schema.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.config.update_from_schema">
<code class="descclassname">fermipy.config.</code><code class="descname">update_from_schema</code><span class="sig-paren">(</span><em>cfg</em>, <em>cfgin</em>, <em>schema</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/config.html#update_from_schema"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.update_from_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Update configuration dictionary <code class="docutils literal notranslate"><span class="pre">cfg</span></code> with the contents of
<code class="docutils literal notranslate"><span class="pre">cfgin</span></code> using the <code class="docutils literal notranslate"><span class="pre">schema</span></code> dictionary to determine the valid
input keys.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cfg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Configuration dictionary to be updated.</li>
<li><strong>cfgin</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – New configuration dictionary that will be merged with <code class="docutils literal notranslate"><span class="pre">cfg</span></code>.</li>
<li><strong>schema</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Configuration schema defining the valid configuration keys and
their types.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cfgout</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.config.validate_config">
<code class="descclassname">fermipy.config.</code><code class="descname">validate_config</code><span class="sig-paren">(</span><em>config</em>, <em>defaults</em>, <em>section=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/config.html#validate_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.validate_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.config.validate_from_schema">
<code class="descclassname">fermipy.config.</code><code class="descname">validate_from_schema</code><span class="sig-paren">(</span><em>cfg</em>, <em>schema</em>, <em>section=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/config.html#validate_from_schema"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.validate_from_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.config.validate_option">
<code class="descclassname">fermipy.config.</code><code class="descname">validate_option</code><span class="sig-paren">(</span><em>opt_name</em>, <em>opt_val</em>, <em>schema_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/config.html#validate_option"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.config.validate_option" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-fermipy.defaults">
<span id="fermipy-defaults-module"></span><h2>fermipy.defaults module<a class="headerlink" href="#module-fermipy.defaults" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="fermipy.defaults.make_attrs_class">
<code class="descclassname">fermipy.defaults.</code><code class="descname">make_attrs_class</code><span class="sig-paren">(</span><em>typename</em>, <em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/defaults.html#make_attrs_class"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.defaults.make_attrs_class" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.defaults.make_default_dict">
<code class="descclassname">fermipy.defaults.</code><code class="descname">make_default_dict</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/defaults.html#make_default_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.defaults.make_default_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.defaults.make_default_tuple">
<code class="descclassname">fermipy.defaults.</code><code class="descname">make_default_tuple</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/defaults.html#make_default_tuple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.defaults.make_default_tuple" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="fermipy-gtanalysis-module">
<h2>fermipy.gtanalysis module<a class="headerlink" href="#fermipy-gtanalysis-module" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fermipy.gtanalysis.GTAnalysis">
<em class="property">class </em><code class="descclassname">fermipy.gtanalysis.</code><code class="descname">GTAnalysis</code><span class="sig-paren">(</span><em>config</em>, <em>roi=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.config.Configurable" title="fermipy.config.Configurable"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.config.Configurable</span></code></a>, <a class="reference internal" href="#fermipy.sed.SEDGenerator" title="fermipy.sed.SEDGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.sed.SEDGenerator</span></code></a>, <a class="reference internal" href="#fermipy.residmap.ResidMapGenerator" title="fermipy.residmap.ResidMapGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.residmap.ResidMapGenerator</span></code></a>, <a class="reference internal" href="#fermipy.tsmap.TSMapGenerator" title="fermipy.tsmap.TSMapGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.tsmap.TSMapGenerator</span></code></a>, <a class="reference internal" href="#fermipy.tsmap.TSCubeGenerator" title="fermipy.tsmap.TSCubeGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.tsmap.TSCubeGenerator</span></code></a>, <a class="reference internal" href="#fermipy.sourcefind.SourceFind" title="fermipy.sourcefind.SourceFind"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.sourcefind.SourceFind</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.extension.ExtensionFit</span></code>, <a class="reference internal" href="#fermipy.lightcurve.LightCurve" title="fermipy.lightcurve.LightCurve"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.lightcurve.LightCurve</span></code></a></p>
<p>High-level analysis interface that manages a set of analysis
component objects.  Most of the functionality of the Fermipy
package is provided through the methods of this class.  The class
constructor accepts a dictionary that defines the configuration
for the analysis.  Keyword arguments to the constructor can be
used to override parameters in the configuration dictionary.</p>
<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.add_gauss_prior">
<code class="descname">add_gauss_prior</code><span class="sig-paren">(</span><em>name</em>, <em>parName</em>, <em>mean</em>, <em>sigma</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.add_gauss_prior"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.add_gauss_prior" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.add_source">
<code class="descname">add_source</code><span class="sig-paren">(</span><em>name</em>, <em>src_dict</em>, <em>free=None</em>, <em>init_source=True</em>, <em>save_source_maps=True</em>, <em>use_pylike=True</em>, <em>use_single_psf=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.add_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.add_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a source to the ROI model.  This function may be called
either before or after <a class="reference internal" href="#fermipy.gtanalysis.GTAnalysis.setup" title="fermipy.gtanalysis.GTAnalysis.setup"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setup</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>src_dict</strong> (dict or <a class="reference internal" href="#fermipy.roi_model.Source" title="fermipy.roi_model.Source"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Source</span></code></a> object) – Dictionary or source object defining the source properties
(coordinates, spectral parameters, etc.).</li>
<li><strong>free</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Initialize the source with a free normalization parameter.</li>
<li><strong>use_pylike</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Create source maps with pyLikelihood.</li>
<li><strong>use_single_psf</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Use the PSF model calculated for the ROI center.  If false
then a new model will be generated using the position of
the source.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.add_sources_from_roi">
<code class="descname">add_sources_from_roi</code><span class="sig-paren">(</span><em>names</em>, <em>roi</em>, <em>free=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.add_sources_from_roi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.add_sources_from_roi" title="Permalink to this definition">¶</a></dt>
<dd><p>Add multiple sources to the current ROI model copied from another ROI model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – List of str source names to add.</li>
<li><strong>roi</strong> (<a class="reference internal" href="#fermipy.roi_model.ROIModel" title="fermipy.roi_model.ROIModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ROIModel</span></code></a> object) – The roi model from which to add sources.</li>
<li><strong>free</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Initialize the source with a free normalization paramter.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.bowtie">
<code class="descname">bowtie</code><span class="sig-paren">(</span><em>name</em>, <em>fd=None</em>, <em>loge=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.bowtie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.bowtie" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a spectral uncertainty band (bowtie) for the given
source.  This will create an uncertainty band on the
differential flux as a function of energy by propagating the
errors on the global fit parameters.  Note that this band only
reflects the uncertainty for parameters that are currently
free in the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>fd</strong> (<em>FluxDensity</em>) – Flux density object.  If this parameter is None then one
will be created.</li>
<li><strong>loge</strong> (<em>array-like</em>) – Sequence of energies in log10(E/MeV) at which the flux band
will be evaluated.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.cleanup">
<code class="descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.cleanup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.clone">
<code class="descname">clone</code><span class="sig-paren">(</span><em>config</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.clone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.clone" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a clone of this analysis instance.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.components">
<code class="descname">components</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.components" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of analysis components.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.compute_srcprob">
<code class="descname">compute_srcprob</code><span class="sig-paren">(</span><em>xmlfile=None</em>, <em>overwrite=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.compute_srcprob"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.compute_srcprob" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the gtsrcprob app with the current model or a user provided xmlfile</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.config">
<code class="descname">config</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.config" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the configuration dictionary of this class.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.configdir">
<code class="descname">configdir</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.configdir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.configure">
<code class="descname">configure</code><span class="sig-paren">(</span><em>config</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.configure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.constrain_norms">
<code class="descname">constrain_norms</code><span class="sig-paren">(</span><em>srcNames</em>, <em>cov_scale=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.constrain_norms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.constrain_norms" title="Permalink to this definition">¶</a></dt>
<dd><p>Constrain the normalizations of one or more sources by
adding gaussian priors with sigma equal to the parameter
error times a scaling factor.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.counts_map">
<code class="descname">counts_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.counts_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.counts_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#fermipy.skymap.Map" title="fermipy.skymap.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a> representation of the counts map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>map</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#fermipy.skymap.Map" title="fermipy.skymap.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="fermipy.gtanalysis.GTAnalysis.create">
<em class="property">classmethod </em><code class="descname">create</code><span class="sig-paren">(</span><em>infile</em>, <em>config=None</em>, <em>params=None</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new instance of GTAnalysis from an analysis output file
generated with <code class="xref py py-obj docutils literal notranslate"><span class="pre">write_roi</span></code>.  By default
the new instance will inherit the configuration of the saved
analysis instance.  The configuration may be overriden by
passing a configuration file path with the <code class="docutils literal notranslate"><span class="pre">config</span></code>
argument.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>infile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to the ROI results file.</li>
<li><strong>config</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to a configuration file.  This will override the
configuration in the ROI results file.</li>
<li><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to a yaml file with updated parameter values</li>
<li><strong>mask</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to a fits file with an updated mask</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.create_roi_table">
<code class="descname">create_roi_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.create_roi_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.create_roi_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.curvature">
<code class="descname">curvature</code><span class="sig-paren">(</span><em>name</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.curvature"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.curvature" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether a source shows spectral curvature by comparing
the likelihood ratio of PowerLaw and LogParabola spectral
models.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.defaults">
<code class="descname">defaults</code><em class="property"> = {'binning': {'binsperdec': (8, 'Number of energy bins per decade.', &lt;type 'float'&gt;), 'binsz': (0.1, 'Spatial bin size in degrees.', &lt;type 'float'&gt;), 'coordsys': ('CEL', 'Coordinate system of the spatial projection (CEL or GAL).', &lt;type 'str'&gt;), 'enumbins': (None, 'Number of energy bins.  If none this will be inferred from energy range and ``binsperdec`` parameter.', &lt;type 'int'&gt;), 'hpx_ebin': (True, 'Include energy binning', &lt;type 'bool'&gt;), 'hpx_order': (10, 'Order of the map (int between 0 and 12, included)', &lt;type 'int'&gt;), 'hpx_ordering_scheme': ('RING', 'HEALPix Ordering Scheme', &lt;type 'str'&gt;), 'npix': (None, 'Number of pixels.  If none then this will be set from ``roiwidth`` and ``binsz``.', &lt;type 'int'&gt;), 'proj': ('AIT', 'Spatial projection for WCS mode.', &lt;type 'str'&gt;), 'projtype': ('WCS', 'Projection mode (WCS or HPX).', &lt;type 'str'&gt;), 'roiwidth': (10.0, 'Width of the ROI in degrees.  The number of pixels in each spatial dimension will be set from ``roiwidth`` / ``binsz`` (rounded up).', &lt;type 'float'&gt;)}, 'components': (None, '', &lt;type 'list'&gt;), 'data': {'cacheft1': (True, 'Cache FT1 files when performing binned analysis.  If false then only the counts cube is retained.', &lt;type 'bool'&gt;), 'evfile': (None, 'Path to FT1 file or list of FT1 files.', &lt;type 'str'&gt;), 'ltcube': (None, 'Path to livetime cube.  If none a livetime cube will be generated with ``gtmktime``.', &lt;type 'str'&gt;), 'scfile': (None, 'Path to FT2 (spacecraft) file.', &lt;type 'str'&gt;)}, 'extension': {'fit_ebin': (False, 'Perform a fit for the angular extension in each analysis energy bin.', &lt;type 'bool'&gt;), 'fit_position': (False, 'Perform a simultaneous fit to the source position and extension.', &lt;type 'bool'&gt;), 'fix_shape': (False, 'Fix spectral shape parameters of the source of interest. If True then only the normalization parameter will be fit.', &lt;type 'bool'&gt;), 'free_background': (False, 'Leave background parameters free when performing the fit. If True then any parameters that are currently free in the model will be fit simultaneously with the source of interest.', &lt;type 'bool'&gt;), 'free_radius': (None, 'Free normalizations of background sources within this angular distance in degrees from the source of interest.  If None then no sources will be freed.', &lt;type 'float'&gt;), 'make_plots': (False, 'Generate diagnostic plots.', &lt;type 'bool'&gt;), 'make_tsmap': (True, 'Make a TS map for the source of interest.', &lt;type 'bool'&gt;), 'psf_scale_fn': (None, &quot;Tuple of two vectors (logE,f) defining an energy-dependent PSF scaling function that will be applied when building spatial models for the source of interest.  The tuple (logE,f) defines the fractional corrections f at the sequence of energies logE = log10(E/MeV) where f=0 corresponds to no correction.  The correction function f(E) is evaluated by linearly interpolating the fractional correction factors f in log(E).  The corrected PSF is given by P'(x;E) = P(x/(1+f(E));E) where x is the angular separation.&quot;, &lt;type 'tuple'&gt;), 'save_model_map': (False, 'Save model counts cubes for the best-fit model of extension.', &lt;type 'bool'&gt;), 'spatial_model': ('RadialGaussian', 'Spatial model that will be used to test the sourceextension.  The spatial scale parameter of the model will be set such that the 68% containment radius of the model is equal to the width parameter.', &lt;type 'str'&gt;), 'sqrt_ts_threshold': (None, 'Threshold on sqrt(TS_ext) that will be applied when ``update`` is True.  If None then nothreshold is applied.', &lt;type 'float'&gt;), 'tsmap_fitter': ('tsmap', 'Set the method for generating the TS map.  Valid options are tsmap or tscube.', &lt;type 'str'&gt;), 'update': (False, 'Update this source with the best-fit model for spatial extension if TS_ext &gt; ``tsext_threshold``.', &lt;type 'bool'&gt;), 'width': (None, 'Sequence of values in degrees for the likelihood scan over spatial extension (68% containment radius).  If this argument is None then the scan points will be determined from width_min/width_max/width_nstep.', &lt;type 'list'&gt;), 'width_max': (1.0, 'Maximum value in degrees for the likelihood scan over spatial extent.', &lt;type 'float'&gt;), 'width_min': (0.01, 'Minimum value in degrees for the likelihood scan over spatial extent.', &lt;type 'float'&gt;), 'width_nstep': (21, 'Number of scan points between width_min and width_max. Scan points will be spaced evenly on a logarithmic scale between `width_min` and `width_max`.', &lt;type 'int'&gt;), 'write_fits': (True, 'Write the output to a FITS file.', &lt;type 'bool'&gt;), 'write_npy': (True, 'Write the output dictionary to a numpy file.', &lt;type 'bool'&gt;)}, 'fileio': {'logfile': (None, 'Path to log file.  If None then log will be written to fermipy.log.', &lt;type 'str'&gt;), 'outdir': (None, 'Path of the output directory.  If none this will default to the directory containing the configuration file.', &lt;type 'str'&gt;), 'outdir_regex': (['\\.fits$|\\.fit$|\\.xml$|\\.npy$|\\.png$|\\.pdf$|\\.yaml$'], 'Stage files to the output directory that match at least one of the regular expressions in this list.  This option only takes effect when ``usescratch`` is True.', &lt;type 'list'&gt;), 'savefits': (True, 'Save intermediate FITS files.', &lt;type 'bool'&gt;), 'scratchdir': ('/scratch', 'Path to the scratch directory.  If ``usescratch`` is True then a temporary working directory will be created under this directory.', &lt;type 'str'&gt;), 'usescratch': (False, 'Run analysis in a temporary working directory under ``scratchdir``.', &lt;type 'bool'&gt;), 'workdir': (None, 'Path to the working directory.', &lt;type 'str'&gt;), 'workdir_regex': (['\\.fits$|\\.fit$|\\.xml$|\\.npy$'], 'Stage files to the working directory that match at least one of the regular expressions in this list.  This option only takes effect when ``usescratch`` is True.', &lt;type 'list'&gt;)}, 'gtlike': {'bexpmap': (None, '', &lt;type 'str'&gt;), 'bexpmap_base': (None, 'Set the basline all-sky expoure map file.  This will be used to generate a scaled source map.', &lt;type 'str'&gt;), 'bexpmap_roi': (None, '', &lt;type 'str'&gt;), 'bexpmap_roi_base': (None, 'Set the basline ROI expoure map file.  This will be used to generate a scaled source map.', &lt;type 'str'&gt;), 'convolve': (True, '', &lt;type 'bool'&gt;), 'edisp': (True, 'Enable the correction for energy dispersion.', &lt;type 'bool'&gt;), 'edisp_bins': (-1, 'Number of bins to use for energy correction.', &lt;type 'int'&gt;), 'edisp_disable': (None, 'Provide a list of sources for which the edisp correction should be disabled.', &lt;type 'list'&gt;), 'expscale': (None, 'Exposure correction that is applied to all sources in the analysis component.  This correction is superseded by `src_expscale` if it is defined for a source.', &lt;type 'float'&gt;), 'irfs': (None, 'Set the IRF string.', &lt;type 'str'&gt;), 'llscan_npts': (20, 'Number of evaluation points to use when performing a likelihood scan.', &lt;type 'int'&gt;), 'minbinsz': (0.05, 'Set the minimum bin size used for resampling diffuse maps.', &lt;type 'float'&gt;), 'resample': (True, '', &lt;type 'bool'&gt;), 'rfactor': (2, '', &lt;type 'int'&gt;), 'src_expscale': (None, 'Dictionary of exposure corrections for individual sources keyed to source name.  The exposure for a given source will be scaled by this value.  A value of 1.0 corresponds to the nominal exposure.', &lt;type 'dict'&gt;), 'srcmap': (None, 'Set the source maps file.  When defined this file will be used instead of the local source maps file.', &lt;type 'str'&gt;), 'srcmap_base': (None, 'Set the baseline source maps file.  This will be used to generate a scaled source map.', &lt;type 'str'&gt;), 'use_external_srcmap': (False, 'Use an external precomputed source map file.', &lt;type 'bool'&gt;), 'use_scaled_srcmap': (False, 'Generate source map by scaling an external srcmap file.', &lt;type 'bool'&gt;), 'wmap': (None, 'Likelihood weights map.', &lt;type 'str'&gt;)}, 'lightcurve': {'binsz': (86400.0, 'Set the lightcurve bin size in seconds.', &lt;type 'float'&gt;), 'free_background': (False, 'Leave background parameters free when performing the fit. If True then any parameters that are currently free in the model will be fit simultaneously with the source of interest.', &lt;type 'bool'&gt;), 'free_params': (None, 'Set the parameters of the source of interest that will be re-fit in each time bin. If this list is empty then all parameters will be freed.', &lt;type 'list'&gt;), 'free_radius': (None, 'Free normalizations of background sources within this angular distance in degrees from the source of interest.  If None then no sources will be freed.', &lt;type 'float'&gt;), 'free_sources': (None, 'List of sources to be freed.  These sources will be added to the list of sources satisfying the free_radius selection.', &lt;type 'list'&gt;), 'make_plots': (False, 'Generate diagnostic plots.', &lt;type 'bool'&gt;), 'max_free_sources': (5, 'Maximum number of sources that will be fit simultaneously with the source of interest.', &lt;type 'int'&gt;), 'multithread': (False, 'Split the calculation across number of processes set by nthread option.', &lt;type 'bool'&gt;), 'nbins': (None, 'Set the number of lightcurve bins.  The total time range will be evenly split into this number of time bins.', &lt;type 'int'&gt;), 'nthread': (None, 'Number of processes to create when multithread is True.  If None then one process will be created for each available core.', &lt;type 'int'&gt;), 'outdir': (None, 'Store all data in this directory (e.g. &quot;30days&quot;). If None then use current directory.', &lt;type 'str'&gt;), 'save_bin_data': (True, 'Save analysis directories for individual time bins.  If False then only the analysis results table will be saved.', &lt;type 'bool'&gt;), 'shape_ts_threshold': (16.0, 'Set the TS threshold at which shape parameters of sources will be freed.  If a source is detected with TS less than this value then its shape parameters will be fixed to values derived from the analysis of the full time range.', &lt;type 'float'&gt;), 'systematic': (0.02, 'Systematic correction factor for TS:subscript:`var`. See Sect. 3.6 in 2FGL for details.', &lt;type 'float'&gt;), 'time_bins': (None, 'Set the lightcurve bin edge sequence in MET.  This option takes precedence over binsz and nbins.', &lt;type 'list'&gt;), 'use_local_ltcube': (True, 'Generate a fast LT cube.', &lt;type 'bool'&gt;), 'use_scaled_srcmap': (False, 'Generate approximate source maps for each time bin by scaling the current source maps by the exposure ratio with respect to that time bin.', &lt;type 'bool'&gt;), 'write_fits': (True, 'Write the output to a FITS file.', &lt;type 'bool'&gt;), 'write_npy': (True, 'Write the output dictionary to a numpy file.', &lt;type 'bool'&gt;)}, 'localize': {'dtheta_max': (0.5, 'Half-width of the search region in degrees used for the first pass of the localization search.', &lt;type 'float'&gt;), 'fix_shape': (False, 'Fix spectral shape parameters of the source of interest. If True then only the normalization parameter will be fit.', &lt;type 'bool'&gt;), 'free_background': (False, 'Leave background parameters free when performing the fit. If True then any parameters that are currently free in the model will be fit simultaneously with the source of interest.', &lt;type 'bool'&gt;), 'free_radius': (None, 'Free normalizations of background sources within this angular distance in degrees from the source of interest.  If None then no sources will be freed.', &lt;type 'float'&gt;), 'make_plots': (False, 'Generate diagnostic plots.', &lt;type 'bool'&gt;), 'nstep': (5, 'Number of steps in longitude/latitude that will be taken when refining the source position.  The bounds of the scan range are set to the 99% positional uncertainty as determined from the TS map peak fit.  The total number of sampling points will be nstep**2.', &lt;type 'int'&gt;), 'tsmap_fitter': ('tsmap', 'Set the method for generating the TS map.  Valid options are tsmap or tscube.', &lt;type 'str'&gt;), 'update': (True, 'Update the source model with the best-fit position.', &lt;type 'bool'&gt;), 'write_fits': (True, 'Write the output to a FITS file.', &lt;type 'bool'&gt;), 'write_npy': (True, 'Write the output dictionary to a numpy file.', &lt;type 'bool'&gt;)}, 'logging': {'chatter': (3, 'Set the chatter parameter of the STs.', &lt;type 'int'&gt;), 'prefix': ('', 'Prefix that will be appended to the logger name.', &lt;type 'str'&gt;), 'verbosity': (3, '', &lt;type 'int'&gt;)}, 'ltcube': {'binsz': (1.0, 'Set the angular bin size for generating livetime cubes.', &lt;type 'float'&gt;), 'dcostheta': (0.025, 'Set the inclination angle binning represented as the cosine of the off-axis angle.', &lt;type 'float'&gt;), 'phibins': (0, 'Set the number of phi bins for generating livetime cubes.', &lt;type 'int'&gt;), 'use_local_ltcube': (False, 'Generate a livetime cube in the vicinity of the ROI using interpolation. This option disables LT cube generation with gtltcube.', &lt;type 'bool'&gt;)}, 'mc': {'seed': (None, '', &lt;type 'int'&gt;)}, 'model': {'assoc_xmatch_columns': (['3FGL_Name'], 'Choose a set of association columns on which to cross-match catalogs.', &lt;type 'list'&gt;), 'catalogs': (None, '', &lt;type 'list'&gt;), 'diffuse': (None, '', &lt;type 'list'&gt;), 'diffuse_dir': (None, '', &lt;type 'list'&gt;), 'diffuse_xml': (None, '', &lt;type 'list'&gt;), 'extdir': (None, 'Set a directory that will be searched for extended source FITS templates.  Template files in this directory will take precendence over catalog source templates with the same name.', &lt;type 'str'&gt;), 'extract_diffuse': (False, 'Extract a copy of all mapcube components centered on the ROI.', &lt;type 'bool'&gt;), 'galdiff': (None, 'Set the path to one or more galactic IEM mapcubes.  A separate component will be generated for each item in this list.', &lt;type 'list'&gt;), 'isodiff': (None, 'Set the path to one or more isotropic templates.  A separate component will be generated for each item in this list.', &lt;type 'list'&gt;), 'limbdiff': (None, '', &lt;type 'list'&gt;), 'merge_sources': (True, 'Merge properties of sources that appear in multiple source catalogs.  If merge_sources=false then subsequent sources with the same name will be ignored.', &lt;type 'bool'&gt;), 'sources': (None, '', &lt;type 'list'&gt;), 'src_radius': (None, 'Radius of circular region in degrees centered on the ROI that selects sources for inclusion in the model.  If this parameter is none then no selection is applied.  This selection is ORed with the ``src_roiwidth`` selection.', &lt;type 'float'&gt;), 'src_radius_roi': (None, 'Half-width of ``src_roiwidth`` selection.  This parameter can be used in lieu of ``src_roiwidth``.', &lt;type 'float'&gt;), 'src_roiwidth': (None, 'Width of square region in degrees centered on the ROI that selects sources for inclusion in the model.  If this parameter is none then no selection is applied.  This selection will be ORed with the ``src_radius`` selection.', &lt;type 'float'&gt;)}, 'optimizer': {'init_lambda': (0.0001, 'Initial value of damping parameter for step size calculation when using the NEWTON fitter.  A value of zero disables damping.', &lt;type 'float'&gt;), 'max_iter': (100, 'Maximum number of iterations for the Newtons method fitter.', &lt;type 'int'&gt;), 'min_fit_quality': (2, 'Set the minimum fit quality.', &lt;type 'int'&gt;), 'optimizer': ('MINUIT', 'Set the optimization algorithm to use when maximizing the likelihood function.', &lt;type 'str'&gt;), 'retries': (3, 'Set the number of times to retry the fit when the fit quality is less than ``min_fit_quality``.', &lt;type 'int'&gt;), 'tol': (0.001, 'Set the optimizer tolerance.', &lt;type 'float'&gt;), 'verbosity': (0, '', &lt;type 'int'&gt;)}, 'plotting': {'catalogs': (None, '', &lt;type 'list'&gt;), 'cmap': ('magma', 'Set the colormap for 2D plots.', &lt;type 'str'&gt;), 'cmap_resid': ('RdBu_r', 'Set the colormap for 2D residual plots.', &lt;type 'str'&gt;), 'figsize': ([8.0, 6.0], 'Set the default figure size.', &lt;type 'list'&gt;), 'format': ('png', '', &lt;type 'str'&gt;), 'graticule_radii': (None, 'Define a list of radii at which circular graticules will be drawn.', &lt;type 'list'&gt;), 'interactive': (False, 'Enable interactive mode.  If True then plots will be drawn after each plotting command.', &lt;type 'bool'&gt;), 'label_ts_threshold': (0.0, 'TS threshold for labeling sources in sky maps.  If None then no sources will be labeled.', &lt;type 'float'&gt;), 'loge_bounds': (None, '', &lt;type 'list'&gt;)}, 'residmap': {'exclude': (None, 'List of sources that will be removed from the model when computing the residual map.', &lt;type 'list'&gt;), 'loge_bounds': (None, 'Restrict the analysis to an energy range (emin,emax) in log10(E/MeV) that is a subset of the analysis energy range. By default the full analysis energy range will be used.  If either emin/emax are None then only an upper/lower bound on the energy range wil be applied.', &lt;type 'list'&gt;), 'make_plots': (False, 'Generate diagnostic plots.', &lt;type 'bool'&gt;), 'model': (None, 'Dictionary defining the spatial/spectral properties of the test source. If model is None the test source will be a PointSource with an Index 2 power-law spectrum.', &lt;type 'dict'&gt;), 'use_weights': (False, 'Used weighted version of maps in making plots.', &lt;type 'bool'&gt;), 'write_fits': (True, 'Write the output to a FITS file.', &lt;type 'bool'&gt;), 'write_npy': (True, 'Write the output dictionary to a numpy file.', &lt;type 'bool'&gt;)}, 'roiopt': {'max_free_sources': (5, 'Maximum number of sources that will be fit simultaneously in the first optimization step.', &lt;type 'int'&gt;), 'npred_frac': (0.95, '', &lt;type 'float'&gt;), 'npred_threshold': (1.0, '', &lt;type 'float'&gt;), 'shape_ts_threshold': (25.0, 'Threshold on source TS used for determining the sources that will be fit in the third optimization step.', &lt;type 'float'&gt;), 'skip': (None, 'List of str source names to skip while optimizing.', &lt;type 'list'&gt;)}, 'sed': {'bin_index': (2.0, 'Spectral index that will be use when fitting the energy distribution within an energy bin.', &lt;type 'float'&gt;), 'cov_scale': (3.0, 'Scale factor that sets the strength of the prior on nuisance parameters that are free.  Setting this to None disables the prior.', &lt;type 'float'&gt;), 'free_background': (False, 'Leave background parameters free when performing the fit. If True then any parameters that are currently free in the model will be fit simultaneously with the source of interest.', &lt;type 'bool'&gt;), 'free_pars': (None, 'Set the parameters of the source of interest that will be freed when performing the global fit.  By default all parameters will be freed.', &lt;type 'list'&gt;), 'free_radius': (None, 'Free normalizations of background sources within this angular distance in degrees from the source of interest.  If None then no sources will be freed.', &lt;type 'float'&gt;), 'make_plots': (False, 'Generate diagnostic plots.', &lt;type 'bool'&gt;), 'ul_confidence': (0.95, 'Confidence level for flux upper limit.', &lt;type 'float'&gt;), 'use_local_index': (False, 'Use a power-law approximation to the shape of the global spectrum in each bin.  If this is false then a constant index set to `bin_index` will be used.', &lt;type 'bool'&gt;), 'write_fits': (True, 'Write the output to a FITS file.', &lt;type 'bool'&gt;), 'write_npy': (True, 'Write the output dictionary to a numpy file.', &lt;type 'bool'&gt;)}, 'selection': {'convtype': (None, 'Conversion type selection.', &lt;type 'int'&gt;), 'dec': (None, '', &lt;type 'float'&gt;), 'emax': (None, 'Maximum Energy (MeV)', &lt;type 'float'&gt;), 'emin': (None, 'Minimum Energy (MeV)', &lt;type 'float'&gt;), 'evclass': (None, 'Event class selection.', &lt;type 'int'&gt;), 'evtype': (None, 'Event type selection.', &lt;type 'int'&gt;), 'filter': (None, 'Filter string for ``gtmktime`` selection.', &lt;type 'str'&gt;), 'glat': (None, '', &lt;type 'float'&gt;), 'glon': (None, '', &lt;type 'float'&gt;), 'logemax': (None, 'Maximum Energy (log10(MeV))', &lt;type 'float'&gt;), 'logemin': (None, 'Minimum Energy (log10(MeV))', &lt;type 'float'&gt;), 'phasemax': (None, 'Maximum pulsar phase', &lt;type 'float'&gt;), 'phasemin': (None, 'Minimum pulsar phase', &lt;type 'float'&gt;), 'ra': (None, '', &lt;type 'float'&gt;), 'radius': (None, 'Radius of data selection.  If none this will be automatically set from the ROI size.', &lt;type 'float'&gt;), 'roicut': ('no', '', &lt;type 'str'&gt;), 'target': (None, 'Choose an object on which to center the ROI.  This option takes precendence over ra/dec or glon/glat.', &lt;type 'str'&gt;), 'tmax': (None, 'Maximum time (MET).', &lt;type 'int'&gt;), 'tmin': (None, 'Minimum time (MET).', &lt;type 'int'&gt;), 'zmax': (None, 'Maximum zenith angle.', &lt;type 'float'&gt;)}, 'sourcefind': {'free_params': (None, '', &lt;type 'list'&gt;), 'max_iter': (5, 'Maximum number of source finding iterations.  The source finder will continue adding sources until no additional peaks are found or the number of iterations exceeds this number.', &lt;type 'int'&gt;), 'min_separation': (1.0, 'Minimum separation in degrees between sources detected in each iteration. The source finder will look for the maximum peak in the TS map within a circular region of this radius.', &lt;type 'float'&gt;), 'model': (None, 'Dictionary defining the spatial/spectral properties of the test source. If model is None the test source will be a PointSource with an Index 2 power-law spectrum.', &lt;type 'dict'&gt;), 'multithread': (False, 'Split the calculation across number of processes set by nthread option.', &lt;type 'bool'&gt;), 'nthread': (None, 'Number of processes to create when multithread is True.  If None then one process will be created for each available core.', &lt;type 'int'&gt;), 'sources_per_iter': (4, 'Maximum number of sources that will be added in each iteration.  If the number of detected peaks in a given iteration is larger than this number, only the N peaks with the largest TS will be used as seeds for the current iteration.', &lt;type 'int'&gt;), 'sqrt_ts_threshold': (5.0, 'Source threshold in sqrt(TS).  Only peaks with sqrt(TS) exceeding this threshold will be used as seeds for new sources.', &lt;type 'float'&gt;), 'tsmap_fitter': ('tsmap', 'Set the method for generating the TS map.  Valid options are tsmap or tscube.', &lt;type 'str'&gt;)}, 'tscube': {'cov_scale': (-1.0, 'Scale factor to apply to broadband fitting cov. matrix in bin-by-bin fits ( &lt; 0 -&gt; fixed ) ', &lt;type 'float'&gt;), 'cov_scale_bb': (-1.0, 'Scale factor to apply to global fitting cov. matrix in broadband fits. ( &lt; 0 -&gt; no prior ) ', &lt;type 'float'&gt;), 'do_sed': (True, 'Compute the energy bin-by-bin fits', &lt;type 'bool'&gt;), 'exclude': (None, 'List of sources that will be removed from the model when computing the TS map.', &lt;type 'list'&gt;), 'init_lambda': (0, 'Initial value of damping parameter for newton step size calculation.   A value of zero disables damping.', &lt;type 'float'&gt;), 'max_iter': (30, 'Maximum number of iterations for the Newtons method fitter.', &lt;type 'int'&gt;), 'model': (None, 'Dictionary defining the spatial/spectral properties of the test source. If model is None the test source will be a PointSource with an Index 2 power-law spectrum.', &lt;type 'dict'&gt;), 'nnorm': (10, 'Number of points in the likelihood v. normalization scan', &lt;type 'int'&gt;), 'norm_sigma': (5.0, 'Number of sigma to use for the scan range ', &lt;type 'float'&gt;), 'remake_test_source': (False, 'If true, recomputes the test source image (otherwise just shifts it)', &lt;type 'bool'&gt;), 'st_scan_level': (0, 'Level to which to do ST-based fitting (for testing)', &lt;type 'int'&gt;), 'tol': (0.001, 'Critetia for fit convergence (estimated vertical distance to min &lt; tol )', &lt;type 'float'&gt;), 'tol_type': (0, 'Absoulte (0) or relative (1) criteria for convergence.', &lt;type 'int'&gt;)}, 'tsmap': {'exclude': (None, 'List of sources that will be removed from the model when computing the TS map.', &lt;type 'list'&gt;), 'loge_bounds': (None, 'Restrict the analysis to an energy range (emin,emax) in log10(E/MeV) that is a subset of the analysis energy range. By default the full analysis energy range will be used.  If either emin/emax are None then only an upper/lower bound on the energy range wil be applied.', &lt;type 'list'&gt;), 'make_plots': (False, 'Generate diagnostic plots.', &lt;type 'bool'&gt;), 'max_kernel_radius': (3.0, 'Set the maximum radius of the test source kernel.  Using a smaller value will speed up the TS calculation at the loss of accuracy.', &lt;type 'float'&gt;), 'model': (None, 'Dictionary defining the spatial/spectral properties of the test source. If model is None the test source will be a PointSource with an Index 2 power-law spectrum.', &lt;type 'dict'&gt;), 'multithread': (False, 'Split the calculation across number of processes set by nthread option.', &lt;type 'bool'&gt;), 'nthread': (None, 'Number of processes to create when multithread is True.  If None then one process will be created for each available core.', &lt;type 'int'&gt;), 'write_fits': (True, 'Write the output to a FITS file.', &lt;type 'bool'&gt;), 'write_npy': (True, 'Write the output dictionary to a numpy file.', &lt;type 'bool'&gt;)}}</em><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.defaults" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.delete_source">
<code class="descname">delete_source</code><span class="sig-paren">(</span><em>name</em>, <em>save_template=True</em>, <em>delete_source_map=False</em>, <em>build_fixed_wts=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.delete_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.delete_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a source from the ROI model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>save_template</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Keep the SpatialMap FITS template associated with this
source.</li>
<li><strong>delete_source_map</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Delete the source map associated with this source from the
source maps file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>src</strong> – The deleted source object.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#fermipy.roi_model.Model" title="fermipy.roi_model.Model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Model</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.delete_sources">
<code class="descname">delete_sources</code><span class="sig-paren">(</span><em>cuts=None</em>, <em>distance=None</em>, <em>skydir=None</em>, <em>minmax_ts=None</em>, <em>minmax_npred=None</em>, <em>exclude=None</em>, <em>square=False</em>, <em>names=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.delete_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.delete_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete sources in the ROI model satisfying the given
selection criteria.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cuts</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary of [min,max] selections on source properties.</li>
<li><strong>distance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Cut on angular distance from <code class="docutils literal notranslate"><span class="pre">skydir</span></code>.  If None then no
selection will be applied.</li>
<li><strong>skydir</strong> (<a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v3.2.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SkyCoord</span></code></a>) – Reference sky coordinate for <code class="docutils literal notranslate"><span class="pre">distance</span></code> selection.  If
None then the distance selection will be applied with
respect to the ROI center.</li>
<li><strong>minmax_ts</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Select sources that have TS in the range [min,max].  If
either min or max are None then only a lower (upper) bound
will be applied.  If this parameter is none no selection
will be applied.</li>
<li><strong>minmax_npred</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Select sources that have npred in the range [min,max].  If
either min or max are None then only a lower (upper) bound
will be applied.  If this parameter is none no selection
will be applied.</li>
<li><strong>square</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Switch between applying a circular or square (ROI-like)
selection on the maximum projected distance from the ROI
center.</li>
<li><strong>names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Select sources matching a name in this list.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>srcs</strong> – A list of <a class="reference internal" href="#fermipy.roi_model.Model" title="fermipy.roi_model.Model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Model</span></code></a> objects.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.delete_workdir">
<code class="descname">delete_workdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.delete_workdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.delete_workdir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.energies">
<code class="descname">energies</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.energies" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the energy bin edges in MeV.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.enumbins">
<code class="descname">enumbins</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.enumbins" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of energy bins.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.extension">
<code class="descname">extension</code><span class="sig-paren">(</span><em>name</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.extension" title="Permalink to this definition">¶</a></dt>
<dd><p>Test this source for spatial extension with the likelihood
ratio method (TS_ext).  This method will substitute an
extended spatial model for the given source and perform a
one-dimensional scan of the spatial extension parameter over
the range specified with the width parameters.  The 1-D
profile likelihood is then used to compute the best-fit value,
upper limit, and TS for extension.  The nuisance parameters
that will be simultaneously fit when performing the spatial
scan can be controlled with the <code class="docutils literal notranslate"><span class="pre">fix_shape</span></code>,
<code class="docutils literal notranslate"><span class="pre">free_background</span></code>, and <code class="docutils literal notranslate"><span class="pre">free_radius</span></code> options.  By default
the position of the source will be fixed to its current
position.  A simultaneous fit to position and extension can be
performed by setting <code class="docutils literal notranslate"><span class="pre">fit_position</span></code> to True.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>fit_ebin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Perform a fit for the angular extension in each analysis
energy bin. (default : False)</li>
<li><strong>fit_position</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Perform a simultaneous fit to the source position and
extension. (default : False)</li>
<li><strong>fix_shape</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Fix spectral shape parameters of the source of interest. If
True then only the normalization parameter will be fit.
(default : False)</li>
<li><strong>free_background</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Leave background parameters free when performing the fit. If
True then any parameters that are currently free in the
model will be fit simultaneously with the source of
interest. (default : False)</li>
<li><strong>free_radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Free normalizations of background sources within this
angular distance in degrees from the source of interest.  If
None then no sources will be freed. (default : None)</li>
<li><strong>make_plots</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Generate diagnostic plots. (default : False)</li>
<li><strong>make_tsmap</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Make a TS map for the source of interest. (default : True)</li>
<li><strong>psf_scale_fn</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a>) – Tuple of two vectors (logE,f) defining an energy-dependent
PSF scaling function that will be applied when building
spatial models for the source of interest.  The tuple
(logE,f) defines the fractional corrections f at the
sequence of energies logE = log10(E/MeV) where f=0
corresponds to no correction.  The correction function f(E)
is evaluated by linearly interpolating the fractional
correction factors f in log(E).  The corrected PSF is given
by P’(x;E) = P(x/(1+f(E));E) where x is the angular
separation. (default : None)</li>
<li><strong>save_model_map</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Save model counts cubes for the best-fit model of extension.
(default : False)</li>
<li><strong>spatial_model</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Spatial model that will be used to test the sourceextension.
The spatial scale parameter of the model will be set such
that the 68% containment radius of the model is equal to the
width parameter. (default : RadialGaussian)</li>
<li><strong>sqrt_ts_threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Threshold on sqrt(TS_ext) that will be applied when
<code class="docutils literal notranslate"><span class="pre">update</span></code> is True.  If None then nothreshold is applied.
(default : None)</li>
<li><strong>tsmap_fitter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Set the method for generating the TS map.  Valid options are
tsmap or tscube. (default : tsmap)</li>
<li><strong>update</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Update this source with the best-fit model for spatial
extension if TS_ext &gt; <code class="docutils literal notranslate"><span class="pre">tsext_threshold</span></code>. (default : False)</li>
<li><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Sequence of values in degrees for the likelihood scan over
spatial extension (68% containment radius).  If this
argument is None then the scan points will be determined
from width_min/width_max/width_nstep. (default : None)</li>
<li><strong>width_max</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Maximum value in degrees for the likelihood scan over
spatial extent. (default : 1.0)</li>
<li><strong>width_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Minimum value in degrees for the likelihood scan over
spatial extent. (default : 0.01)</li>
<li><strong>width_nstep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of scan points between width_min and width_max. Scan
points will be spaced evenly on a logarithmic scale between
<code class="xref py py-obj docutils literal notranslate"><span class="pre">width_min</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">width_max</span></code>. (default : 21)</li>
<li><strong>write_fits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Write the output to a FITS file. (default : True)</li>
<li><strong>write_npy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Write the output dictionary to a numpy file. (default :
True)</li>
<li><strong>optimizer</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary that overrides the default optimizer settings.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>extension</strong> – Dictionary containing results of the extension analysis.  The same
dictionary is also saved to the dictionary of this source under
‘extension’.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.files">
<code class="descname">files</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.find_sources">
<code class="descname">find_sources</code><span class="sig-paren">(</span><em>prefix=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.find_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>An iterative source-finding algorithm that uses likelihood
ratio (TS) maps of the region of interest to find new sources.
After each iteration a new TS map is generated incorporating
sources found in the previous iteration.  The method stops
when the number of iterations exceeds <code class="docutils literal notranslate"><span class="pre">max_iter</span></code> or no
sources exceeding <code class="docutils literal notranslate"><span class="pre">sqrt_ts_threshold</span></code> are found.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>free_params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – (default : None)</li>
<li><strong>max_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Maximum number of source finding iterations.  The source
finder will continue adding sources until no additional
peaks are found or the number of iterations exceeds this
number. (default : 5)</li>
<li><strong>min_separation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Minimum separation in degrees between sources detected in
each iteration. The source finder will look for the maximum
peak in the TS map within a circular region of this radius.
(default : 1.0)</li>
<li><strong>model</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary defining the spatial/spectral properties of the
test source. If model is None the test source will be a
PointSource with an Index 2 power-law spectrum. (default :
None)</li>
<li><strong>multithread</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Split the calculation across number of processes set by
nthread option. (default : False)</li>
<li><strong>nthread</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of processes to create when multithread is True.  If
None then one process will be created for each available
core. (default : None)</li>
<li><strong>sources_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Maximum number of sources that will be added in each
iteration.  If the number of detected peaks in a given
iteration is larger than this number, only the N peaks with
the largest TS will be used as seeds for the current
iteration. (default : 4)</li>
<li><strong>sqrt_ts_threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Source threshold in sqrt(TS).  Only peaks with sqrt(TS)
exceeding this threshold will be used as seeds for new
sources. (default : 5.0)</li>
<li><strong>tsmap_fitter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Set the method for generating the TS map.  Valid options are
tsmap or tscube. (default : tsmap)</li>
<li><strong>tsmap</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Keyword arguments dictionary for tsmap method.</li>
<li><strong>tscube</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Keyword arguments dictionary for tscube method.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>peaks</strong> (<em>list</em>) – List of peak objects.</li>
<li><strong>sources</strong> (<em>list</em>) – List of source objects.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>update=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the likelihood optimization.  This will execute a fit of all
parameters that are currently free in the model and update the
charateristics of the corresponding model components (TS,
npred, etc.).  The fit will be repeated N times (set with the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">retries</span></code> parameter) until a fit quality greater than or equal
to <code class="xref py py-obj docutils literal notranslate"><span class="pre">min_fit_quality</span></code> and a fit status code of 0 is obtained.
If the fit does not succeed after N retries then all parameter
values will be reverted to their state prior to the execution
of the fit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>update</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Update the model dictionary for all sources with free
parameters.</li>
<li><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Set the optimizer tolerance.</li>
<li><strong>verbosity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Set the optimizer output level.</li>
<li><strong>optimizer</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Set the likelihood optimizer (e.g. MINUIT or NEWMINUIT).</li>
<li><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Set the number of times to rerun the fit when the fit quality
is &lt; 3.</li>
<li><strong>min_fit_quality</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Set the minimum fit quality.  If the fit quality is smaller
than this value then all model parameters will be
restored to their values prior to the fit.</li>
<li><strong>reoptimize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Refit background sources when updating source properties
(TS and likelihood profiles).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fit</strong> – Dictionary containing diagnostic information from the fit
(fit quality, parameter covariances, etc.).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.fit_correlation">
<code class="descname">fit_correlation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.fit_correlation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.fit_correlation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.free_index">
<code class="descname">free_index</code><span class="sig-paren">(</span><em>name</em>, <em>free=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.free_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.free_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Free/Fix index of a source.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>free</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Choose whether to free (free=True) or fix (free=False).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.free_norm">
<code class="descname">free_norm</code><span class="sig-paren">(</span><em>name</em>, <em>free=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.free_norm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.free_norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Free/Fix normalization of a source.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>free</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Choose whether to free (free=True) or fix (free=False).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.free_parameter">
<code class="descname">free_parameter</code><span class="sig-paren">(</span><em>name</em>, <em>par</em>, <em>free=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.free_parameter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.free_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Free/Fix a parameter of a source by name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>par</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Parameter name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.free_shape">
<code class="descname">free_shape</code><span class="sig-paren">(</span><em>name</em>, <em>free=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.free_shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.free_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Free/Fix shape parameters of a source.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>free</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Choose whether to free (free=True) or fix (free=False).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.free_source">
<code class="descname">free_source</code><span class="sig-paren">(</span><em>name</em>, <em>free=True</em>, <em>pars=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.free_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.free_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Free/Fix parameters of a source.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>free</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Choose whether to free (free=True) or fix (free=False)
source parameters.</li>
<li><strong>pars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Set a list of parameters to be freed/fixed for this source.  If
none then all source parameters will be freed/fixed with the
exception of those defined in the skip_pars list.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.free_sources">
<code class="descname">free_sources</code><span class="sig-paren">(</span><em>free=True</em>, <em>pars=None</em>, <em>cuts=None</em>, <em>distance=None</em>, <em>skydir=None</em>, <em>minmax_ts=None</em>, <em>minmax_npred=None</em>, <em>exclude=None</em>, <em>square=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.free_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.free_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Free or fix sources in the ROI model satisfying the given
selection.  When multiple selections are defined, the selected
sources will be those satisfying the logical AND of all
selections (e.g. distance &lt; X &amp;&amp; minmax_ts[0] &lt; ts &lt;
minmax_ts[1] &amp;&amp; …).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>free</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Choose whether to free (free=True) or fix (free=False)
source parameters.</li>
<li><strong>pars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Set a list of parameters to be freed/fixed for each
source.  If none then all source parameters will be
freed/fixed.  If pars=’norm’ then only normalization
parameters will be freed.</li>
<li><strong>cuts</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary of [min,max] selections on source properties.</li>
<li><strong>distance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Cut on angular distance from <code class="docutils literal notranslate"><span class="pre">skydir</span></code>.  If None then no
selection will be applied.</li>
<li><strong>skydir</strong> (<a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v3.2.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SkyCoord</span></code></a>) – Reference sky coordinate for <code class="docutils literal notranslate"><span class="pre">distance</span></code> selection.  If
None then the distance selection will be applied with
respect to the ROI center.</li>
<li><strong>minmax_ts</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Free sources that have TS in the range [min,max].  If
either min or max are None then only a lower (upper) bound
will be applied.  If this parameter is none no selection
will be applied.</li>
<li><strong>minmax_npred</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Free sources that have npred in the range [min,max].  If
either min or max are None then only a lower (upper) bound
will be applied.  If this parameter is none no selection
will be applied.</li>
<li><strong>exclude</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Names of sources that will be excluded from the selection.</li>
<li><strong>square</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Switch between applying a circular or square (ROI-like)
selection on the maximum projected distance from the ROI
center.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>srcs</strong> – A list of <a class="reference internal" href="#fermipy.roi_model.Model" title="fermipy.roi_model.Model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Model</span></code></a> objects.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.free_sources_by_name">
<code class="descname">free_sources_by_name</code><span class="sig-paren">(</span><em>names</em>, <em>free=True</em>, <em>pars=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.free_sources_by_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.free_sources_by_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Free all sources with names matching <code class="docutils literal notranslate"><span class="pre">names</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – List of source names.</li>
<li><strong>free</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Choose whether to free (free=True) or fix (free=False)
source parameters.</li>
<li><strong>pars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Set a list of parameters to be freed/fixed for each
source.  If none then all source parameters will be
freed/fixed.  If pars=’norm’ then only normalization
parameters will be freed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>srcs</strong> – A list of <a class="reference internal" href="#fermipy.roi_model.Model" title="fermipy.roi_model.Model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Model</span></code></a> objects.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.generate_model">
<code class="descname">generate_model</code><span class="sig-paren">(</span><em>model_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.generate_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.generate_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate model maps for all components.  model_name should
be a unique identifier for the model.  If model_name is None
then the model maps will be generated using the current
parameters of the ROI.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.geom">
<code class="descname">geom</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.geom" title="Permalink to this definition">¶</a></dt>
<dd><p>ROI geometry.</p>
</dd></dl>

<dl class="classmethod">
<dt id="fermipy.gtanalysis.GTAnalysis.get_config">
<em class="property">classmethod </em><code class="descname">get_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.get_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a default configuration dictionary for this class.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.get_free_param_vector">
<code class="descname">get_free_param_vector</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.get_free_param_vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.get_free_param_vector" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.get_free_source_params">
<code class="descname">get_free_source_params</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.get_free_source_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.get_free_source_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.get_norm">
<code class="descname">get_norm</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.get_norm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.get_norm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>freeonly=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.get_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.get_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.get_source_dnde">
<code class="descname">get_source_dnde</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.get_source_dnde"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.get_source_dnde" title="Permalink to this definition">¶</a></dt>
<dd><p>Return differential flux distribution of a source.  For
sources with FileFunction spectral type this returns the
internal differential flux array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>loge</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of energies at which the differential flux is
evaluated (log10(E/MeV)).</li>
<li><strong>dnde</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of differential flux values (cm^{-2} s^{-1} MeV^{-1})
evaluated at energies in <code class="docutils literal notranslate"><span class="pre">loge</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.get_source_name">
<code class="descname">get_source_name</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.get_source_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.get_source_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of a source as it is defined in the
pyLikelihood model object.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.get_source_params">
<code class="descname">get_source_params</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.get_source_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.get_source_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.get_sources">
<code class="descname">get_sources</code><span class="sig-paren">(</span><em>cuts=None</em>, <em>distance=None</em>, <em>skydir=None</em>, <em>minmax_ts=None</em>, <em>minmax_npred=None</em>, <em>exclude=None</em>, <em>square=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.get_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.get_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve list of sources in the ROI satisfying the given
selections.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>srcs</strong> – A list of <a class="reference internal" href="#fermipy.roi_model.Model" title="fermipy.roi_model.Model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Model</span></code></a> objects.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.get_src_model">
<code class="descname">get_src_model</code><span class="sig-paren">(</span><em>name</em>, <em>paramsonly=False</em>, <em>reoptimize=False</em>, <em>npts=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.get_src_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.get_src_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Compose a dictionary for a source with the current best-fit
parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – </li>
<li><strong>paramsonly</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Skip computing TS and likelihood profile.</li>
<li><strong>reoptimize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Re-fit background parameters in likelihood scan.</li>
<li><strong>npts</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of points for likelihood scan.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>src_dict</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.lightcurve">
<code class="descname">lightcurve</code><span class="sig-paren">(</span><em>name</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.lightcurve" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a lightcurve for the named source. The function will
complete the basic analysis steps for each bin and perform a
likelihood fit for each bin. Extracted values (along with
errors) are Integral Flux, spectral model, Spectral index, TS
value, pred. # of photons. Note: successful calculation of
TS:subscript:<code class="xref py py-obj docutils literal notranslate"><span class="pre">var</span></code> requires at least one free background
parameter and a previously optimized ROI model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – source name</li>
<li><strong>binsz</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Set the lightcurve bin size in seconds. (default : 86400.0)</li>
<li><strong>free_background</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Leave background parameters free when performing the fit. If
True then any parameters that are currently free in the
model will be fit simultaneously with the source of
interest. (default : False)</li>
<li><strong>free_params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Set the parameters of the source of interest that will be
re-fit in each time bin. If this list is empty then all
parameters will be freed. (default : None)</li>
<li><strong>free_radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Free normalizations of background sources within this
angular distance in degrees from the source of interest.  If
None then no sources will be freed. (default : None)</li>
<li><strong>free_sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – List of sources to be freed.  These sources will be added to
the list of sources satisfying the free_radius selection.
(default : None)</li>
<li><strong>make_plots</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Generate diagnostic plots. (default : False)</li>
<li><strong>max_free_sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Maximum number of sources that will be fit simultaneously
with the source of interest. (default : 5)</li>
<li><strong>multithread</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Split the calculation across number of processes set by
nthread option. (default : False)</li>
<li><strong>nbins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Set the number of lightcurve bins.  The total time range
will be evenly split into this number of time bins. (default
: None)</li>
<li><strong>nthread</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of processes to create when multithread is True.  If
None then one process will be created for each available
core. (default : None)</li>
<li><strong>outdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Store all data in this directory (e.g. “30days”). If None
then use current directory. (default : None)</li>
<li><strong>save_bin_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Save analysis directories for individual time bins.  If
False then only the analysis results table will be saved.
(default : True)</li>
<li><strong>shape_ts_threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Set the TS threshold at which shape parameters of sources
will be freed.  If a source is detected with TS less than
this value then its shape parameters will be fixed to values
derived from the analysis of the full time range. (default :
16.0)</li>
<li><strong>systematic</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Systematic correction factor for TS:subscript:<code class="xref py py-obj docutils literal notranslate"><span class="pre">var</span></code>. See
Sect. 3.6 in 2FGL for details. (default : 0.02)</li>
<li><strong>time_bins</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Set the lightcurve bin edge sequence in MET.  This option
takes precedence over binsz and nbins. (default : None)</li>
<li><strong>use_local_ltcube</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Generate a fast LT cube. (default : True)</li>
<li><strong>use_scaled_srcmap</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Generate approximate source maps for each time bin by
scaling the current source maps by the exposure ratio with
respect to that time bin. (default : False)</li>
<li><strong>write_fits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Write the output to a FITS file. (default : True)</li>
<li><strong>write_npy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Write the output dictionary to a numpy file. (default :
True)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>LightCurve</strong> – Dictionary containing output of the LC analysis</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.like">
<code class="descname">like</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.like" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the global likelihood object.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.load_parameters_from_yaml">
<code class="descname">load_parameters_from_yaml</code><span class="sig-paren">(</span><em>yamlfile</em>, <em>update_sources=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.load_parameters_from_yaml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.load_parameters_from_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Load model parameters from yaml</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>yamlfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name of the input yaml file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.load_roi">
<code class="descname">load_roi</code><span class="sig-paren">(</span><em>infile</em>, <em>reload_sources=False</em>, <em>params=None</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.load_roi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.load_roi" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reloads the analysis state from a previously
saved instance generated with
<a class="reference internal" href="#fermipy.gtanalysis.GTAnalysis.write_roi" title="fermipy.gtanalysis.GTAnalysis.write_roi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_roi</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>infile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – </li>
<li><strong>reload_sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Regenerate source maps for non-diffuse sources.</li>
<li><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to a yaml file with updated parameter values</li>
<li><strong>mask</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to a fits file with an updated mask</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.load_xml">
<code class="descname">load_xml</code><span class="sig-paren">(</span><em>xmlfile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.load_xml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.load_xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Load model definition from XML.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>xmlfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name of the input XML file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.localize">
<code class="descname">localize</code><span class="sig-paren">(</span><em>name</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.localize" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the best-fit position of a source.  Localization is
performed in two steps.  First a TS map is computed centered
on the source with half-width set by <code class="docutils literal notranslate"><span class="pre">dtheta_max</span></code>.  A fit is
then performed to the maximum TS peak in this map.  The source
position is then further refined by scanning the likelihood in
the vicinity of the peak found in the first step.  The size of
the scan region is set to encompass the 99% positional
uncertainty contour as determined from the peak fit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>dtheta_max</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Half-width of the search region in degrees used for the
first pass of the localization search. (default : 0.5)</li>
<li><strong>fix_shape</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Fix spectral shape parameters of the source of interest. If
True then only the normalization parameter will be fit.
(default : False)</li>
<li><strong>free_background</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Leave background parameters free when performing the fit. If
True then any parameters that are currently free in the
model will be fit simultaneously with the source of
interest. (default : False)</li>
<li><strong>free_radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Free normalizations of background sources within this
angular distance in degrees from the source of interest.  If
None then no sources will be freed. (default : None)</li>
<li><strong>make_plots</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Generate diagnostic plots. (default : False)</li>
<li><strong>nstep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of steps in longitude/latitude that will be taken
when refining the source position.  The bounds of the scan
range are set to the 99% positional uncertainty as
determined from the TS map peak fit.  The total number of
sampling points will be nstep**2. (default : 5)</li>
<li><strong>tsmap_fitter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Set the method for generating the TS map.  Valid options are
tsmap or tscube. (default : tsmap)</li>
<li><strong>update</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Update the source model with the best-fit position. (default
: True)</li>
<li><strong>write_fits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Write the output to a FITS file. (default : True)</li>
<li><strong>write_npy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Write the output dictionary to a numpy file. (default :
True)</li>
<li><strong>optimizer</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary that overrides the default optimizer settings.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>localize</strong> – Dictionary containing results of the localization
analysis.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.lock_parameter">
<code class="descname">lock_parameter</code><span class="sig-paren">(</span><em>name</em>, <em>par</em>, <em>lock=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.lock_parameter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.lock_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Set parameter to locked/unlocked state.  A locked parameter
will be ignored when running methods that free/fix sources or
parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>par</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Parameter name.</li>
<li><strong>lock</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Set parameter to locked (True) or unlocked (False) state.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.lock_source">
<code class="descname">lock_source</code><span class="sig-paren">(</span><em>name</em>, <em>lock=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.lock_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.lock_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Set all parameters of a source to a locked/unlocked state.
Locked parameters will be ignored when running methods that
free/fix sources or parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>lock</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Set source parameters to locked (True) or unlocked (False)
state.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.log_energies">
<code class="descname">log_energies</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.log_energies" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the energy bin edges in log10(E/MeV).</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.loge_bounds">
<code class="descname">loge_bounds</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.loge_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Current analysis energy bounds in log10(E/MeV).</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.logger">
<code class="descname">logger</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the default loglevel.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.loglevel">
<code class="descname">loglevel</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.loglevel" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the default loglevel.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.make_plots">
<code class="descname">make_plots</code><span class="sig-paren">(</span><em>prefix</em>, <em>mcube_map=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.make_plots"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.make_plots" title="Permalink to this definition">¶</a></dt>
<dd><p>Make diagnostic plots using the current ROI model.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.make_template">
<code class="descname">make_template</code><span class="sig-paren">(</span><em>src</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.make_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.make_template" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.model_counts_map">
<code class="descname">model_counts_map</code><span class="sig-paren">(</span><em>name=None</em>, <em>exclude=None</em>, <em>use_mask=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.model_counts_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.model_counts_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the model counts map for a single source, a list of
sources, or for the sum of all sources in the ROI.  The
exclude parameter can be used to exclude one or more
components when generating the model map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em> or </em><em>list of str</em>) – Parameter controlling the set of sources for which the
model counts map will be calculated.  If name=None the
model map will be generated for all sources in the ROI.</li>
<li><strong>exclude</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em> or </em><em>list of str</em>) – List of sources that will be excluded when calculating the
model map.</li>
<li><strong>use_mask</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Parameter that specifies in the model counts map should include
mask pixels (i.e., ones whose weights are &lt;= 0)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.model_counts_spectrum">
<code class="descname">model_counts_spectrum</code><span class="sig-paren">(</span><em>name</em>, <em>logemin=None</em>, <em>logemax=None</em>, <em>summed=False</em>, <em>weighted=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.model_counts_spectrum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.model_counts_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the predicted number of model counts versus energy
for a given source and energy range.  If summed=True return
the counts spectrum summed over all components otherwise
return a list of model spectra.   If weighted=True return
the weighted version of the counts spectrum</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.npix">
<code class="descname">npix</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.npix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of energy bins.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.optimize">
<code class="descname">optimize</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.optimize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Iteratively optimize the ROI model.  The optimization is
performed in three sequential steps:</p>
<ul class="simple">
<li>Free the normalization of the N largest components (as
determined from NPred) that contain a fraction <code class="docutils literal notranslate"><span class="pre">npred_frac</span></code>
of the total predicted counts in the model and perform a
simultaneous fit of the normalization parameters of these
components.</li>
<li>Individually fit the normalizations of all sources that were
not included in the first step in order of their npred
values.  Skip any sources that have NPred &lt;
<code class="docutils literal notranslate"><span class="pre">npred_threshold</span></code>.</li>
<li>Individually fit the shape and normalization parameters of
all sources with TS &gt; <code class="docutils literal notranslate"><span class="pre">shape_ts_threshold</span></code> where TS is
determined from the first two steps of the ROI optimization.</li>
</ul>
<p>To ensure that the model is fully optimized this method can be
run multiple times.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>npred_frac</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Threshold on the fractional number of counts in the N
largest components in the ROI.  This parameter determines
the set of sources that are fit in the first optimization
step.</li>
<li><strong>npred_threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Threshold on the minimum number of counts of individual
sources.  This parameter determines the sources that are
fit in the second optimization step.</li>
<li><strong>shape_ts_threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Threshold on source TS used for determining the sources
that will be fit in the third optimization step.</li>
<li><strong>max_free_sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Maximum number of sources that will be fit simultaneously
in the first optimization step.</li>
<li><strong>skip</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – List of str source names to skip while optimizing.</li>
<li><strong>optimizer</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary that overrides the default optimizer settings.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.outdir">
<code class="descname">outdir</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.outdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the analysis output directory.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.plotter">
<code class="descname">plotter</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.plotter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the plotter instance.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.print_config">
<code class="descname">print_config</code><span class="sig-paren">(</span><em>logger</em>, <em>loglevel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.print_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.print_model">
<code class="descname">print_model</code><span class="sig-paren">(</span><em>loglevel=20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.print_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.print_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.print_params">
<code class="descname">print_params</code><span class="sig-paren">(</span><em>allpars=False</em>, <em>loglevel=20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.print_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.print_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Print information about the model parameters (values,
errors, bounds, scale).</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.print_roi">
<code class="descname">print_roi</code><span class="sig-paren">(</span><em>loglevel=20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.print_roi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.print_roi" title="Permalink to this definition">¶</a></dt>
<dd><p>Print information about the spectral and spatial properties
of the ROI (sources, diffuse components).</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.profile">
<code class="descname">profile</code><span class="sig-paren">(</span><em>name</em>, <em>parName</em>, <em>logemin=None</em>, <em>logemax=None</em>, <em>reoptimize=False</em>, <em>xvals=None</em>, <em>npts=None</em>, <em>savestate=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Profile the likelihood for the given source and parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>parName</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Parameter name.</li>
<li><strong>reoptimize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Re-fit nuisance parameters at each step in the scan.  Note
that enabling this option will only re-fit parameters that
were free when the method was executed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>lnlprofile</strong> – Dictionary containing results of likelihood scan.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.profile_norm">
<code class="descname">profile_norm</code><span class="sig-paren">(</span><em>name</em>, <em>logemin=None</em>, <em>logemax=None</em>, <em>reoptimize=False</em>, <em>xvals=None</em>, <em>npts=None</em>, <em>fix_shape=True</em>, <em>savestate=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.profile_norm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.profile_norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Profile the normalization of a source.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>reoptimize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Re-optimize free parameters in the model at each point
in the profile likelihood scan.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.projtype">
<code class="descname">projtype</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.projtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the type of projection to use</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.reload_source">
<code class="descname">reload_source</code><span class="sig-paren">(</span><em>name</em>, <em>init_source=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.reload_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.reload_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete and reload a source in the model.  This will update
the spatial model of this source to the one defined in the XML
model.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.reload_sources">
<code class="descname">reload_sources</code><span class="sig-paren">(</span><em>names</em>, <em>init_source=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.reload_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.reload_sources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.remove_prior">
<code class="descname">remove_prior</code><span class="sig-paren">(</span><em>name</em>, <em>parName</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.remove_prior"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.remove_prior" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.remove_priors">
<code class="descname">remove_priors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.remove_priors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.remove_priors" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear all priors.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.residmap">
<code class="descname">residmap</code><span class="sig-paren">(</span><em>prefix=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.residmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate 2-D spatial residual maps using the current ROI
model and the convolution kernel defined with the <code class="xref py py-obj docutils literal notranslate"><span class="pre">model</span></code>
argument.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – String that will be prefixed to the output residual map files.</li>
<li><strong>exclude</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – List of sources that will be removed from the model when
computing the residual map. (default : None)</li>
<li><strong>loge_bounds</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Restrict the analysis to an energy range (emin,emax) in
log10(E/MeV) that is a subset of the analysis energy range.
By default the full analysis energy range will be used.  If
either emin/emax are None then only an upper/lower bound on
the energy range wil be applied. (default : None)</li>
<li><strong>make_plots</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Generate diagnostic plots. (default : False)</li>
<li><strong>model</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary defining the spatial/spectral properties of the
test source. If model is None the test source will be a
PointSource with an Index 2 power-law spectrum. (default :
None)</li>
<li><strong>use_weights</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Used weighted version of maps in making plots. (default :
False)</li>
<li><strong>write_fits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Write the output to a FITS file. (default : True)</li>
<li><strong>write_npy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Write the output dictionary to a numpy file. (default :
True)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>maps</strong> – A dictionary containing the <code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code> objects
for the residual significance and amplitude.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.roi">
<code class="descname">roi</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.roi" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ROI object.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.scale_parameter">
<code class="descname">scale_parameter</code><span class="sig-paren">(</span><em>name</em>, <em>par</em>, <em>scale</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.scale_parameter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.scale_parameter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.schema">
<code class="descname">schema</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the configuration schema of this class.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.sed">
<code class="descname">sed</code><span class="sig-paren">(</span><em>name</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.sed" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a spectral energy distribution (SED) for a source.  This
function will fit the normalization of the source in each
energy bin.  By default the SED will be generated with the
analysis energy bins but a custom binning can be defined with
the <code class="docutils literal notranslate"><span class="pre">loge_bins</span></code> parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Optional string that will be prepended to all output files
(FITS and rendered images).</li>
<li><strong>loge_bins</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Sequence of energies in log10(E/MeV) defining the edges of
the energy bins.  If this argument is None then the
analysis energy bins will be used.  The energies in this
sequence must align with the bin edges of the underyling
analysis instance.</li>
<li><strong>bin_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Spectral index that will be use when fitting the energy
distribution within an energy bin. (default : 2.0)</li>
<li><strong>cov_scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Scale factor that sets the strength of the prior on nuisance
parameters that are free.  Setting this to None disables the
prior. (default : 3.0)</li>
<li><strong>free_background</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Leave background parameters free when performing the fit. If
True then any parameters that are currently free in the
model will be fit simultaneously with the source of
interest. (default : False)</li>
<li><strong>free_pars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Set the parameters of the source of interest that will be
freed when performing the global fit.  By default all
parameters will be freed. (default : None)</li>
<li><strong>free_radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Free normalizations of background sources within this
angular distance in degrees from the source of interest.  If
None then no sources will be freed. (default : None)</li>
<li><strong>make_plots</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Generate diagnostic plots. (default : False)</li>
<li><strong>ul_confidence</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Confidence level for flux upper limit. (default : 0.95)</li>
<li><strong>use_local_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Use a power-law approximation to the shape of the global
spectrum in each bin.  If this is false then a constant
index set to <code class="xref py py-obj docutils literal notranslate"><span class="pre">bin_index</span></code> will be used. (default : False)</li>
<li><strong>write_fits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Write the output to a FITS file. (default : True)</li>
<li><strong>write_npy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Write the output dictionary to a numpy file. (default :
True)</li>
<li><strong>optimizer</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary that overrides the default optimizer settings.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>sed</strong> – Dictionary containing output of the SED analysis.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.set_edisp_flag">
<code class="descname">set_edisp_flag</code><span class="sig-paren">(</span><em>name</em>, <em>flag=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.set_edisp_flag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.set_edisp_flag" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable or disable the energy dispersion correction for the
given source.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.set_energy_range">
<code class="descname">set_energy_range</code><span class="sig-paren">(</span><em>logemin</em>, <em>logemax</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.set_energy_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.set_energy_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the energy bounds of the analysis.  This restricts the
evaluation of the likelihood to the data that falls in this
range.  Input values will be rounded to the closest bin edge
value.  If either argument is None then the lower or upper
bound of the analysis instance will be used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>logemin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Lower energy bound in log10(E/MeV).</li>
<li><strong>logemax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Upper energy bound in log10(E/MeV).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>eminmax</strong> – Minimum and maximum energy in log10(E/MeV).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.set_free_param_vector">
<code class="descname">set_free_param_vector</code><span class="sig-paren">(</span><em>free</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.set_free_param_vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.set_free_param_vector" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.set_log_level">
<code class="descname">set_log_level</code><span class="sig-paren">(</span><em>level</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.set_log_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.set_log_level" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.set_norm">
<code class="descname">set_norm</code><span class="sig-paren">(</span><em>name</em>, <em>value</em>, <em>update_source=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.set_norm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.set_norm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.set_norm_bounds">
<code class="descname">set_norm_bounds</code><span class="sig-paren">(</span><em>name</em>, <em>bounds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.set_norm_bounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.set_norm_bounds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.set_norm_scale">
<code class="descname">set_norm_scale</code><span class="sig-paren">(</span><em>name</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.set_norm_scale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.set_norm_scale" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.set_parameter">
<code class="descname">set_parameter</code><span class="sig-paren">(</span><em>name</em>, <em>par</em>, <em>value</em>, <em>true_value=True</em>, <em>scale=None</em>, <em>bounds=None</em>, <em>error=None</em>, <em>update_source=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.set_parameter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.set_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the value of a parameter.  Parameter bounds will
automatically be adjusted to encompass the new parameter
value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>par</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Parameter name.</li>
<li><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Parameter value.  By default this argument should be the
unscaled (True) parameter value.</li>
<li><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Parameter scale (optional).  Value argument is interpreted
with respect to the scale parameter if it is provided.</li>
<li><strong>error</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Parameter error (optional).  By default this argument should be the
unscaled (True) parameter value.</li>
<li><strong>update_source</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Update the source dictionary for the object.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.set_parameter_bounds">
<code class="descname">set_parameter_bounds</code><span class="sig-paren">(</span><em>name</em>, <em>par</em>, <em>bounds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.set_parameter_bounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.set_parameter_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the bounds on the scaled value of a parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>par</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Parameter name.</li>
<li><strong>bounds</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Upper and lower bound.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.set_parameter_error">
<code class="descname">set_parameter_error</code><span class="sig-paren">(</span><em>name</em>, <em>par</em>, <em>error</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.set_parameter_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.set_parameter_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the error on the value of a parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>par</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Parameter name.</li>
<li><strong>error</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – The value for the parameter error</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.set_parameter_scale">
<code class="descname">set_parameter_scale</code><span class="sig-paren">(</span><em>name</em>, <em>par</em>, <em>scale</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.set_parameter_scale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.set_parameter_scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the scale of a parameter while keeping its value constant.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.set_random_seed">
<code class="descname">set_random_seed</code><span class="sig-paren">(</span><em>seed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.set_random_seed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.set_random_seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the seed for the random number generator</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.set_source_dnde">
<code class="descname">set_source_dnde</code><span class="sig-paren">(</span><em>name</em>, <em>dnde</em>, <em>update_source=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.set_source_dnde"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.set_source_dnde" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the differential flux distribution of a source with the
FileFunction spectral type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>dnde</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of differential flux values (cm^{-2} s^{-1} MeV^{-1}).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.set_source_morphology">
<code class="descname">set_source_morphology</code><span class="sig-paren">(</span><em>name</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.set_source_morphology"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.set_source_morphology" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the spatial model of a source.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>spatial_model</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Spatial model name (PointSource, RadialGaussian, etc.).</li>
<li><strong>spatial_pars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary of spatial parameters (optional).</li>
<li><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Generate the spatial model by interpolating the cached source
map.</li>
<li><strong>use_pylike</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.set_source_spectrum">
<code class="descname">set_source_spectrum</code><span class="sig-paren">(</span><em>name</em>, <em>spectrum_type='PowerLaw'</em>, <em>spectrum_pars=None</em>, <em>update_source=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.set_source_spectrum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.set_source_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the spectral model of a source.  This function can be
used to change the spectral type of a source or modify its
spectral parameters.  If called with
spectrum_type=’FileFunction’ and spectrum_pars=None, the
source spectrum will be replaced with a FileFunction with the
same differential flux distribution as the original spectrum.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>spectrum_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Spectrum type (PowerLaw, etc.).</li>
<li><strong>spectrum_pars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary of spectral parameters (optional).</li>
<li><strong>update_source</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Recompute all source characteristics (flux, TS, NPred)
using the new spectral model of the source.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.set_weights_map">
<code class="descname">set_weights_map</code><span class="sig-paren">(</span><em>wmap</em>, <em>update_roi=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.set_weights_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.set_weights_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><em>init_sources=True</em>, <em>overwrite=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Run pre-processing for each analysis component and
construct a joint likelihood object.  This function performs
the following tasks: data selection (gtselect, gtmktime),
data binning (gtbin), and model generation (gtexpcube2,gtsrcmaps).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>init_sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Choose whether to compute properties (flux, TS, etc.) for
individual sources.</li>
<li><strong>overwrite</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Run all pre-processing steps even if the output file of
that step is present in the working directory.  By default
this function will skip any steps for which the output file
already exists.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.simulate_roi">
<code class="descname">simulate_roi</code><span class="sig-paren">(</span><em>name=None</em>, <em>randomize=True</em>, <em>restore=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.simulate_roi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.simulate_roi" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a simulation of the ROI using the current best-fit model
and replace the data counts cube with this simulation.  The
simulation is created by generating an array of Poisson random
numbers with expectation values drawn from the model cube of
the binned analysis instance.  This function will update the
counts cube both in memory and in the source map file.  The
counts cube can be restored to its original state by calling
this method with <code class="docutils literal notranslate"><span class="pre">restore</span></code> = True.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name of the model component to be simulated.  If None then
the whole ROI will be simulated.</li>
<li><strong>restore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Restore the data counts cube to its original state.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.simulate_source">
<code class="descname">simulate_source</code><span class="sig-paren">(</span><em>src_dict=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.simulate_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.simulate_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Inject simulated source counts into the data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary defining the spatial and spectral properties of
the source that will be injected.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.stage_input">
<code class="descname">stage_input</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.stage_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.stage_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy input files to working directory.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.stage_output">
<code class="descname">stage_output</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.stage_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.stage_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy data products to final output directory.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.tmax">
<code class="descname">tmax</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.tmax" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the MET time for the end of the observation.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.tmin">
<code class="descname">tmin</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.tmin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the MET time for the start of the observation.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.tscube">
<code class="descname">tscube</code><span class="sig-paren">(</span><em>prefix=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.tscube" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a spatial TS map for a source component with
properties defined by the <code class="xref py py-obj docutils literal notranslate"><span class="pre">model</span></code> argument.  This method uses
the <code class="xref py py-obj docutils literal notranslate"><span class="pre">gttscube</span></code> ST application for source fitting and will
simultaneously fit the test source normalization as well as
the normalizations of any background components that are
currently free.  The output of this method is a dictionary
containing <a class="reference internal" href="#fermipy.skymap.Map" title="fermipy.skymap.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a> objects with the TS and
amplitude of the best-fit test source.  By default this method
will also save maps to FITS files and render them as image
files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Optional string that will be prepended to all output files
(FITS and rendered images).</li>
<li><strong>model</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary defining the properties of the test source.</li>
<li><strong>do_sed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Compute the energy bin-by-bin fits.</li>
<li><strong>nnorm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of points in the likelihood v. normalization scan.</li>
<li><strong>norm_sigma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Number of sigma to use for the scan range.</li>
<li><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Critetia for fit convergence (estimated vertical distance
to min &lt; tol ).</li>
<li><strong>tol_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Absoulte (0) or relative (1) criteria for convergence.</li>
<li><strong>max_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Maximum number of iterations for the Newton’s method fitter</li>
<li><strong>remake_test_source</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – If true, recomputes the test source image (otherwise just shifts it)</li>
<li><strong>st_scan_level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – </li>
<li><strong>make_plots</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Write image files.</li>
<li><strong>write_fits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Write a FITS file with the results of the analysis.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>maps</strong> – A dictionary containing the <a class="reference internal" href="#fermipy.skymap.Map" title="fermipy.skymap.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a> objects
for TS and source amplitude.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.tsmap">
<code class="descname">tsmap</code><span class="sig-paren">(</span><em>prefix=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.tsmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a spatial TS map for a source component with
properties defined by the <code class="xref py py-obj docutils literal notranslate"><span class="pre">model</span></code> argument.  The TS map will
have the same geometry as the ROI.  The output of this method
is a dictionary containing <a class="reference internal" href="#fermipy.skymap.Map" title="fermipy.skymap.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a> objects with
the TS and amplitude of the best-fit test source.  By default
this method will also save maps to FITS files and render them
as image files.</p>
<p>This method uses a simplified likelihood fitting
implementation that only fits for the normalization of the
test source.  Before running this method it is recommended to
first optimize the ROI model (e.g. by running
<a class="reference internal" href="#fermipy.gtanalysis.GTAnalysis.optimize" title="fermipy.gtanalysis.GTAnalysis.optimize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">optimize()</span></code></a>).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Optional string that will be prepended to all output files.</li>
<li><strong>exclude</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – List of sources that will be removed from the model when
computing the TS map. (default : None)</li>
<li><strong>loge_bounds</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Restrict the analysis to an energy range (emin,emax) in
log10(E/MeV) that is a subset of the analysis energy range.
By default the full analysis energy range will be used.  If
either emin/emax are None then only an upper/lower bound on
the energy range wil be applied. (default : None)</li>
<li><strong>make_plots</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Generate diagnostic plots. (default : False)</li>
<li><strong>max_kernel_radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Set the maximum radius of the test source kernel.  Using a
smaller value will speed up the TS calculation at the loss
of accuracy. (default : 3.0)</li>
<li><strong>model</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary defining the spatial/spectral properties of the
test source. If model is None the test source will be a
PointSource with an Index 2 power-law spectrum. (default :
None)</li>
<li><strong>multithread</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Split the calculation across number of processes set by
nthread option. (default : False)</li>
<li><strong>nthread</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of processes to create when multithread is True.  If
None then one process will be created for each available
core. (default : None)</li>
<li><strong>write_fits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Write the output to a FITS file. (default : True)</li>
<li><strong>write_npy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Write the output dictionary to a numpy file. (default :
True)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>tsmap</strong> – A dictionary containing the <a class="reference internal" href="#fermipy.skymap.Map" title="fermipy.skymap.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a> objects
for TS and source amplitude.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.unzero_source">
<code class="descname">unzero_source</code><span class="sig-paren">(</span><em>name</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.unzero_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.unzero_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.update_source">
<code class="descname">update_source</code><span class="sig-paren">(</span><em>name</em>, <em>paramsonly=False</em>, <em>reoptimize=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.update_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.update_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the dictionary for this source.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – </li>
<li><strong>paramsonly</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – </li>
<li><strong>reoptimize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Re-fit background parameters in likelihood scan.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.weight_map">
<code class="descname">weight_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.weight_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.weight_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#fermipy.skymap.Map" title="fermipy.skymap.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a> representation of the weights map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>map</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#fermipy.skymap.Map" title="fermipy.skymap.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.gtanalysis.GTAnalysis.workdir">
<code class="descname">workdir</code><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.workdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the analysis working directory.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.write_config">
<code class="descname">write_config</code><span class="sig-paren">(</span><em>outfile</em><span class="sig-paren">)</span><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.write_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the configuration dictionary to an output file.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.write_fits">
<code class="descname">write_fits</code><span class="sig-paren">(</span><em>fitsfile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.write_fits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.write_fits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.write_model_map">
<code class="descname">write_model_map</code><span class="sig-paren">(</span><em>model_name</em>, <em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.write_model_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.write_model_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the counts model map to a FITS file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>model_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – String that will be append to the name of the output file.</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name of the component.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.write_roi">
<code class="descname">write_roi</code><span class="sig-paren">(</span><em>outfile=None</em>, <em>save_model_map=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.write_roi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.write_roi" title="Permalink to this definition">¶</a></dt>
<dd><p>Write current state of the analysis to a file.  This method
writes an XML model definition, a ROI dictionary, and a FITS
source catalog file.  A previously saved analysis state can be
reloaded from the ROI dictionary file with the
<a class="reference internal" href="#fermipy.gtanalysis.GTAnalysis.load_roi" title="fermipy.gtanalysis.GTAnalysis.load_roi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_roi</span></code></a> method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>outfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – String prefix of the output files.  The extension of this
string will be stripped when generating the XML, YAML and
npy filenames.</li>
<li><strong>make_plots</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Generate diagnostic plots.</li>
<li><strong>save_model_map</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Save the current counts model to a FITS file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.write_weight_map">
<code class="descname">write_weight_map</code><span class="sig-paren">(</span><em>model_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.write_weight_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.write_weight_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the counts model map to a FITS file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>model_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – String that will be append to the name of the output file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.write_xml">
<code class="descname">write_xml</code><span class="sig-paren">(</span><em>xmlfile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.write_xml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.write_xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Save current model definition as XML file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>xmlfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name of the output XML file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.gtanalysis.GTAnalysis.zero_source">
<code class="descname">zero_source</code><span class="sig-paren">(</span><em>name</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/gtanalysis.html#GTAnalysis.zero_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.gtanalysis.GTAnalysis.zero_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-fermipy.logger">
<span id="fermipy-logger-module"></span><h2>fermipy.logger module<a class="headerlink" href="#module-fermipy.logger" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fermipy.logger.Logger">
<em class="property">class </em><code class="descclassname">fermipy.logger.</code><code class="descname">Logger</code><a class="reference internal" href="_modules/fermipy/logger.html#Logger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.logger.Logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class provides helper functions which facilitate creating
instances of the built-in logger class.</p>
<dl class="staticmethod">
<dt id="fermipy.logger.Logger.configure">
<em class="property">static </em><code class="descname">configure</code><span class="sig-paren">(</span><em>name</em>, <em>logfile</em>, <em>loglevel=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/logger.html#Logger.configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.logger.Logger.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a python logger instance and configure it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Logger name.</li>
<li><strong>logfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to the log file.</li>
<li><strong>loglevel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Default log level for STDOUT.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="fermipy.logger.Logger.setup">
<em class="property">static </em><code class="descname">setup</code><span class="sig-paren">(</span><em>config=None</em>, <em>logfile=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/logger.html#Logger.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.logger.Logger.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>This method sets up the default configuration of the
logger.  Once this method is called all subsequent instances
Logger instances will inherit this configuration.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.logger.StreamLogger">
<em class="property">class </em><code class="descclassname">fermipy.logger.</code><code class="descname">StreamLogger</code><span class="sig-paren">(</span><em>name='stdout'</em>, <em>logfile=None</em>, <em>quiet=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/logger.html#StreamLogger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.logger.StreamLogger" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>File-like object to log stdout/stderr using the <a class="reference external" href="https://docs.python.org/3/library/logging.html#module-logging" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">logging</span></code></a> module.</p>
<dl class="method">
<dt id="fermipy.logger.StreamLogger.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/logger.html#StreamLogger.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.logger.StreamLogger.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.logger.StreamLogger.flush">
<code class="descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/logger.html#StreamLogger.flush"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.logger.StreamLogger.flush" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.logger.StreamLogger.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>msg</em>, <em>level=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/logger.html#StreamLogger.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.logger.StreamLogger.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="fermipy.logger.log_level">
<code class="descclassname">fermipy.logger.</code><code class="descname">log_level</code><span class="sig-paren">(</span><em>level</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/logger.html#log_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.logger.log_level" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a function that returns a python like
level from a HEASOFT like level.</p>
</dd></dl>

</div>
<div class="section" id="module-fermipy.roi_model">
<span id="fermipy-roi-model-module"></span><h2>fermipy.roi_model module<a class="headerlink" href="#module-fermipy.roi_model" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fermipy.roi_model.CompositeSource">
<em class="property">class </em><code class="descclassname">fermipy.roi_model.</code><code class="descname">CompositeSource</code><span class="sig-paren">(</span><em>name</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#CompositeSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.CompositeSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.roi_model.Model" title="fermipy.roi_model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.roi_model.Model</span></code></a></p>
<dl class="attribute">
<dt id="fermipy.roi_model.CompositeSource.diffuse">
<code class="descname">diffuse</code><a class="headerlink" href="#fermipy.roi_model.CompositeSource.diffuse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.CompositeSource.nested_sources">
<code class="descname">nested_sources</code><a class="headerlink" href="#fermipy.roi_model.CompositeSource.nested_sources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.CompositeSource.write_xml">
<code class="descname">write_xml</code><span class="sig-paren">(</span><em>root</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#CompositeSource.write_xml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.CompositeSource.write_xml" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.roi_model.IsoSource">
<em class="property">class </em><code class="descclassname">fermipy.roi_model.</code><code class="descname">IsoSource</code><span class="sig-paren">(</span><em>name</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#IsoSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.IsoSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.roi_model.Model" title="fermipy.roi_model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.roi_model.Model</span></code></a></p>
<dl class="attribute">
<dt id="fermipy.roi_model.IsoSource.diffuse">
<code class="descname">diffuse</code><a class="headerlink" href="#fermipy.roi_model.IsoSource.diffuse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.IsoSource.filefunction">
<code class="descname">filefunction</code><a class="headerlink" href="#fermipy.roi_model.IsoSource.filefunction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.IsoSource.write_xml">
<code class="descname">write_xml</code><span class="sig-paren">(</span><em>root</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#IsoSource.write_xml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.IsoSource.write_xml" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.roi_model.MapCubeSource">
<em class="property">class </em><code class="descclassname">fermipy.roi_model.</code><code class="descname">MapCubeSource</code><span class="sig-paren">(</span><em>name</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#MapCubeSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.MapCubeSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.roi_model.Model" title="fermipy.roi_model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.roi_model.Model</span></code></a></p>
<dl class="attribute">
<dt id="fermipy.roi_model.MapCubeSource.diffuse">
<code class="descname">diffuse</code><a class="headerlink" href="#fermipy.roi_model.MapCubeSource.diffuse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.MapCubeSource.mapcube">
<code class="descname">mapcube</code><a class="headerlink" href="#fermipy.roi_model.MapCubeSource.mapcube" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.MapCubeSource.write_xml">
<code class="descname">write_xml</code><span class="sig-paren">(</span><em>root</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#MapCubeSource.write_xml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.MapCubeSource.write_xml" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.roi_model.Model">
<em class="property">class </em><code class="descclassname">fermipy.roi_model.</code><code class="descname">Model</code><span class="sig-paren">(</span><em>name</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for point-like and diffuse source components.  This
class is a container for spectral and spatial parameters as well
as other source properties such as TS, Npred, and location within
the ROI.</p>
<dl class="method">
<dt id="fermipy.roi_model.Model.add_name">
<code class="descname">add_name</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Model.add_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Model.add_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Model.add_to_table">
<code class="descname">add_to_table</code><span class="sig-paren">(</span><em>tab</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Model.add_to_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Model.add_to_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.Model.assoc">
<code class="descname">assoc</code><a class="headerlink" href="#fermipy.roi_model.Model.assoc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Model.check_cuts">
<code class="descname">check_cuts</code><span class="sig-paren">(</span><em>cuts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Model.check_cuts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Model.check_cuts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="fermipy.roi_model.Model.create_from_dict">
<em class="property">static </em><code class="descname">create_from_dict</code><span class="sig-paren">(</span><em>src_dict</em>, <em>roi_skydir=None</em>, <em>rescale=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Model.create_from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Model.create_from_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.Model.data">
<code class="descname">data</code><a class="headerlink" href="#fermipy.roi_model.Model.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Model.get_catalog_dict">
<code class="descname">get_catalog_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Model.get_catalog_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Model.get_catalog_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Model.get_norm">
<code class="descname">get_norm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Model.get_norm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Model.get_norm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.Model.is_free">
<code class="descname">is_free</code><a class="headerlink" href="#fermipy.roi_model.Model.is_free" title="Permalink to this definition">¶</a></dt>
<dd><p>returns True if any of the spectral model parameters is set to free, else False</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Model.items">
<code class="descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Model.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Model.items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.Model.name">
<code class="descname">name</code><a class="headerlink" href="#fermipy.roi_model.Model.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.Model.names">
<code class="descname">names</code><a class="headerlink" href="#fermipy.roi_model.Model.names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.Model.params">
<code class="descname">params</code><a class="headerlink" href="#fermipy.roi_model.Model.params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.Model.psf_scale_fn">
<code class="descname">psf_scale_fn</code><a class="headerlink" href="#fermipy.roi_model.Model.psf_scale_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Model.set_name">
<code class="descname">set_name</code><span class="sig-paren">(</span><em>name</em>, <em>names=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Model.set_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Model.set_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Model.set_psf_scale_fn">
<code class="descname">set_psf_scale_fn</code><span class="sig-paren">(</span><em>fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Model.set_psf_scale_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Model.set_psf_scale_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Model.set_spectral_pars">
<code class="descname">set_spectral_pars</code><span class="sig-paren">(</span><em>spectral_pars</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Model.set_spectral_pars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Model.set_spectral_pars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.Model.spatial_pars">
<code class="descname">spatial_pars</code><a class="headerlink" href="#fermipy.roi_model.Model.spatial_pars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.Model.spectral_pars">
<code class="descname">spectral_pars</code><a class="headerlink" href="#fermipy.roi_model.Model.spectral_pars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Model.update_data">
<code class="descname">update_data</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Model.update_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Model.update_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Model.update_from_source">
<code class="descname">update_from_source</code><span class="sig-paren">(</span><em>src</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Model.update_from_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Model.update_from_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Model.update_spectral_pars">
<code class="descname">update_spectral_pars</code><span class="sig-paren">(</span><em>spectral_pars</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Model.update_spectral_pars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Model.update_spectral_pars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.roi_model.ROIModel">
<em class="property">class </em><code class="descclassname">fermipy.roi_model.</code><code class="descname">ROIModel</code><span class="sig-paren">(</span><em>config=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.config.Configurable" title="fermipy.config.Configurable"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.config.Configurable</span></code></a></p>
<p>This class is responsible for managing the ROI model (both sources
and diffuse components).  Source catalogs can be read
from either FITS or XML files.  Individual components are
represented by instances of <a class="reference internal" href="#fermipy.roi_model.Model" title="fermipy.roi_model.Model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Model</span></code></a> and can be
accessed by name using the bracket operator.</p>
<blockquote>
<div><ul class="simple">
<li>Create an ROI with all 3FGL sources and print a summary of its contents:</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">skydir</span> <span class="o">=</span> <span class="n">astropy</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">SkyCoord</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="n">unit</span><span class="o">=</span><span class="s1">&#39;deg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">roi</span> <span class="o">=</span> <span class="n">ROIModel</span><span class="p">({</span><span class="s1">&#39;catalogs&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;3FGL&#39;</span><span class="p">],</span><span class="s1">&#39;src_roiwidth&#39;</span> <span class="p">:</span> <span class="mf">10.0</span><span class="p">},</span><span class="n">skydir</span><span class="o">=</span><span class="n">skydir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">roi</span><span class="p">)</span>
<span class="go">name                SpatialModel   SpectrumType     offset        ts       npred</span>
<span class="go">--------------------------------------------------------------------------------</span>
<span class="go">3FGL J2357.3-0150   PointSource    PowerLaw          1.956       nan         0.0</span>
<span class="go">3FGL J0006.2+0135   PointSource    PowerLaw          2.232       nan         0.0</span>
<span class="go">3FGL J0016.3-0013   PointSource    PowerLaw          4.084       nan         0.0</span>
<span class="go">3FGL J0014.3-0455   PointSource    PowerLaw          6.085       nan         0.0</span>
</pre></div>
</div>
<ul class="simple">
<li>Print a summary of an individual source</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">roi</span><span class="p">[</span><span class="s1">&#39;3FGL J0006.2+0135&#39;</span><span class="p">])</span>
<span class="go">Name           : 3FGL J0006.2+0135</span>
<span class="go">Associations   : [&#39;3FGL J0006.2+0135&#39;]</span>
<span class="go">RA/DEC         :      1.572/     1.585</span>
<span class="go">GLON/GLAT      :    100.400/   -59.297</span>
<span class="go">TS             : nan</span>
<span class="go">Npred          : nan</span>
<span class="go">Flux           :       nan +/-      nan</span>
<span class="go">EnergyFlux     :       nan +/-      nan</span>
<span class="go">SpatialModel   : PointSource</span>
<span class="go">SpectrumType   : PowerLaw</span>
<span class="go">Spectral Parameters</span>
<span class="go">Index          :         -2 +/-        nan</span>
<span class="go">Scale          :       1000 +/-        nan</span>
<span class="go">Prefactor      :      1e-12 +/-        nan</span>
</pre></div>
</div>
<ul class="simple">
<li>Get the SkyCoord for a source</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">dir</span> <span class="o">=</span> <span class="n">roi</span><span class="p">[</span><span class="s1">&#39;SourceA&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">skydir</span>
</pre></div>
</div>
<ul class="simple">
<li>Loop over all sources and print their names</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">roi</span><span class="o">.</span><span class="n">sources</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="go">3FGL J2357.3-0150</span>
<span class="go">3FGL J0006.2+0135</span>
<span class="go">3FGL J0016.3-0013</span>
<span class="go">3FGL J0014.3-0455</span>
</pre></div>
</div>
</div></blockquote>
<dl class="method">
<dt id="fermipy.roi_model.ROIModel.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the contents of the ROI.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.copy_source">
<code class="descname">copy_source</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.copy_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.copy_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.roi_model.ROIModel.create">
<em class="property">classmethod </em><code class="descname">create</code><span class="sig-paren">(</span><em>selection</em>, <em>config</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an ROIModel instance.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.create_diffuse_srcs">
<code class="descname">create_diffuse_srcs</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.create_diffuse_srcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.create_diffuse_srcs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.roi_model.ROIModel.create_from_position">
<em class="property">classmethod </em><code class="descname">create_from_position</code><span class="sig-paren">(</span><em>skydir</em>, <em>config</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.create_from_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.create_from_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an ROIModel instance centered on a sky direction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>skydir</strong> (<a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v3.2.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SkyCoord</span></code></a>) – Sky direction on which the ROI will be centered.</li>
<li><strong>config</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Model configuration dictionary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="fermipy.roi_model.ROIModel.create_from_roi_data">
<em class="property">classmethod </em><code class="descname">create_from_roi_data</code><span class="sig-paren">(</span><em>datafile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.create_from_roi_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.create_from_roi_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an ROI model.</p>
</dd></dl>

<dl class="classmethod">
<dt id="fermipy.roi_model.ROIModel.create_from_source">
<em class="property">classmethod </em><code class="descname">create_from_source</code><span class="sig-paren">(</span><em>name</em>, <em>config</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.create_from_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.create_from_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an ROI centered on the given source.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.create_param_table">
<code class="descname">create_param_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.create_param_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.create_param_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.roi_model.ROIModel.create_roi_from_ft1">
<em class="property">classmethod </em><code class="descname">create_roi_from_ft1</code><span class="sig-paren">(</span><em>ft1file</em>, <em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.create_roi_from_ft1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.create_roi_from_ft1" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an ROI model by extracting the sources coordinates
form an FT1 file.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.create_source">
<code class="descname">create_source</code><span class="sig-paren">(</span><em>name</em>, <em>src_dict</em>, <em>build_index=True</em>, <em>merge_sources=True</em>, <em>rescale=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.create_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.create_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new source to the ROI model from a dictionary or an
existing source object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – </li>
<li><strong>src_dict</strong> (dict or <a class="reference internal" href="#fermipy.roi_model.Source" title="fermipy.roi_model.Source"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Source</span></code></a>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>src</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#fermipy.roi_model.Source" title="fermipy.roi_model.Source"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Source</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.create_source_table">
<code class="descname">create_source_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.create_source_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.create_source_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.create_table">
<code class="descname">create_table</code><span class="sig-paren">(</span><em>names=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.create_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.create_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an astropy Table object with the contents of the ROI model.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.ROIModel.defaults">
<code class="descname">defaults</code><em class="property"> = {'assoc_xmatch_columns': (['3FGL_Name'], 'Choose a set of association columns on which to cross-match catalogs.', &lt;type 'list'&gt;), 'catalogs': (None, '', &lt;type 'list'&gt;), 'diffuse': (None, '', &lt;type 'list'&gt;), 'diffuse_dir': (None, '', &lt;type 'list'&gt;), 'diffuse_xml': (None, '', &lt;type 'list'&gt;), 'extdir': (None, 'Set a directory that will be searched for extended source FITS templates.  Template files in this directory will take precendence over catalog source templates with the same name.', &lt;type 'str'&gt;), 'extract_diffuse': (False, 'Extract a copy of all mapcube components centered on the ROI.', &lt;type 'bool'&gt;), 'fileio': {'logfile': (None, 'Path to log file.  If None then log will be written to fermipy.log.', &lt;type 'str'&gt;), 'outdir': (None, 'Path of the output directory.  If none this will default to the directory containing the configuration file.', &lt;type 'str'&gt;), 'outdir_regex': (['\\.fits$|\\.fit$|\\.xml$|\\.npy$|\\.png$|\\.pdf$|\\.yaml$'], 'Stage files to the output directory that match at least one of the regular expressions in this list.  This option only takes effect when ``usescratch`` is True.', &lt;type 'list'&gt;), 'savefits': (True, 'Save intermediate FITS files.', &lt;type 'bool'&gt;), 'scratchdir': ('/scratch', 'Path to the scratch directory.  If ``usescratch`` is True then a temporary working directory will be created under this directory.', &lt;type 'str'&gt;), 'usescratch': (False, 'Run analysis in a temporary working directory under ``scratchdir``.', &lt;type 'bool'&gt;), 'workdir': (None, 'Path to the working directory.', &lt;type 'str'&gt;), 'workdir_regex': (['\\.fits$|\\.fit$|\\.xml$|\\.npy$'], 'Stage files to the working directory that match at least one of the regular expressions in this list.  This option only takes effect when ``usescratch`` is True.', &lt;type 'list'&gt;)}, 'galdiff': (None, 'Set the path to one or more galactic IEM mapcubes.  A separate component will be generated for each item in this list.', &lt;type 'list'&gt;), 'isodiff': (None, 'Set the path to one or more isotropic templates.  A separate component will be generated for each item in this list.', &lt;type 'list'&gt;), 'limbdiff': (None, '', &lt;type 'list'&gt;), 'merge_sources': (True, 'Merge properties of sources that appear in multiple source catalogs.  If merge_sources=false then subsequent sources with the same name will be ignored.', &lt;type 'bool'&gt;), 'sources': (None, '', &lt;type 'list'&gt;), 'src_radius': (None, 'Radius of circular region in degrees centered on the ROI that selects sources for inclusion in the model.  If this parameter is none then no selection is applied.  This selection is ORed with the ``src_roiwidth`` selection.', &lt;type 'float'&gt;), 'src_radius_roi': (None, 'Half-width of ``src_roiwidth`` selection.  This parameter can be used in lieu of ``src_roiwidth``.', &lt;type 'float'&gt;), 'src_roiwidth': (None, 'Width of square region in degrees centered on the ROI that selects sources for inclusion in the model.  If this parameter is none then no selection is applied.  This selection will be ORed with the ``src_radius`` selection.', &lt;type 'float'&gt;)}</em><a class="headerlink" href="#fermipy.roi_model.ROIModel.defaults" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.delete_sources">
<code class="descname">delete_sources</code><span class="sig-paren">(</span><em>srcs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.delete_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.delete_sources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.ROIModel.diffuse_sources">
<code class="descname">diffuse_sources</code><a class="headerlink" href="#fermipy.roi_model.ROIModel.diffuse_sources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.ROIModel.extdir">
<code class="descname">extdir</code><a class="headerlink" href="#fermipy.roi_model.ROIModel.extdir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.ROIModel.geom">
<code class="descname">geom</code><a class="headerlink" href="#fermipy.roi_model.ROIModel.geom" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.get_nearby_sources">
<code class="descname">get_nearby_sources</code><span class="sig-paren">(</span><em>name</em>, <em>distance</em>, <em>min_dist=None</em>, <em>square=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.get_nearby_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.get_nearby_sources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.get_source_by_name">
<code class="descname">get_source_by_name</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.get_source_by_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.get_source_by_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single source in the ROI with the given name.  The
input name string can match any of the strings in the names
property of the source object.  Case and whitespace are
ignored when matching name strings.  If no sources are found
or multiple sources then an exception is thrown.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>srcs</strong> – A source object.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#fermipy.roi_model.Model" title="fermipy.roi_model.Model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Model</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.get_sources">
<code class="descname">get_sources</code><span class="sig-paren">(</span><em>skydir=None</em>, <em>distance=None</em>, <em>cuts=None</em>, <em>minmax_ts=None</em>, <em>minmax_npred=None</em>, <em>exclude=None</em>, <em>square=False</em>, <em>coordsys='CEL'</em>, <em>names=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.get_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.get_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve list of source objects satisfying the following
selections:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>Angular separation from <code class="docutils literal notranslate"><span class="pre">skydir</span></code> or ROI center (if</dt>
<dd><code class="docutils literal notranslate"><span class="pre">skydir</span></code> is None) less than <code class="docutils literal notranslate"><span class="pre">distance</span></code>.</dd>
</dl>
</li>
<li>Cuts on source properties defined in <code class="docutils literal notranslate"><span class="pre">cuts</span></code> list.</li>
<li>TS and Npred in range specified by <code class="docutils literal notranslate"><span class="pre">minmax_ts</span></code> and <code class="docutils literal notranslate"><span class="pre">minmax_npred</span></code>.</li>
<li>Name matching a value in <code class="docutils literal notranslate"><span class="pre">names</span></code></li>
</ul>
<p>Sources can be excluded from the selection by adding their
name to the <code class="docutils literal notranslate"><span class="pre">exclude</span></code> list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>srcs</strong> – List of source objects.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.get_sources_by_name">
<code class="descname">get_sources_by_name</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.get_sources_by_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.get_sources_by_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of sources in the ROI matching the given
name.  The input name string can match any of the strings in
the names property of the source object.  Case and whitespace
are ignored when matching name strings.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>srcs</strong> – A list of <a class="reference internal" href="#fermipy.roi_model.Model" title="fermipy.roi_model.Model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Model</span></code></a> objects.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.get_sources_by_position">
<code class="descname">get_sources_by_position</code><span class="sig-paren">(</span><em>skydir</em>, <em>dist</em>, <em>min_dist=None</em>, <em>square=False</em>, <em>coordsys='CEL'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.get_sources_by_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.get_sources_by_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve sources within a certain angular distance of a sky
coordinate.  This function supports two types of geometric
selections: circular (square=False) and square (square=True).
The circular selection finds all sources with a given angular
distance of the target position.  The square selection finds
sources within an ROI-like region of size R x R where R = 2 x
dist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>skydir</strong> (<a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v3.2.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SkyCoord</span></code></a>) – Sky direction with respect to which the selection will be applied.</li>
<li><strong>dist</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Maximum distance in degrees from the sky coordinate.</li>
<li><strong>square</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Choose whether to apply a circular or square selection.</li>
<li><strong>coordsys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Coordinate system to use when applying a selection with square=True.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.get_sources_by_property">
<code class="descname">get_sources_by_property</code><span class="sig-paren">(</span><em>pname</em>, <em>pmin</em>, <em>pmax=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.get_sources_by_property"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.get_sources_by_property" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.has_source">
<code class="descname">has_source</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.has_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.has_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load both point source and diffuse components.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.load_diffuse_srcs">
<code class="descname">load_diffuse_srcs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.load_diffuse_srcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.load_diffuse_srcs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.load_existing_catalog">
<code class="descname">load_existing_catalog</code><span class="sig-paren">(</span><em>cat</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.load_existing_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.load_existing_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Load sources from an existing catalog object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cat</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Catalog</span></code>) – Catalog object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.load_fits_catalog">
<code class="descname">load_fits_catalog</code><span class="sig-paren">(</span><em>name</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.load_fits_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.load_fits_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Load sources from a FITS catalog file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Catalog name or path to a catalog FITS file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.load_source">
<code class="descname">load_source</code><span class="sig-paren">(</span><em>src</em>, <em>build_index=True</em>, <em>merge_sources=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.load_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.load_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a single source.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference internal" href="#fermipy.roi_model.Source" title="fermipy.roi_model.Source"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Source</span></code></a>) – Source object that will be added to the ROI.</li>
<li><strong>merge_sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – When a source matches an existing source in the model
update that source with the properties of the new source.</li>
<li><strong>build_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Re-make the source index after loading this source.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.load_sources">
<code class="descname">load_sources</code><span class="sig-paren">(</span><em>sources</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.load_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.load_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all sources in the ROI and load the input source list.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.load_xml">
<code class="descname">load_xml</code><span class="sig-paren">(</span><em>xmlfile</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.load_xml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.load_xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Load sources from an XML file.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.match_source">
<code class="descname">match_source</code><span class="sig-paren">(</span><em>src</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.match_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.match_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Look for source or sources in the model that match the
given source.  Sources are matched by name and any association
columns defined in the assoc_xmatch_columns parameter.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.ROIModel.point_sources">
<code class="descname">point_sources</code><a class="headerlink" href="#fermipy.roi_model.ROIModel.point_sources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.set_geom">
<code class="descname">set_geom</code><span class="sig-paren">(</span><em>geom</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.set_geom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.set_geom" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.ROIModel.skydir">
<code class="descname">skydir</code><a class="headerlink" href="#fermipy.roi_model.ROIModel.skydir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sky direction corresponding to the center of the
ROI.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.ROIModel.sources">
<code class="descname">sources</code><a class="headerlink" href="#fermipy.roi_model.ROIModel.sources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.ROIModel.src_name_cols">
<code class="descname">src_name_cols</code><em class="property"> = ['Source_Name', 'ASSOC', 'ASSOC1', 'ASSOC2', 'ASSOC_GAM', '1FHL_Name', '2FGL_Name', '3FGL_Name', 'ASSOC_GAM1', 'ASSOC_GAM2', 'ASSOC_TEV']</em><a class="headerlink" href="#fermipy.roi_model.ROIModel.src_name_cols" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.to_ds9">
<code class="descname">to_ds9</code><span class="sig-paren">(</span><em>free='box'</em>, <em>fixed='cross'</em>, <em>frame='fk5'</em>, <em>color='green'</em>, <em>header=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.to_ds9"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.to_ds9" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of ds9 region definitions
:param free: one of the supported ds9 point symbols, used for free sources, see here: <a class="reference external" href="http://ds9.si.edu/doc/ref/region.html">http://ds9.si.edu/doc/ref/region.html</a>
:type free: bool
:param fixed: as free but for fixed sources
:type fixed: bool
:param frame: typically fk5, more to be implemented
:type frame: str
:param color: color used for symbols (only ds9 compatible colors)
:type color: str
:param header: if True, will prepend a global header line.
:type header: bool</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>lines</strong> – list of regions (and header if requested)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.write_ds9region">
<code class="descname">write_ds9region</code><span class="sig-paren">(</span><em>region</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.write_ds9region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.write_ds9region" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a ds9 compatible region file from the ROI.</p>
<p>It calls the <a class="reference internal" href="#fermipy.roi_model.ROIModel.to_ds9" title="fermipy.roi_model.ROIModel.to_ds9"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_ds9</span></code></a> method and write the result to the region file. Only the file name is required.
All other parameters will be forwarded to the <a class="reference internal" href="#fermipy.roi_model.ROIModel.to_ds9" title="fermipy.roi_model.ROIModel.to_ds9"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_ds9</span></code></a> method, see the documentation of that method
for all accepted parameters and options.
:param region: name of the region file (string)
:type region: str</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.write_fits">
<code class="descname">write_fits</code><span class="sig-paren">(</span><em>fitsfile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.write_fits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.write_fits" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the ROI model to a FITS file.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.ROIModel.write_xml">
<code class="descname">write_xml</code><span class="sig-paren">(</span><em>xmlfile</em>, <em>config=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#ROIModel.write_xml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.ROIModel.write_xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the ROI model as an XML file.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.roi_model.Source">
<em class="property">class </em><code class="descclassname">fermipy.roi_model.</code><code class="descname">Source</code><span class="sig-paren">(</span><em>name</em>, <em>data</em>, <em>radec=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Source" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.roi_model.Model" title="fermipy.roi_model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.roi_model.Model</span></code></a></p>
<p>Class representation of a source (non-diffuse) model component.
A source object serves as a container for the properties of that
source (position, spatial/spectral parameters, TS, etc.) as
derived in the current analysis.  Most properties of a source
object can be accessed with the bracket operator:</p>
<p># Return the TS of this source
&gt;&gt;&gt; src[‘ts’]</p>
<p># Get a skycoord representation of the source position
&gt;&gt;&gt; src.skydir</p>
<dl class="attribute">
<dt id="fermipy.roi_model.Source.associations">
<code class="descname">associations</code><a class="headerlink" href="#fermipy.roi_model.Source.associations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.roi_model.Source.create_from_dict">
<em class="property">classmethod </em><code class="descname">create_from_dict</code><span class="sig-paren">(</span><em>src_dict</em>, <em>roi_skydir=None</em>, <em>rescale=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Source.create_from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Source.create_from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a source object from a python dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary defining the properties of the source.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="fermipy.roi_model.Source.create_from_xml">
<em class="property">static </em><code class="descname">create_from_xml</code><span class="sig-paren">(</span><em>root</em>, <em>extdir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Source.create_from_xml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Source.create_from_xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Source object from an XML node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>root</strong> (<a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Element</span></code></a>) – XML node containing the source.</li>
<li><strong>extdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to the extended source archive.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="fermipy.roi_model.Source.create_from_xmlfile">
<em class="property">classmethod </em><code class="descname">create_from_xmlfile</code><span class="sig-paren">(</span><em>xmlfile</em>, <em>extdir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Source.create_from_xmlfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Source.create_from_xmlfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Source object from an XML file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>xmlfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to XML file.</li>
<li><strong>extdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to the extended source archive.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.Source.data">
<code class="descname">data</code><a class="headerlink" href="#fermipy.roi_model.Source.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.Source.diffuse">
<code class="descname">diffuse</code><a class="headerlink" href="#fermipy.roi_model.Source.diffuse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.Source.extended">
<code class="descname">extended</code><a class="headerlink" href="#fermipy.roi_model.Source.extended" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.Source.radec">
<code class="descname">radec</code><a class="headerlink" href="#fermipy.roi_model.Source.radec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Source.separation">
<code class="descname">separation</code><span class="sig-paren">(</span><em>src</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Source.separation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Source.separation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Source.set_position">
<code class="descname">set_position</code><span class="sig-paren">(</span><em>skydir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Source.set_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Source.set_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the position of the source.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>skydir</strong> (<a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v3.2.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SkyCoord</span></code></a>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Source.set_radec">
<code class="descname">set_radec</code><span class="sig-paren">(</span><em>ra</em>, <em>dec</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Source.set_radec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Source.set_radec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Source.set_roi_direction">
<code class="descname">set_roi_direction</code><span class="sig-paren">(</span><em>roidir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Source.set_roi_direction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Source.set_roi_direction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Source.set_roi_geom">
<code class="descname">set_roi_geom</code><span class="sig-paren">(</span><em>geom</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Source.set_roi_geom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Source.set_roi_geom" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Source.set_spatial_model">
<code class="descname">set_spatial_model</code><span class="sig-paren">(</span><em>spatial_model</em>, <em>spatial_pars</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Source.set_spatial_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Source.set_spatial_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.roi_model.Source.skydir">
<code class="descname">skydir</code><a class="headerlink" href="#fermipy.roi_model.Source.skydir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a SkyCoord representation of the source position.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>skydir</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v3.2.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SkyCoord</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Source.update_data">
<code class="descname">update_data</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Source.update_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Source.update_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.roi_model.Source.write_xml">
<code class="descname">write_xml</code><span class="sig-paren">(</span><em>root</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#Source.write_xml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.Source.write_xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Write this source to an XML node.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="fermipy.roi_model.create_source_table">
<code class="descclassname">fermipy.roi_model.</code><code class="descname">create_source_table</code><span class="sig-paren">(</span><em>scan_shape</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#create_source_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.create_source_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an empty source table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>tab</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.table.Table.html#astropy.table.Table" title="(in Astropy v3.2.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Table</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.roi_model.get_dist_to_edge">
<code class="descclassname">fermipy.roi_model.</code><code class="descname">get_dist_to_edge</code><span class="sig-paren">(</span><em>skydir</em>, <em>lon</em>, <em>lat</em>, <em>width</em>, <em>coordsys='CEL'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#get_dist_to_edge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.get_dist_to_edge" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.roi_model.get_linear_dist">
<code class="descclassname">fermipy.roi_model.</code><code class="descname">get_linear_dist</code><span class="sig-paren">(</span><em>skydir</em>, <em>lon</em>, <em>lat</em>, <em>coordsys='CEL'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#get_linear_dist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.get_linear_dist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.roi_model.get_skydir_distance_mask">
<code class="descclassname">fermipy.roi_model.</code><code class="descname">get_skydir_distance_mask</code><span class="sig-paren">(</span><em>src_skydir</em>, <em>skydir</em>, <em>dist</em>, <em>min_dist=None</em>, <em>square=False</em>, <em>coordsys='CEL'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#get_skydir_distance_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.get_skydir_distance_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve sources within a certain angular distance of an
(ra,dec) coordinate.  This function supports two types of
geometric selections: circular (square=False) and square
(square=True).  The circular selection finds all sources with a given
angular distance of the target position.  The square selection
finds sources within an ROI-like region of size R x R where R
= 2 x dist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src_skydir</strong> (<a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v3.2.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SkyCoord</span></code></a>) – Array of sky directions.</li>
<li><strong>skydir</strong> (<a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v3.2.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SkyCoord</span></code></a>) – Sky direction with respect to which the selection will be applied.</li>
<li><strong>dist</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Maximum distance in degrees from the sky coordinate.</li>
<li><strong>square</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Choose whether to apply a circular or square selection.</li>
<li><strong>coordsys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Coordinate system to use when applying a selection with square=True.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.roi_model.get_true_params_dict">
<code class="descclassname">fermipy.roi_model.</code><code class="descname">get_true_params_dict</code><span class="sig-paren">(</span><em>pars_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#get_true_params_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.get_true_params_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.roi_model.spatial_pars_from_catalog">
<code class="descclassname">fermipy.roi_model.</code><code class="descname">spatial_pars_from_catalog</code><span class="sig-paren">(</span><em>cat</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#spatial_pars_from_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.spatial_pars_from_catalog" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.roi_model.spectral_pars_from_catalog">
<code class="descclassname">fermipy.roi_model.</code><code class="descname">spectral_pars_from_catalog</code><span class="sig-paren">(</span><em>cat</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/roi_model.html#spectral_pars_from_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.roi_model.spectral_pars_from_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Create spectral parameters from 3FGL catalog columns.</p>
</dd></dl>

</div>
<div class="section" id="module-fermipy.utils">
<span id="fermipy-utils-module"></span><h2>fermipy.utils module<a class="headerlink" href="#module-fermipy.utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="fermipy.utils.angle_to_cartesian">
<code class="descclassname">fermipy.utils.</code><code class="descname">angle_to_cartesian</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#angle_to_cartesian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.angle_to_cartesian" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert spherical coordinates to cartesian unit vectors.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.apply_minmax_selection">
<code class="descclassname">fermipy.utils.</code><code class="descname">apply_minmax_selection</code><span class="sig-paren">(</span><em>val</em>, <em>val_minmax</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#apply_minmax_selection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.apply_minmax_selection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.arg_to_list">
<code class="descclassname">fermipy.utils.</code><code class="descname">arg_to_list</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#arg_to_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.arg_to_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.center_to_edge">
<code class="descclassname">fermipy.utils.</code><code class="descname">center_to_edge</code><span class="sig-paren">(</span><em>center</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#center_to_edge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.center_to_edge" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.collect_dirs">
<code class="descclassname">fermipy.utils.</code><code class="descname">collect_dirs</code><span class="sig-paren">(</span><em>path</em>, <em>max_depth=1</em>, <em>followlinks=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#collect_dirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.collect_dirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively find directories under the given path.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.convolve2d_disk">
<code class="descclassname">fermipy.utils.</code><code class="descname">convolve2d_disk</code><span class="sig-paren">(</span><em>fn</em>, <em>r</em>, <em>sig</em>, <em>nstep=200</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#convolve2d_disk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.convolve2d_disk" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the convolution f’(r) = f(r) * g(r) where f(r) is
azimuthally symmetric function in two dimensions and g is a
step function given by:</p>
<p>g(r) = H(1-r/s)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fn</strong> (<em>function</em>) – Input function that takes a single radial coordinate parameter.</li>
<li><strong>r</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of points at which the convolution is to be evaluated.</li>
<li><strong>sig</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Radius parameter of the step function.</li>
<li><strong>nstep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of sampling point for numeric integration.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.convolve2d_gauss">
<code class="descclassname">fermipy.utils.</code><code class="descname">convolve2d_gauss</code><span class="sig-paren">(</span><em>fn</em>, <em>r</em>, <em>sig</em>, <em>nstep=200</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#convolve2d_gauss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.convolve2d_gauss" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the convolution f’(r) = f(r) * g(r) where f(r) is
azimuthally symmetric function in two dimensions and g is a
2D gaussian with standard deviation s given by:</p>
<p>g(r) = 1/(2*pi*s^2) Exp[-r^2/(2*s^2)]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fn</strong> (<em>function</em>) – Input function that takes a single radial coordinate parameter.</li>
<li><strong>r</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of points at which the convolution is to be evaluated.</li>
<li><strong>sig</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Width parameter of the gaussian.</li>
<li><strong>nstep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of sampling point for numeric integration.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.cov_to_correlation">
<code class="descclassname">fermipy.utils.</code><code class="descname">cov_to_correlation</code><span class="sig-paren">(</span><em>cov</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#cov_to_correlation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.cov_to_correlation" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the correlation matrix given the covariance matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cov</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – N x N matrix of covariances among N parameters.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>corr</strong> – N x N matrix of correlations among N parameters.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.create_dict">
<code class="descclassname">fermipy.utils.</code><code class="descname">create_dict</code><span class="sig-paren">(</span><em>d0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#create_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.create_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.create_hpx_disk_region_string">
<code class="descclassname">fermipy.utils.</code><code class="descname">create_hpx_disk_region_string</code><span class="sig-paren">(</span><em>skyDir</em>, <em>coordsys</em>, <em>radius</em>, <em>inclusive=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#create_hpx_disk_region_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.create_hpx_disk_region_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.create_kernel_function_lookup">
<code class="descclassname">fermipy.utils.</code><code class="descname">create_kernel_function_lookup</code><span class="sig-paren">(</span><em>psf</em>, <em>fn</em>, <em>sigma</em>, <em>egy</em>, <em>dtheta</em>, <em>psf_scale_fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#create_kernel_function_lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.create_kernel_function_lookup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.create_model_name">
<code class="descclassname">fermipy.utils.</code><code class="descname">create_model_name</code><span class="sig-paren">(</span><em>src</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#create_model_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.create_model_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a name for a source object given its spatial/spectral
properties.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#fermipy.roi_model.Source" title="fermipy.roi_model.Source"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Source</span></code></a>) – A source object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>name</strong> – A source name.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.create_radial_spline">
<code class="descclassname">fermipy.utils.</code><code class="descname">create_radial_spline</code><span class="sig-paren">(</span><em>psf</em>, <em>fn</em>, <em>sigma</em>, <em>egy</em>, <em>dtheta</em>, <em>psf_scale_fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#create_radial_spline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.create_radial_spline" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.create_source_name">
<code class="descclassname">fermipy.utils.</code><code class="descname">create_source_name</code><span class="sig-paren">(</span><em>skydir</em>, <em>floor=True</em>, <em>prefix='PS'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#create_source_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.create_source_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.create_xml_element">
<code class="descclassname">fermipy.utils.</code><code class="descname">create_xml_element</code><span class="sig-paren">(</span><em>root</em>, <em>name</em>, <em>attrib</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#create_xml_element"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.create_xml_element" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.dot_prod">
<code class="descclassname">fermipy.utils.</code><code class="descname">dot_prod</code><span class="sig-paren">(</span><em>xyz0</em>, <em>xyz1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#dot_prod"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.dot_prod" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the dot product between two cartesian vectors where the
second dimension contains the vector components.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.edge_to_center">
<code class="descclassname">fermipy.utils.</code><code class="descname">edge_to_center</code><span class="sig-paren">(</span><em>edges</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#edge_to_center"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.edge_to_center" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.edge_to_width">
<code class="descclassname">fermipy.utils.</code><code class="descname">edge_to_width</code><span class="sig-paren">(</span><em>edges</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#edge_to_width"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.edge_to_width" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.ellipse_to_cov">
<code class="descclassname">fermipy.utils.</code><code class="descname">ellipse_to_cov</code><span class="sig-paren">(</span><em>sigma_maj</em>, <em>sigma_min</em>, <em>theta</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#ellipse_to_cov"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.ellipse_to_cov" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the covariance matrix in two variables x and y given
the std. deviation along the semi-major and semi-minor axes and
the rotation angle of the error ellipse.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sigma_maj</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Std. deviation along major axis of error ellipse.</li>
<li><strong>sigma_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Std. deviation along minor axis of error ellipse.</li>
<li><strong>theta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Rotation angle in radians from x-axis to ellipse major axis.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.eq2gal">
<code class="descclassname">fermipy.utils.</code><code class="descname">eq2gal</code><span class="sig-paren">(</span><em>ra</em>, <em>dec</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#eq2gal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.eq2gal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.eval_radial_kernel">
<code class="descclassname">fermipy.utils.</code><code class="descname">eval_radial_kernel</code><span class="sig-paren">(</span><em>psf</em>, <em>fn</em>, <em>sigma</em>, <em>idx</em>, <em>dtheta</em>, <em>psf_scale_fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#eval_radial_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.eval_radial_kernel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.extend_array">
<code class="descclassname">fermipy.utils.</code><code class="descname">extend_array</code><span class="sig-paren">(</span><em>edges</em>, <em>binsz</em>, <em>lo</em>, <em>hi</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#extend_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.extend_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend an array to encompass lo and hi values.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.find_function_root">
<code class="descclassname">fermipy.utils.</code><code class="descname">find_function_root</code><span class="sig-paren">(</span><em>fn</em>, <em>x0</em>, <em>xb</em>, <em>delta=0.0</em>, <em>bounds=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#find_function_root"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.find_function_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the root of a function: f(x)+delta in the interval encompassed
by x0 and xb.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fn</strong> (<em>function</em>) – Python function.</li>
<li><strong>x0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Fixed bound for the root search.  This will either be used as
the lower or upper bound depending on the relative value of xb.</li>
<li><strong>xb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Upper or lower bound for the root search.  If a root is not
found in the interval [x0,xb]/[xb,x0] this value will be
increased/decreased until a change in sign is found.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.find_rows_by_string">
<code class="descclassname">fermipy.utils.</code><code class="descname">find_rows_by_string</code><span class="sig-paren">(</span><em>tab, names, colnames=['assoc']</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#find_rows_by_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.find_rows_by_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the rows in a table <code class="docutils literal notranslate"><span class="pre">tab</span></code> that match at least one of the
strings in <code class="docutils literal notranslate"><span class="pre">names</span></code>.  This method ignores whitespace and case
when matching strings.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tab</strong> (<a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.table.Table.html#astropy.table.Table" title="(in Astropy v3.2.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.table.Table</span></code></a>) – Table that will be searched.</li>
<li><strong>names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – List of strings.</li>
<li><strong>colname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name of the table column that will be searched for matching string.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mask</strong> – Boolean mask for rows with matching strings.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.fit_parabola">
<code class="descclassname">fermipy.utils.</code><code class="descname">fit_parabola</code><span class="sig-paren">(</span><em>z</em>, <em>ix</em>, <em>iy</em>, <em>dpix=3</em>, <em>zmin=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#fit_parabola"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.fit_parabola" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit a parabola to a 2D numpy array.  This function will fit a
parabola with the functional form described in
<a class="reference internal" href="#fermipy.utils.parabola" title="fermipy.utils.parabola"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parabola</span></code></a> to a 2D slice of the input array <code class="xref py py-obj docutils literal notranslate"><span class="pre">z</span></code>.
The fit region encompasses pixels that are within <code class="xref py py-obj docutils literal notranslate"><span class="pre">dpix</span></code> of the
pixel coordinate (iz,iy) OR that have a value relative to the peak
value greater than <code class="xref py py-obj docutils literal notranslate"><span class="pre">zmin</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>z</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – </li>
<li><strong>ix</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – X index of center pixel of fit region in array <code class="xref py py-obj docutils literal notranslate"><span class="pre">z</span></code>.</li>
<li><strong>iy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Y index of center pixel of fit region in array <code class="xref py py-obj docutils literal notranslate"><span class="pre">z</span></code>.</li>
<li><strong>dpix</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Max distance from center pixel of fit region.</li>
<li><strong>zmin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.fits_recarray_to_dict">
<code class="descclassname">fermipy.utils.</code><code class="descname">fits_recarray_to_dict</code><span class="sig-paren">(</span><em>table</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#fits_recarray_to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.fits_recarray_to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a FITS recarray to a python dictionary.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.format_filename">
<code class="descclassname">fermipy.utils.</code><code class="descname">format_filename</code><span class="sig-paren">(</span><em>outdir</em>, <em>basename</em>, <em>prefix=None</em>, <em>extension=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#format_filename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.format_filename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.gal2eq">
<code class="descclassname">fermipy.utils.</code><code class="descname">gal2eq</code><span class="sig-paren">(</span><em>l</em>, <em>b</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#gal2eq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.gal2eq" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.get_bounded_slice">
<code class="descclassname">fermipy.utils.</code><code class="descname">get_bounded_slice</code><span class="sig-paren">(</span><em>idx</em>, <em>dpix</em>, <em>shape</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#get_bounded_slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.get_bounded_slice" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.get_parameter_limits">
<code class="descclassname">fermipy.utils.</code><code class="descname">get_parameter_limits</code><span class="sig-paren">(</span><em>xval</em>, <em>loglike</em>, <em>cl_limit=0.95</em>, <em>cl_err=0.68269</em>, <em>tol=0.01</em>, <em>bounds=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#get_parameter_limits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.get_parameter_limits" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute upper/lower limits, peak position, and 1-sigma errors
from a 1-D likelihood function.  This function uses the
delta-loglikelihood method to evaluate parameter limits by
searching for the point at which the change in the log-likelihood
value with respect to the maximum equals a specific value.  A
cubic spline fit to the log-likelihood values is used to
improve the accuracy of the calculation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>xval</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of parameter values.</li>
<li><strong>loglike</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of log-likelihood values.</li>
<li><strong>cl_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Confidence level to use for limit calculation.</li>
<li><strong>cl_err</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Confidence level to use for two-sided confidence interval
calculation.</li>
<li><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Absolute precision of likelihood values.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>x0</strong> (<em>float</em>) – Coordinate at maximum of likelihood function.</li>
<li><strong>err_lo</strong> (<em>float</em>) – Lower error for two-sided confidence interval with CL
<code class="docutils literal notranslate"><span class="pre">cl_err</span></code>.  Corresponds to point (x &lt; x0) at which the
log-likelihood falls by a given value with respect to the
maximum (0.5 for 1 sigma).  Set to nan if the change in the
log-likelihood function at the lower bound of the <code class="docutils literal notranslate"><span class="pre">xval</span></code>
input array is less than than the value for the given CL.</li>
<li><strong>err_hi</strong> (<em>float</em>) – Upper error for two-sided confidence interval with CL
<code class="docutils literal notranslate"><span class="pre">cl_err</span></code>. Corresponds to point (x &gt; x0) at which the
log-likelihood falls by a given value with respect to the
maximum (0.5 for 1 sigma).  Set to nan if the change in the
log-likelihood function at the upper bound of the <code class="docutils literal notranslate"><span class="pre">xval</span></code>
input array is less than the value for the given CL.</li>
<li><strong>err</strong> (<em>float</em>) – Symmetric 1-sigma error.  Average of <code class="docutils literal notranslate"><span class="pre">err_lo</span></code> and <code class="docutils literal notranslate"><span class="pre">err_hi</span></code>
if both are defined.</li>
<li><strong>ll</strong> (<em>float</em>) – Lower limit evaluated at confidence level <code class="docutils literal notranslate"><span class="pre">cl_limit</span></code>.</li>
<li><strong>ul</strong> (<em>float</em>) – Upper limit evaluated at confidence level <code class="docutils literal notranslate"><span class="pre">cl_limit</span></code>.</li>
<li><strong>lnlmax</strong> (<em>float</em>) – Log-likelihood value at <code class="docutils literal notranslate"><span class="pre">x0</span></code>.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.get_region_mask">
<code class="descclassname">fermipy.utils.</code><code class="descname">get_region_mask</code><span class="sig-paren">(</span><em>z</em>, <em>delta</em>, <em>xy=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#get_region_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.get_region_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Get mask of connected region within delta of max(z).</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.init_matplotlib_backend">
<code class="descclassname">fermipy.utils.</code><code class="descname">init_matplotlib_backend</code><span class="sig-paren">(</span><em>backend=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#init_matplotlib_backend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.init_matplotlib_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>This function initializes the matplotlib backend.  When no
DISPLAY is available the backend is automatically set to ‘Agg’.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>backend</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – matplotlib backend name.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.interpolate_function_min">
<code class="descclassname">fermipy.utils.</code><code class="descname">interpolate_function_min</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#interpolate_function_min"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.interpolate_function_min" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.is_fits_file">
<code class="descclassname">fermipy.utils.</code><code class="descname">is_fits_file</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#is_fits_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.is_fits_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.isstr">
<code class="descclassname">fermipy.utils.</code><code class="descname">isstr</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#isstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.isstr" title="Permalink to this definition">¶</a></dt>
<dd><p>String instance testing method that works under both Python 2.X
and 3.X.  Returns true if the input is a string.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.join_strings">
<code class="descclassname">fermipy.utils.</code><code class="descname">join_strings</code><span class="sig-paren">(</span><em>strings</em>, <em>sep='_'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#join_strings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.join_strings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.load_data">
<code class="descclassname">fermipy.utils.</code><code class="descname">load_data</code><span class="sig-paren">(</span><em>infile</em>, <em>workdir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#load_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Load python data structure from either a YAML or numpy file.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.load_npy">
<code class="descclassname">fermipy.utils.</code><code class="descname">load_npy</code><span class="sig-paren">(</span><em>infile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#load_npy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.load_npy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.load_xml_elements">
<code class="descclassname">fermipy.utils.</code><code class="descname">load_xml_elements</code><span class="sig-paren">(</span><em>root</em>, <em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#load_xml_elements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.load_xml_elements" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.load_yaml">
<code class="descclassname">fermipy.utils.</code><code class="descname">load_yaml</code><span class="sig-paren">(</span><em>infile</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#load_yaml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.load_yaml" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.lonlat_to_xyz">
<code class="descclassname">fermipy.utils.</code><code class="descname">lonlat_to_xyz</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#lonlat_to_xyz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.lonlat_to_xyz" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.make_cdisk_kernel">
<code class="descclassname">fermipy.utils.</code><code class="descname">make_cdisk_kernel</code><span class="sig-paren">(</span><em>psf</em>, <em>sigma</em>, <em>npix</em>, <em>cdelt</em>, <em>xpix</em>, <em>ypix</em>, <em>psf_scale_fn=None</em>, <em>normalize=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#make_cdisk_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.make_cdisk_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a kernel for a PSF-convolved 2D disk.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>psf</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">PSFModel</span></code>) – </li>
<li><strong>sigma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – 68% containment radius in degrees.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.make_cgauss_kernel">
<code class="descclassname">fermipy.utils.</code><code class="descname">make_cgauss_kernel</code><span class="sig-paren">(</span><em>psf</em>, <em>sigma</em>, <em>npix</em>, <em>cdelt</em>, <em>xpix</em>, <em>ypix</em>, <em>psf_scale_fn=None</em>, <em>normalize=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#make_cgauss_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.make_cgauss_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a kernel for a PSF-convolved 2D gaussian.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>psf</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">PSFModel</span></code>) – </li>
<li><strong>sigma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – 68% containment radius in degrees.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.make_disk_kernel">
<code class="descclassname">fermipy.utils.</code><code class="descname">make_disk_kernel</code><span class="sig-paren">(</span><em>radius</em>, <em>npix=501</em>, <em>cdelt=0.01</em>, <em>xpix=None</em>, <em>ypix=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#make_disk_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.make_disk_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Make kernel for a 2D disk.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Disk radius in deg.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.make_gaussian_kernel">
<code class="descclassname">fermipy.utils.</code><code class="descname">make_gaussian_kernel</code><span class="sig-paren">(</span><em>sigma</em>, <em>npix=501</em>, <em>cdelt=0.01</em>, <em>xpix=None</em>, <em>ypix=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#make_gaussian_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.make_gaussian_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Make kernel for a 2D gaussian.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sigma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Standard deviation in degrees.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.make_pixel_distance">
<code class="descclassname">fermipy.utils.</code><code class="descname">make_pixel_distance</code><span class="sig-paren">(</span><em>shape</em>, <em>xpix=None</em>, <em>ypix=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#make_pixel_distance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.make_pixel_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill a 2D array with dimensions <code class="xref py py-obj docutils literal notranslate"><span class="pre">shape</span></code> with the distance of each
pixel from a reference direction (xpix,ypix) in pixel coordinates.
Pixel coordinates are defined such that (0,0) is located at the
center of the corner pixel.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.make_psf_kernel">
<code class="descclassname">fermipy.utils.</code><code class="descname">make_psf_kernel</code><span class="sig-paren">(</span><em>psf</em>, <em>npix</em>, <em>cdelt</em>, <em>xpix</em>, <em>ypix</em>, <em>psf_scale_fn=None</em>, <em>normalize=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#make_psf_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.make_psf_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a kernel for a point-source.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>psf</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">PSFModel</span></code>) – </li>
<li><strong>npix</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of pixels in X and Y dimensions.</li>
<li><strong>cdelt</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Pixel size in degrees.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.make_radial_kernel">
<code class="descclassname">fermipy.utils.</code><code class="descname">make_radial_kernel</code><span class="sig-paren">(</span><em>psf</em>, <em>fn</em>, <em>sigma</em>, <em>npix</em>, <em>cdelt</em>, <em>xpix</em>, <em>ypix</em>, <em>psf_scale_fn=None</em>, <em>normalize=False</em>, <em>klims=None</em>, <em>sparse=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#make_radial_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.make_radial_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a kernel for a general radially symmetric 2D function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>psf</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">PSFModel</span></code>) – </li>
<li><strong>fn</strong> (<em>callable</em>) – Function that evaluates the kernel at a radial coordinate r.</li>
<li><strong>sigma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – 68% containment radius in degrees.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.match_regex_list">
<code class="descclassname">fermipy.utils.</code><code class="descname">match_regex_list</code><span class="sig-paren">(</span><em>patterns</em>, <em>string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#match_regex_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.match_regex_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a regex match of a string against a list of patterns.
Returns true if the string matches at least one pattern in the
list.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.memoize">
<code class="descclassname">fermipy.utils.</code><code class="descname">memoize</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#memoize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.memoize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.merge_dict">
<code class="descclassname">fermipy.utils.</code><code class="descname">merge_dict</code><span class="sig-paren">(</span><em>d0</em>, <em>d1</em>, <em>add_new_keys=False</em>, <em>append_arrays=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#merge_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.merge_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively merge the contents of python dictionary d0 with
the contents of another python dictionary, d1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>d0</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – The input dictionary.</li>
<li><strong>d1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary to be merged with the input dictionary.</li>
<li><strong>add_new_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Do not skip keys that only exist in d1.</li>
<li><strong>append_arrays</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – If an element is a numpy array set the value of that element by
concatenating the two arrays.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.merge_list_of_dicts">
<code class="descclassname">fermipy.utils.</code><code class="descname">merge_list_of_dicts</code><span class="sig-paren">(</span><em>listofdicts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#merge_list_of_dicts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.merge_list_of_dicts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.met_to_mjd">
<code class="descclassname">fermipy.utils.</code><code class="descname">met_to_mjd</code><span class="sig-paren">(</span><em>time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#met_to_mjd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.met_to_mjd" title="Permalink to this definition">¶</a></dt>
<dd><p>“Convert mission elapsed time to mean julian date.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.mkdir">
<code class="descclassname">fermipy.utils.</code><code class="descname">mkdir</code><span class="sig-paren">(</span><em>dir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#mkdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.mkdir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.onesided_cl_to_dlnl">
<code class="descclassname">fermipy.utils.</code><code class="descname">onesided_cl_to_dlnl</code><span class="sig-paren">(</span><em>cl</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#onesided_cl_to_dlnl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.onesided_cl_to_dlnl" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the delta-loglikehood values that corresponds to an
upper limit of the given confidence level.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cl</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Confidence level.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>dlnl</strong> – Delta-loglikelihood value with respect to the maximum of the
likelihood function.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.onesided_dlnl_to_cl">
<code class="descclassname">fermipy.utils.</code><code class="descname">onesided_dlnl_to_cl</code><span class="sig-paren">(</span><em>dlnl</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#onesided_dlnl_to_cl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.onesided_dlnl_to_cl" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the confidence level that corresponds to an upper limit
with a given change in the loglikelihood value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dlnl</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Delta-loglikelihood value with respect to the maximum of the
likelihood function.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>cl</strong> – Confidence level.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.overlap_slices">
<code class="descclassname">fermipy.utils.</code><code class="descname">overlap_slices</code><span class="sig-paren">(</span><em>large_array_shape</em>, <em>small_array_shape</em>, <em>position</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#overlap_slices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.overlap_slices" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified version of <a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.nddata.utils.overlap_slices.html#astropy.nddata.utils.overlap_slices" title="(in Astropy v3.2.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">overlap_slices</span></code></a>.</p>
<p>Get slices for the overlapping part of a small and a large array.</p>
<p>Given a certain position of the center of the small array, with
respect to the large array, tuples of slices are returned which can be
used to extract, add or subtract the small array at the given
position. This function takes care of the correct behavior at the
boundaries, where the small array is cut of appropriately.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>large_array_shape</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a>) – Shape of the large array.</li>
<li><strong>small_array_shape</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a>) – Shape of the small array.</li>
<li><strong>position</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a>) – Position of the small array’s center, with respect to the large array.
Coordinates should be in the same order as the array shape.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>slices_large</strong> (<em>tuple of slices</em>) – Slices in all directions for the large array, such that
<code class="docutils literal notranslate"><span class="pre">large_array[slices_large]</span></code> extracts the region of the large array
that overlaps with the small array.</li>
<li><strong>slices_small</strong> (<em>slice</em>) – Slices in all directions for the small array, such that
<code class="docutils literal notranslate"><span class="pre">small_array[slices_small]</span></code> extracts the region that is inside the
large array.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.parabola">
<code class="descclassname">fermipy.utils.</code><code class="descname">parabola</code><span class="sig-paren">(</span><em>xy</em>, <em>amplitude</em>, <em>x0</em>, <em>y0</em>, <em>sx</em>, <em>sy</em>, <em>theta</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#parabola"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.parabola" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate a 2D parabola given by:</p>
<p>f(x,y) = f_0 - (1/2) * delta^T * R * Sigma * R^T * delta</p>
<p>where</p>
<p>delta = [(x - x_0), (y - y_0)]</p>
<p>and R is the matrix for a 2D rotation by angle      heta and Sigma
is the covariance matrix:</p>
<dl class="docutils">
<dt>Sigma = [[1/sigma_x^2, 0           ],</dt>
<dd>[0           , 1/sigma_y^2]]</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>xy</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a>) – Tuple containing x and y arrays for the values at which the
parabola will be evaluated.</li>
<li><strong>amplitude</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Constant offset value.</li>
<li><strong>x0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Centroid in x coordinate.</li>
<li><strong>y0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Centroid in y coordinate.</li>
<li><strong>sx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Standard deviation along first axis (x-axis when theta=0).</li>
<li><strong>sy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Standard deviation along second axis (y-axis when theta=0).</li>
<li><strong>theta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Rotation angle in radians.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vals</strong> – Values of the parabola evaluated at the points defined in the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">xy</span></code> input tuple.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.path_to_xmlpath">
<code class="descclassname">fermipy.utils.</code><code class="descname">path_to_xmlpath</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#path_to_xmlpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.path_to_xmlpath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.poly_to_parabola">
<code class="descclassname">fermipy.utils.</code><code class="descname">poly_to_parabola</code><span class="sig-paren">(</span><em>coeff</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#poly_to_parabola"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.poly_to_parabola" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.prettify_xml">
<code class="descclassname">fermipy.utils.</code><code class="descname">prettify_xml</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#prettify_xml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.prettify_xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a pretty-printed XML string for the Element.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.project">
<code class="descclassname">fermipy.utils.</code><code class="descname">project</code><span class="sig-paren">(</span><em>lon0</em>, <em>lat0</em>, <em>lon1</em>, <em>lat1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#project"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.project" title="Permalink to this definition">¶</a></dt>
<dd><p>This function performs a stereographic projection on the unit
vector (lon1,lat1) with the pole defined at the reference unit
vector (lon0,lat0).</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.rebin_map">
<code class="descclassname">fermipy.utils.</code><code class="descname">rebin_map</code><span class="sig-paren">(</span><em>k</em>, <em>nebin</em>, <em>npix</em>, <em>rebin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#rebin_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.rebin_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.resolve_file_path">
<code class="descclassname">fermipy.utils.</code><code class="descname">resolve_file_path</code><span class="sig-paren">(</span><em>path</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#resolve_file_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.resolve_file_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.resolve_file_path_list">
<code class="descclassname">fermipy.utils.</code><code class="descname">resolve_file_path_list</code><span class="sig-paren">(</span><em>pathlist</em>, <em>workdir</em>, <em>prefix=''</em>, <em>randomize=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#resolve_file_path_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.resolve_file_path_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolve the path of each file name in the file <code class="docutils literal notranslate"><span class="pre">pathlist</span></code> and
write the updated paths to a new file.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.resolve_path">
<code class="descclassname">fermipy.utils.</code><code class="descname">resolve_path</code><span class="sig-paren">(</span><em>path</em>, <em>workdir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#resolve_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.resolve_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.scale_parameter">
<code class="descclassname">fermipy.utils.</code><code class="descname">scale_parameter</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#scale_parameter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.scale_parameter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.separation_cos_angle">
<code class="descclassname">fermipy.utils.</code><code class="descname">separation_cos_angle</code><span class="sig-paren">(</span><em>lon0</em>, <em>lat0</em>, <em>lon1</em>, <em>lat1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#separation_cos_angle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.separation_cos_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the cosine of the angular separation between two
direction vectors.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.split_bin_edges">
<code class="descclassname">fermipy.utils.</code><code class="descname">split_bin_edges</code><span class="sig-paren">(</span><em>edges</em>, <em>npts=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#split_bin_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.split_bin_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Subdivide an array of bins by splitting each bin into <code class="docutils literal notranslate"><span class="pre">npts</span></code>
subintervals.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>edges</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Bin edge array.</li>
<li><strong>npts</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of intervals into which each bin will be subdivided.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>edges</strong> – Subdivided bin edge array.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.strip_suffix">
<code class="descclassname">fermipy.utils.</code><code class="descname">strip_suffix</code><span class="sig-paren">(</span><em>filename</em>, <em>suffix</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#strip_suffix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.strip_suffix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.sum_bins">
<code class="descclassname">fermipy.utils.</code><code class="descname">sum_bins</code><span class="sig-paren">(</span><em>x</em>, <em>dim</em>, <em>npts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#sum_bins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.sum_bins" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.tolist">
<code class="descclassname">fermipy.utils.</code><code class="descname">tolist</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#tolist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.tolist" title="Permalink to this definition">¶</a></dt>
<dd><p>convenience function that takes in a
nested structure of lists and dictionaries
and converts everything to its base objects.
This is useful for dupming a file to yaml.</p>
<ol class="loweralpha">
<li><p class="first">numpy arrays into python lists</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">tolist</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="mi">123</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">int</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tolist</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]))</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
<li><p class="first">numpy strings into python strings.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tolist</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="s1">&#39;cat&#39;</span><span class="p">)])</span><span class="o">==</span><span class="p">[</span><span class="s1">&#39;cat&#39;</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
<li><p class="first">an ordered dict to a dict</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ordered</span><span class="o">=</span><span class="n">OrderedDict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">tolist</span><span class="p">(</span><span class="n">ordered</span><span class="p">))</span> <span class="o">==</span> <span class="nb">dict</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
<li><p class="first">converts unicode to regular strings</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">tolist</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;a&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="nb">str</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
<li><p class="first">converts numbers &amp; bools in strings to real represntation,
(i.e. ‘123’ -&gt; 123)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">tolist</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="s1">&#39;123&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">int</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">tolist</span><span class="p">(</span><span class="s1">&#39;123&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="nb">int</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tolist</span><span class="p">(</span><span class="s1">&#39;False&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
</ol>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.twosided_cl_to_dlnl">
<code class="descclassname">fermipy.utils.</code><code class="descname">twosided_cl_to_dlnl</code><span class="sig-paren">(</span><em>cl</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#twosided_cl_to_dlnl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.twosided_cl_to_dlnl" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the delta-loglikehood value that corresponds to a
two-sided interval of the given confidence level.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cl</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Confidence level.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>dlnl</strong> – Delta-loglikelihood value with respect to the maximum of the
likelihood function.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.twosided_dlnl_to_cl">
<code class="descclassname">fermipy.utils.</code><code class="descname">twosided_dlnl_to_cl</code><span class="sig-paren">(</span><em>dlnl</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#twosided_dlnl_to_cl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.twosided_dlnl_to_cl" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the confidence level that corresponds to a two-sided
interval with a given change in the loglikelihood value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dlnl</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Delta-loglikelihood value with respect to the maximum of the
likelihood function.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>cl</strong> – Confidence level.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.unicode_representer">
<code class="descclassname">fermipy.utils.</code><code class="descname">unicode_representer</code><span class="sig-paren">(</span><em>dumper</em>, <em>uni</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#unicode_representer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.unicode_representer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.unicode_to_str">
<code class="descclassname">fermipy.utils.</code><code class="descname">unicode_to_str</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#unicode_to_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.unicode_to_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.update_bounds">
<code class="descclassname">fermipy.utils.</code><code class="descname">update_bounds</code><span class="sig-paren">(</span><em>val</em>, <em>bounds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#update_bounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.update_bounds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.update_keys">
<code class="descclassname">fermipy.utils.</code><code class="descname">update_keys</code><span class="sig-paren">(</span><em>input_dict</em>, <em>key_map</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#update_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.update_keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.val_to_bin">
<code class="descclassname">fermipy.utils.</code><code class="descname">val_to_bin</code><span class="sig-paren">(</span><em>edges</em>, <em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#val_to_bin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.val_to_bin" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert axis coordinate to bin index.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.val_to_bin_bounded">
<code class="descclassname">fermipy.utils.</code><code class="descname">val_to_bin_bounded</code><span class="sig-paren">(</span><em>edges</em>, <em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#val_to_bin_bounded"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.val_to_bin_bounded" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert axis coordinate to bin index.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.val_to_edge">
<code class="descclassname">fermipy.utils.</code><code class="descname">val_to_edge</code><span class="sig-paren">(</span><em>edges</em>, <em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#val_to_edge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.val_to_edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert axis coordinate to bin index.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.utils.val_to_pix">
<code class="descclassname">fermipy.utils.</code><code class="descname">val_to_pix</code><span class="sig-paren">(</span><em>center</em>, <em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#val_to_pix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.val_to_pix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.write_yaml">
<code class="descclassname">fermipy.utils.</code><code class="descname">write_yaml</code><span class="sig-paren">(</span><em>o</em>, <em>outfile</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#write_yaml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.write_yaml" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.xmlpath_to_path">
<code class="descclassname">fermipy.utils.</code><code class="descname">xmlpath_to_path</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#xmlpath_to_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.xmlpath_to_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.utils.xyz_to_lonlat">
<code class="descclassname">fermipy.utils.</code><code class="descname">xyz_to_lonlat</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/utils.html#xyz_to_lonlat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.utils.xyz_to_lonlat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-fermipy.plotting">
<span id="fermipy-plotting-module"></span><h2>fermipy.plotting module<a class="headerlink" href="#module-fermipy.plotting" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fermipy.plotting.AnalysisPlotter">
<em class="property">class </em><code class="descclassname">fermipy.plotting.</code><code class="descname">AnalysisPlotter</code><span class="sig-paren">(</span><em>config</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#AnalysisPlotter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.AnalysisPlotter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.config.Configurable" title="fermipy.config.Configurable"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.config.Configurable</span></code></a></p>
<dl class="attribute">
<dt id="fermipy.plotting.AnalysisPlotter.defaults">
<code class="descname">defaults</code><em class="property"> = {'catalogs': (None, '', &lt;type 'list'&gt;), 'cmap': ('magma', 'Set the colormap for 2D plots.', &lt;type 'str'&gt;), 'cmap_resid': ('RdBu_r', 'Set the colormap for 2D residual plots.', &lt;type 'str'&gt;), 'figsize': ([8.0, 6.0], 'Set the default figure size.', &lt;type 'list'&gt;), 'fileio': {'logfile': (None, 'Path to log file.  If None then log will be written to fermipy.log.', &lt;type 'str'&gt;), 'outdir': (None, 'Path of the output directory.  If none this will default to the directory containing the configuration file.', &lt;type 'str'&gt;), 'outdir_regex': (['\\.fits$|\\.fit$|\\.xml$|\\.npy$|\\.png$|\\.pdf$|\\.yaml$'], 'Stage files to the output directory that match at least one of the regular expressions in this list.  This option only takes effect when ``usescratch`` is True.', &lt;type 'list'&gt;), 'savefits': (True, 'Save intermediate FITS files.', &lt;type 'bool'&gt;), 'scratchdir': ('/scratch', 'Path to the scratch directory.  If ``usescratch`` is True then a temporary working directory will be created under this directory.', &lt;type 'str'&gt;), 'usescratch': (False, 'Run analysis in a temporary working directory under ``scratchdir``.', &lt;type 'bool'&gt;), 'workdir': (None, 'Path to the working directory.', &lt;type 'str'&gt;), 'workdir_regex': (['\\.fits$|\\.fit$|\\.xml$|\\.npy$'], 'Stage files to the working directory that match at least one of the regular expressions in this list.  This option only takes effect when ``usescratch`` is True.', &lt;type 'list'&gt;)}, 'format': ('png', '', &lt;type 'str'&gt;), 'graticule_radii': (None, 'Define a list of radii at which circular graticules will be drawn.', &lt;type 'list'&gt;), 'interactive': (False, 'Enable interactive mode.  If True then plots will be drawn after each plotting command.', &lt;type 'bool'&gt;), 'label_ts_threshold': (0.0, 'TS threshold for labeling sources in sky maps.  If None then no sources will be labeled.', &lt;type 'float'&gt;), 'loge_bounds': (None, '', &lt;type 'list'&gt;), 'logging': {'chatter': (3, 'Set the chatter parameter of the STs.', &lt;type 'int'&gt;), 'prefix': ('', 'Prefix that will be appended to the logger name.', &lt;type 'str'&gt;), 'verbosity': (3, '', &lt;type 'int'&gt;)}}</em><a class="headerlink" href="#fermipy.plotting.AnalysisPlotter.defaults" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.plotting.AnalysisPlotter.make_extension_plots">
<code class="descname">make_extension_plots</code><span class="sig-paren">(</span><em>ext</em>, <em>roi=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#AnalysisPlotter.make_extension_plots"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.AnalysisPlotter.make_extension_plots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.plotting.AnalysisPlotter.make_localization_plots">
<code class="descname">make_localization_plots</code><span class="sig-paren">(</span><em>loc</em>, <em>roi=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#AnalysisPlotter.make_localization_plots"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.AnalysisPlotter.make_localization_plots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.plotting.AnalysisPlotter.make_residmap_plots">
<code class="descname">make_residmap_plots</code><span class="sig-paren">(</span><em>maps</em>, <em>roi=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#AnalysisPlotter.make_residmap_plots"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.AnalysisPlotter.make_residmap_plots" title="Permalink to this definition">¶</a></dt>
<dd><p>Make plots from the output of
<a class="reference internal" href="#fermipy.gtanalysis.GTAnalysis.residmap" title="fermipy.gtanalysis.GTAnalysis.residmap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">residmap</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>maps</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Output dictionary of
<a class="reference internal" href="#fermipy.gtanalysis.GTAnalysis.residmap" title="fermipy.gtanalysis.GTAnalysis.residmap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">residmap</span></code></a>.</li>
<li><strong>roi</strong> (<a class="reference internal" href="#fermipy.roi_model.ROIModel" title="fermipy.roi_model.ROIModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ROIModel</span></code></a>) – ROI Model object.  Generate markers at the positions of
the sources in this ROI.</li>
<li><strong>zoom</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Crop the image by this factor.  If None then no crop is
applied.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.plotting.AnalysisPlotter.make_roi_plots">
<code class="descname">make_roi_plots</code><span class="sig-paren">(</span><em>gta</em>, <em>mcube_tot</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#AnalysisPlotter.make_roi_plots"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.AnalysisPlotter.make_roi_plots" title="Permalink to this definition">¶</a></dt>
<dd><p>Make various diagnostic plots for the 1D and 2D
counts/model distributions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Prefix that will be appended to all filenames.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.plotting.AnalysisPlotter.make_sed_plots">
<code class="descname">make_sed_plots</code><span class="sig-paren">(</span><em>sed</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#AnalysisPlotter.make_sed_plots"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.AnalysisPlotter.make_sed_plots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.plotting.AnalysisPlotter.make_tsmap_plots">
<code class="descname">make_tsmap_plots</code><span class="sig-paren">(</span><em>maps</em>, <em>roi=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#AnalysisPlotter.make_tsmap_plots"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.AnalysisPlotter.make_tsmap_plots" title="Permalink to this definition">¶</a></dt>
<dd><p>Make plots from the output of
<a class="reference internal" href="#fermipy.gtanalysis.GTAnalysis.tsmap" title="fermipy.gtanalysis.GTAnalysis.tsmap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tsmap</span></code></a> or
<a class="reference internal" href="#fermipy.gtanalysis.GTAnalysis.tscube" title="fermipy.gtanalysis.GTAnalysis.tscube"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tscube</span></code></a>.  This method
generates a 2D sky map for the best-fit test source in
sqrt(TS) and Npred.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>maps</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Output dictionary of
<a class="reference internal" href="#fermipy.gtanalysis.GTAnalysis.tsmap" title="fermipy.gtanalysis.GTAnalysis.tsmap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tsmap</span></code></a> or
<a class="reference internal" href="#fermipy.gtanalysis.GTAnalysis.tscube" title="fermipy.gtanalysis.GTAnalysis.tscube"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tscube</span></code></a>.</li>
<li><strong>roi</strong> (<a class="reference internal" href="#fermipy.roi_model.ROIModel" title="fermipy.roi_model.ROIModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ROIModel</span></code></a>) – ROI Model object.  Generate markers at the positions of
the sources in this ROI.</li>
<li><strong>zoom</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Crop the image by this factor.  If None then no crop is
applied.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.plotting.AnalysisPlotter.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>gta</em>, <em>mcube_map</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#AnalysisPlotter.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.AnalysisPlotter.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Make all plots.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.plotting.ExtensionPlotter">
<em class="property">class </em><code class="descclassname">fermipy.plotting.</code><code class="descname">ExtensionPlotter</code><span class="sig-paren">(</span><em>src</em>, <em>roi</em>, <em>suffix</em>, <em>workdir</em>, <em>loge_bounds=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#ExtensionPlotter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.ExtensionPlotter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="fermipy.plotting.ExtensionPlotter.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>iaxis</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#ExtensionPlotter.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.ExtensionPlotter.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.plotting.ImagePlotter">
<em class="property">class </em><code class="descclassname">fermipy.plotting.</code><code class="descname">ImagePlotter</code><span class="sig-paren">(</span><em>img</em>, <em>mapping=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#ImagePlotter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.ImagePlotter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="attribute">
<dt id="fermipy.plotting.ImagePlotter.geom">
<code class="descname">geom</code><a class="headerlink" href="#fermipy.plotting.ImagePlotter.geom" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.plotting.ImagePlotter.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>subplot=111</em>, <em>cmap='magma'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#ImagePlotter.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.ImagePlotter.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.plotting.ImagePlotter.projtype">
<code class="descname">projtype</code><a class="headerlink" href="#fermipy.plotting.ImagePlotter.projtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.plotting.ROIPlotter">
<em class="property">class </em><code class="descclassname">fermipy.plotting.</code><code class="descname">ROIPlotter</code><span class="sig-paren">(</span><em>data_map</em>, <em>hpx2wcs=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#ROIPlotter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.ROIPlotter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.config.Configurable" title="fermipy.config.Configurable"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.config.Configurable</span></code></a></p>
<dl class="classmethod">
<dt id="fermipy.plotting.ROIPlotter.create_from_fits">
<em class="property">classmethod </em><code class="descname">create_from_fits</code><span class="sig-paren">(</span><em>fitsfile</em>, <em>roi</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#ROIPlotter.create_from_fits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.ROIPlotter.create_from_fits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.plotting.ROIPlotter.data">
<code class="descname">data</code><a class="headerlink" href="#fermipy.plotting.ROIPlotter.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.plotting.ROIPlotter.defaults">
<code class="descname">defaults</code><em class="property"> = {'catalogs': (None, '', &lt;type 'list'&gt;), 'cmap': ('ds9_b', '', &lt;type 'str'&gt;), 'graticule_radii': (None, '', &lt;type 'list'&gt;), 'label_ts_threshold': (0.0, '', &lt;type 'float'&gt;), 'loge_bounds': (None, '', &lt;type 'list'&gt;)}</em><a class="headerlink" href="#fermipy.plotting.ROIPlotter.defaults" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.plotting.ROIPlotter.draw_circle">
<code class="descname">draw_circle</code><span class="sig-paren">(</span><em>radius</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#ROIPlotter.draw_circle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.ROIPlotter.draw_circle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.plotting.ROIPlotter.geom">
<code class="descname">geom</code><a class="headerlink" href="#fermipy.plotting.ROIPlotter.geom" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="fermipy.plotting.ROIPlotter.get_data_projection">
<em class="property">static </em><code class="descname">get_data_projection</code><span class="sig-paren">(</span><em>data_map</em>, <em>axes</em>, <em>iaxis</em>, <em>xmin=-1</em>, <em>xmax=1</em>, <em>loge_bounds=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#ROIPlotter.get_data_projection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.ROIPlotter.get_data_projection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.plotting.ROIPlotter.map">
<code class="descname">map</code><a class="headerlink" href="#fermipy.plotting.ROIPlotter.map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.plotting.ROIPlotter.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#ROIPlotter.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.ROIPlotter.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.plotting.ROIPlotter.plot_catalog">
<code class="descname">plot_catalog</code><span class="sig-paren">(</span><em>catalog</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#ROIPlotter.plot_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.ROIPlotter.plot_catalog" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.plotting.ROIPlotter.plot_projection">
<code class="descname">plot_projection</code><span class="sig-paren">(</span><em>iaxis</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#ROIPlotter.plot_projection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.ROIPlotter.plot_projection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.plotting.ROIPlotter.plot_roi">
<code class="descname">plot_roi</code><span class="sig-paren">(</span><em>roi</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#ROIPlotter.plot_roi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.ROIPlotter.plot_roi" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.plotting.ROIPlotter.plot_sources">
<code class="descname">plot_sources</code><span class="sig-paren">(</span><em>skydir</em>, <em>labels</em>, <em>plot_kwargs</em>, <em>text_kwargs</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#ROIPlotter.plot_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.ROIPlotter.plot_sources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.plotting.ROIPlotter.proj">
<code class="descname">proj</code><a class="headerlink" href="#fermipy.plotting.ROIPlotter.proj" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.plotting.ROIPlotter.projtype">
<code class="descname">projtype</code><a class="headerlink" href="#fermipy.plotting.ROIPlotter.projtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="fermipy.plotting.ROIPlotter.setup_projection_axis">
<em class="property">static </em><code class="descname">setup_projection_axis</code><span class="sig-paren">(</span><em>iaxis</em>, <em>loge_bounds=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#ROIPlotter.setup_projection_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.ROIPlotter.setup_projection_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.plotting.ROIPlotter.zoom">
<code class="descname">zoom</code><span class="sig-paren">(</span><em>zoom</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#ROIPlotter.zoom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.ROIPlotter.zoom" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.plotting.SEDPlotter">
<em class="property">class </em><code class="descclassname">fermipy.plotting.</code><code class="descname">SEDPlotter</code><span class="sig-paren">(</span><em>sed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#SEDPlotter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.SEDPlotter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="staticmethod">
<dt id="fermipy.plotting.SEDPlotter.get_ylims">
<em class="property">static </em><code class="descname">get_ylims</code><span class="sig-paren">(</span><em>sed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#SEDPlotter.get_ylims"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.SEDPlotter.get_ylims" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.plotting.SEDPlotter.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>showlnl=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#SEDPlotter.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.SEDPlotter.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="fermipy.plotting.SEDPlotter.plot_flux_points">
<em class="property">static </em><code class="descname">plot_flux_points</code><span class="sig-paren">(</span><em>sed</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#SEDPlotter.plot_flux_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.SEDPlotter.plot_flux_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="fermipy.plotting.SEDPlotter.plot_lnlscan">
<em class="property">static </em><code class="descname">plot_lnlscan</code><span class="sig-paren">(</span><em>sed</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#SEDPlotter.plot_lnlscan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.SEDPlotter.plot_lnlscan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="fermipy.plotting.SEDPlotter.plot_model">
<em class="property">static </em><code class="descname">plot_model</code><span class="sig-paren">(</span><em>model_flux</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#SEDPlotter.plot_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.SEDPlotter.plot_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="fermipy.plotting.SEDPlotter.plot_resid">
<em class="property">static </em><code class="descname">plot_resid</code><span class="sig-paren">(</span><em>src</em>, <em>model_flux</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#SEDPlotter.plot_resid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.SEDPlotter.plot_resid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="fermipy.plotting.SEDPlotter.plot_sed">
<em class="property">static </em><code class="descname">plot_sed</code><span class="sig-paren">(</span><em>sed</em>, <em>showlnl=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#SEDPlotter.plot_sed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.SEDPlotter.plot_sed" title="Permalink to this definition">¶</a></dt>
<dd><p>Render a plot of a spectral energy distribution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>showlnl</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Overlay a map of the delta-loglikelihood values vs. flux
in each energy bin.</li>
<li><strong>cmap</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Colormap that will be used for the delta-loglikelihood
map.</li>
<li><strong>llhcut</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Minimum delta-loglikelihood value.</li>
<li><strong>ul_ts_threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – TS threshold that determines whether the MLE or UL
is plotted in each energy bin.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.plotting.SEDPlotter.sed">
<code class="descname">sed</code><a class="headerlink" href="#fermipy.plotting.SEDPlotter.sed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="fermipy.plotting.annotate">
<code class="descclassname">fermipy.plotting.</code><code class="descname">annotate</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#annotate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.annotate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.plotting.annotate_name">
<code class="descclassname">fermipy.plotting.</code><code class="descname">annotate_name</code><span class="sig-paren">(</span><em>data</em>, <em>xy=(0.05</em>, <em>0.93)</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#annotate_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.annotate_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.plotting.get_xerr">
<code class="descclassname">fermipy.plotting.</code><code class="descname">get_xerr</code><span class="sig-paren">(</span><em>sed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#get_xerr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.get_xerr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.plotting.load_bluered_cmap">
<code class="descclassname">fermipy.plotting.</code><code class="descname">load_bluered_cmap</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#load_bluered_cmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.load_bluered_cmap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.plotting.load_ds9_cmap">
<code class="descclassname">fermipy.plotting.</code><code class="descname">load_ds9_cmap</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#load_ds9_cmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.load_ds9_cmap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.plotting.make_counts_spectrum_plot">
<code class="descclassname">fermipy.plotting.</code><code class="descname">make_counts_spectrum_plot</code><span class="sig-paren">(</span><em>o</em>, <em>roi</em>, <em>energies</em>, <em>imfile</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#make_counts_spectrum_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.make_counts_spectrum_plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.plotting.make_cube_slice">
<code class="descclassname">fermipy.plotting.</code><code class="descname">make_cube_slice</code><span class="sig-paren">(</span><em>map_in</em>, <em>loge_bounds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#make_cube_slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.make_cube_slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a slice from a map cube object.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.plotting.plot_error_ellipse">
<code class="descclassname">fermipy.plotting.</code><code class="descname">plot_error_ellipse</code><span class="sig-paren">(</span><em>fit</em>, <em>xy</em>, <em>cdelt</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#plot_error_ellipse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.plot_error_ellipse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.plotting.plot_markers">
<code class="descclassname">fermipy.plotting.</code><code class="descname">plot_markers</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#plot_markers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.plot_markers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.plotting.truncate_colormap">
<code class="descclassname">fermipy.plotting.</code><code class="descname">truncate_colormap</code><span class="sig-paren">(</span><em>cmap</em>, <em>minval=0.0</em>, <em>maxval=1.0</em>, <em>n=256</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/plotting.html#truncate_colormap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.plotting.truncate_colormap" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that extracts a subset of a colormap.</p>
</dd></dl>

</div>
<div class="section" id="module-fermipy.sed">
<span id="fermipy-sed-module"></span><h2>fermipy.sed module<a class="headerlink" href="#module-fermipy.sed" title="Permalink to this headline">¶</a></h2>
<p>Utilities for dealing with SEDs</p>
<dl class="docutils">
<dt>Many parts of this code are taken from dsphs/like/lnlfn.py by</dt>
<dd>Matthew Wood &lt;<a class="reference external" href="mailto:mdwood&#37;&#52;&#48;slac&#46;stanford&#46;edu">mdwood<span>&#64;</span>slac<span>&#46;</span>stanford<span>&#46;</span>edu</a>&gt;
Alex Drlica-Wagner &lt;<a class="reference external" href="mailto:kadrlica&#37;&#52;&#48;slac&#46;stanford&#46;edu">kadrlica<span>&#64;</span>slac<span>&#46;</span>stanford<span>&#46;</span>edu</a>&gt;</dd>
</dl>
<dl class="class">
<dt id="fermipy.sed.SEDGenerator">
<em class="property">class </em><code class="descclassname">fermipy.sed.</code><code class="descname">SEDGenerator</code><a class="reference internal" href="_modules/fermipy/sed.html#SEDGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.sed.SEDGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Mixin class that provides SED functionality to
<a class="reference internal" href="#fermipy.gtanalysis.GTAnalysis" title="fermipy.gtanalysis.GTAnalysis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GTAnalysis</span></code></a>.</p>
<dl class="method">
<dt id="fermipy.sed.SEDGenerator.sed">
<code class="descname">sed</code><span class="sig-paren">(</span><em>name</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/sed.html#SEDGenerator.sed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.sed.SEDGenerator.sed" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a spectral energy distribution (SED) for a source.  This
function will fit the normalization of the source in each
energy bin.  By default the SED will be generated with the
analysis energy bins but a custom binning can be defined with
the <code class="docutils literal notranslate"><span class="pre">loge_bins</span></code> parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Optional string that will be prepended to all output files
(FITS and rendered images).</li>
<li><strong>loge_bins</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Sequence of energies in log10(E/MeV) defining the edges of
the energy bins.  If this argument is None then the
analysis energy bins will be used.  The energies in this
sequence must align with the bin edges of the underyling
analysis instance.</li>
<li><strong>{options}</strong> – </li>
<li><strong>optimizer</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary that overrides the default optimizer settings.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>sed</strong> – Dictionary containing output of the SED analysis.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-fermipy.sourcefind">
<span id="fermipy-sourcefind-module"></span><h2>fermipy.sourcefind module<a class="headerlink" href="#module-fermipy.sourcefind" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fermipy.sourcefind.SourceFind">
<em class="property">class </em><code class="descclassname">fermipy.sourcefind.</code><code class="descname">SourceFind</code><a class="reference internal" href="_modules/fermipy/sourcefind.html#SourceFind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.sourcefind.SourceFind" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Mixin class which provides source-finding functionality to
<a class="reference internal" href="#fermipy.gtanalysis.GTAnalysis" title="fermipy.gtanalysis.GTAnalysis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GTAnalysis</span></code></a>.</p>
<dl class="method">
<dt id="fermipy.sourcefind.SourceFind.find_sources">
<code class="descname">find_sources</code><span class="sig-paren">(</span><em>prefix=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/sourcefind.html#SourceFind.find_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.sourcefind.SourceFind.find_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>An iterative source-finding algorithm that uses likelihood
ratio (TS) maps of the region of interest to find new sources.
After each iteration a new TS map is generated incorporating
sources found in the previous iteration.  The method stops
when the number of iterations exceeds <code class="docutils literal notranslate"><span class="pre">max_iter</span></code> or no
sources exceeding <code class="docutils literal notranslate"><span class="pre">sqrt_ts_threshold</span></code> are found.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>{options}</strong> – </li>
<li><strong>tsmap</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Keyword arguments dictionary for tsmap method.</li>
<li><strong>tscube</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Keyword arguments dictionary for tscube method.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>peaks</strong> (<em>list</em>) – List of peak objects.</li>
<li><strong>sources</strong> (<em>list</em>) – List of source objects.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.sourcefind.SourceFind.localize">
<code class="descname">localize</code><span class="sig-paren">(</span><em>name</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/sourcefind.html#SourceFind.localize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.sourcefind.SourceFind.localize" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the best-fit position of a source.  Localization is
performed in two steps.  First a TS map is computed centered
on the source with half-width set by <code class="docutils literal notranslate"><span class="pre">dtheta_max</span></code>.  A fit is
then performed to the maximum TS peak in this map.  The source
position is then further refined by scanning the likelihood in
the vicinity of the peak found in the first step.  The size of
the scan region is set to encompass the 99% positional
uncertainty contour as determined from the peak fit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Source name.</li>
<li><strong>{options}</strong> – </li>
<li><strong>optimizer</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary that overrides the default optimizer settings.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>localize</strong> – Dictionary containing results of the localization
analysis.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-fermipy.spectrum">
<span id="fermipy-spectrum-module"></span><h2>fermipy.spectrum module<a class="headerlink" href="#module-fermipy.spectrum" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fermipy.spectrum.DMFitFunction">
<em class="property">class </em><code class="descclassname">fermipy.spectrum.</code><code class="descname">DMFitFunction</code><span class="sig-paren">(</span><em>params</em>, <em>chan='bb'</em>, <em>jfactor=1e+19</em>, <em>tablepath=None</em>, <em>dfactor=1e+17</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#DMFitFunction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.DMFitFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.spectrum.SpectralFunction" title="fermipy.spectrum.SpectralFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.spectrum.SpectralFunction</span></code></a></p>
<p>Class that evaluates the spectrum for a DM particle of a given
mass, channel, cross section, and J-factor.  The parameterization
is given by:</p>
<p>F(x) = 1 / (8 * pi) * (1/mass^2) * sigmav * J * dN/dE(E,mass,i)</p>
<p>where the <code class="xref py py-obj docutils literal notranslate"><span class="pre">params</span></code> array should be defined with:</p>
<ul class="simple">
<li>params[0] : sigmav (or tau for decay)</li>
<li>params[1] : mass</li>
</ul>
<p>Note that this class assumes that mass and J-factor are provided
in units of GeV and GeV^2 cm^-5 while energies are defined in MeV.</p>
<p>For decay the D-factor is in uits of GeV cm^-2 s</p>
<dl class="attribute">
<dt id="fermipy.spectrum.DMFitFunction.ann_channel_names">
<code class="descname">ann_channel_names</code><a class="headerlink" href="#fermipy.spectrum.DMFitFunction.ann_channel_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.spectrum.DMFitFunction.chan">
<code class="descname">chan</code><a class="headerlink" href="#fermipy.spectrum.DMFitFunction.chan" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the channel string.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.spectrum.DMFitFunction.chan_code">
<code class="descname">chan_code</code><a class="headerlink" href="#fermipy.spectrum.DMFitFunction.chan_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the channel code.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.spectrum.DMFitFunction.channel_index_mapping">
<code class="descname">channel_index_mapping</code><em class="property"> = {1: 8, 2: 6, 3: 3, 4: 1, 5: 2, 6: 7, 7: 4, 8: 5, 9: 0, 10: 10, 11: 11, 12: 9, 101: 8, 102: 6, 103: 3, 104: 1, 105: 2, 106: 7, 107: 4, 108: 5, 109: 0, 110: 10, 111: 11, 112: 9}</em><a class="headerlink" href="#fermipy.spectrum.DMFitFunction.channel_index_mapping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.spectrum.DMFitFunction.channel_name_mapping">
<code class="descname">channel_name_mapping</code><em class="property"> = {1: ['e+e-', 'ee'], 2: ['mu+mu-', 'mumu', 'musrc'], 3: ['tau+tau-', 'tautau', 'tausrc'], 4: ['bb-bar', 'bb', 'bbbar', 'bbsrc'], 5: ['tt-bar', 'tt'], 6: ['gluons', 'gg'], 7: ['W+W-', 'w+w-', 'ww', 'wwsrc'], 8: ['ZZ', 'zz'], 9: ['cc-bar', 'cc'], 10: ['uu-bar', 'uu'], 11: ['dd-bar', 'dd'], 12: ['ss-bar', 'ss'], 101: ['e+e-_decay', 'ee_decay'], 102: ['mu+mu-_decay', 'mumu_decay', 'musrc_decay'], 103: ['tau+tau-_decay', 'tautau_decay', 'tausrc_decay'], 104: ['bb-bar_decay', 'bb_decay', 'bbbar_decay', 'bbsrc_decay'], 105: ['tt-bar_decay', 'tt_decay'], 106: ['gluons_decay', 'gg_decay'], 107: ['W+W-_decay', 'w+w-_decay', 'ww_decay', 'wwsrc_decay'], 108: ['ZZ_decay', 'zz_decay'], 109: ['cc-bar_decay', 'cc_decay'], 110: ['uu-bar_decay', 'uu_decay'], 111: ['dd-bar_decay', 'dd_decay'], 112: ['ss-bar_decay', 'ss_decay']}</em><a class="headerlink" href="#fermipy.spectrum.DMFitFunction.channel_name_mapping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.spectrum.DMFitFunction.channel_rev_map">
<code class="descname">channel_rev_map</code><em class="property"> = {'W+W-': 7, 'W+W-_decay': 107, 'ZZ': 8, 'ZZ_decay': 108, 'bb': 4, 'bb-bar': 4, 'bb-bar_decay': 104, 'bb_decay': 104, 'bbbar': 4, 'bbbar_decay': 104, 'bbsrc': 4, 'bbsrc_decay': 104, 'cc': 9, 'cc-bar': 9, 'cc-bar_decay': 109, 'cc_decay': 109, 'dd': 11, 'dd-bar': 11, 'dd-bar_decay': 111, 'dd_decay': 111, 'e+e-': 1, 'e+e-_decay': 101, 'ee': 1, 'ee_decay': 101, 'gg': 6, 'gg_decay': 106, 'gluons': 6, 'gluons_decay': 106, 'mu+mu-': 2, 'mu+mu-_decay': 102, 'mumu': 2, 'mumu_decay': 102, 'musrc': 2, 'musrc_decay': 102, 'ss': 12, 'ss-bar': 12, 'ss-bar_decay': 112, 'ss_decay': 112, 'tau+tau-': 3, 'tau+tau-_decay': 103, 'tausrc': 3, 'tausrc_decay': 103, 'tautau': 3, 'tautau_decay': 103, 'tt': 5, 'tt-bar': 5, 'tt-bar_decay': 105, 'tt_decay': 105, 'uu': 10, 'uu-bar': 10, 'uu-bar_decay': 110, 'uu_decay': 110, 'w+w-': 7, 'w+w-_decay': 107, 'ww': 7, 'ww_decay': 107, 'wwsrc': 7, 'wwsrc_decay': 107, 'zz': 8, 'zz_decay': 108}</em><a class="headerlink" href="#fermipy.spectrum.DMFitFunction.channel_rev_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.spectrum.DMFitFunction.channel_shortname_mapping">
<code class="descname">channel_shortname_mapping</code><em class="property"> = {1: 'ee', 2: 'mumu', 3: 'tautau', 4: 'bb', 5: 'tt', 6: 'gg', 7: 'ww', 8: 'zz', 9: 'cc', 10: 'uu', 11: 'dd', 12: 'ss', 101: 'ee', 102: 'mumu', 103: 'tautau', 104: 'bb', 105: 'tt', 106: 'gg', 107: 'ww', 108: 'zz', 109: 'cc', 110: 'uu', 111: 'dd', 112: 'ss'}</em><a class="headerlink" href="#fermipy.spectrum.DMFitFunction.channel_shortname_mapping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="fermipy.spectrum.DMFitFunction.channels">
<em class="property">static </em><code class="descname">channels</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#DMFitFunction.channels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.DMFitFunction.channels" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all available DMFit channel strings</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.spectrum.DMFitFunction.decay">
<code class="descname">decay</code><a class="headerlink" href="#fermipy.spectrum.DMFitFunction.decay" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this is a decay spectrum</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.spectrum.DMFitFunction.decay_channel_names">
<code class="descname">decay_channel_names</code><a class="headerlink" href="#fermipy.spectrum.DMFitFunction.decay_channel_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="fermipy.spectrum.DMFitFunction.nparam">
<em class="property">static </em><code class="descname">nparam</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#DMFitFunction.nparam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.DMFitFunction.nparam" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.spectrum.DMFitFunction.set_channel">
<code class="descname">set_channel</code><span class="sig-paren">(</span><em>chan</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#DMFitFunction.set_channel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.DMFitFunction.set_channel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.spectrum.LogParabola">
<em class="property">class </em><code class="descclassname">fermipy.spectrum.</code><code class="descname">LogParabola</code><span class="sig-paren">(</span><em>params=None</em>, <em>scale=1.0</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#LogParabola"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.LogParabola" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.spectrum.SpectralFunction" title="fermipy.spectrum.SpectralFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.spectrum.SpectralFunction</span></code></a></p>
<p>Class that evaluates a function with the parameterization:</p>
<p>F(x) = p_0 * (x/x_s)^(p_1 - p_2*log(x/x_s) )</p>
<p>where x_s is a scale parameter.  The <code class="xref py py-obj docutils literal notranslate"><span class="pre">params</span></code> array should be
defined with:</p>
<ul class="simple">
<li>params[0] : Prefactor (p_0)</li>
<li>params[1] : Index (p_1)</li>
<li>params[2] : Curvature (p_2)</li>
</ul>
<dl class="staticmethod">
<dt id="fermipy.spectrum.LogParabola.nparam">
<em class="property">static </em><code class="descname">nparam</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#LogParabola.nparam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.LogParabola.nparam" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.spectrum.PLExpCutoff">
<em class="property">class </em><code class="descclassname">fermipy.spectrum.</code><code class="descname">PLExpCutoff</code><span class="sig-paren">(</span><em>params=None</em>, <em>scale=1.0</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#PLExpCutoff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.PLExpCutoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.spectrum.SpectralFunction" title="fermipy.spectrum.SpectralFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.spectrum.SpectralFunction</span></code></a></p>
<p>Class that evaluates a function with the parameterization:</p>
<p>F(x) = p_0 * (x/x_s)^(p_1) * exp(- x/p_2 )</p>
<p>where x_s is the scale parameter.  The <code class="xref py py-obj docutils literal notranslate"><span class="pre">params</span></code> array should be
defined with:</p>
<ul class="simple">
<li>params[0] : Prefactor (p_0)</li>
<li>params[1] : Index (p_1)</li>
<li>params[2] : Cutoff (p_2)</li>
</ul>
<dl class="staticmethod">
<dt id="fermipy.spectrum.PLExpCutoff.log_to_params">
<em class="property">static </em><code class="descname">log_to_params</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#PLExpCutoff.log_to_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.PLExpCutoff.log_to_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="fermipy.spectrum.PLExpCutoff.nparam">
<em class="property">static </em><code class="descname">nparam</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#PLExpCutoff.nparam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.PLExpCutoff.nparam" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="fermipy.spectrum.PLExpCutoff.params_to_log">
<em class="property">static </em><code class="descname">params_to_log</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#PLExpCutoff.params_to_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.PLExpCutoff.params_to_log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.spectrum.PLSuperExpCutoff">
<em class="property">class </em><code class="descclassname">fermipy.spectrum.</code><code class="descname">PLSuperExpCutoff</code><span class="sig-paren">(</span><em>params=None</em>, <em>scale=1.0</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#PLSuperExpCutoff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.PLSuperExpCutoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.spectrum.SpectralFunction" title="fermipy.spectrum.SpectralFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.spectrum.SpectralFunction</span></code></a></p>
<p>Class that evaluates a function with the parameterization:</p>
<p>F(x) = p_0 * (x/x_s)^(p_1) * exp(-(x/p2)**p3)</p>
<p>where x_s is the scale parameter.  The <code class="xref py py-obj docutils literal notranslate"><span class="pre">params</span></code> array should be
defined with:</p>
<ul class="simple">
<li>params[0] : Prefactor (p_0)</li>
<li>params[1] : Index1 (p_1)</li>
<li>params[2] : Curvature (p_2)</li>
<li>params[3] : Index2 (p3)</li>
</ul>
<dl class="staticmethod">
<dt id="fermipy.spectrum.PLSuperExpCutoff.log_to_params">
<em class="property">static </em><code class="descname">log_to_params</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#PLSuperExpCutoff.log_to_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.PLSuperExpCutoff.log_to_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="fermipy.spectrum.PLSuperExpCutoff.nparam">
<em class="property">static </em><code class="descname">nparam</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#PLSuperExpCutoff.nparam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.PLSuperExpCutoff.nparam" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="fermipy.spectrum.PLSuperExpCutoff.params_to_log">
<em class="property">static </em><code class="descname">params_to_log</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#PLSuperExpCutoff.params_to_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.PLSuperExpCutoff.params_to_log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.spectrum.PowerLaw">
<em class="property">class </em><code class="descclassname">fermipy.spectrum.</code><code class="descname">PowerLaw</code><span class="sig-paren">(</span><em>params=None</em>, <em>scale=1.0</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#PowerLaw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.PowerLaw" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.spectrum.SpectralFunction" title="fermipy.spectrum.SpectralFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.spectrum.SpectralFunction</span></code></a></p>
<p>Class that evaluates a power-law function with the
parameterization:</p>
<p>F(x) = p_0 * (x/x_s)^p_1</p>
<p>where x_s is the scale parameter.  The <code class="xref py py-obj docutils literal notranslate"><span class="pre">params</span></code> array should be
defined with:</p>
<ul class="simple">
<li>params[0] : Prefactor (p_0)</li>
<li>params[1] : Index (p_1)</li>
</ul>
<dl class="classmethod">
<dt id="fermipy.spectrum.PowerLaw.eval_eflux">
<em class="property">classmethod </em><code class="descname">eval_eflux</code><span class="sig-paren">(</span><em>emin</em>, <em>emax</em>, <em>params</em>, <em>scale=1.0</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#PowerLaw.eval_eflux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.PowerLaw.eval_eflux" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="fermipy.spectrum.PowerLaw.eval_flux">
<em class="property">static </em><code class="descname">eval_flux</code><span class="sig-paren">(</span><em>emin</em>, <em>emax</em>, <em>params</em>, <em>scale=1.0</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#PowerLaw.eval_flux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.PowerLaw.eval_flux" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.spectrum.PowerLaw.eval_norm">
<em class="property">classmethod </em><code class="descname">eval_norm</code><span class="sig-paren">(</span><em>scale</em>, <em>index</em>, <em>emin</em>, <em>emax</em>, <em>flux</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#PowerLaw.eval_norm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.PowerLaw.eval_norm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="fermipy.spectrum.PowerLaw.nparam">
<em class="property">static </em><code class="descname">nparam</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#PowerLaw.nparam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.PowerLaw.nparam" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.spectrum.SEDEFluxFunctor">
<em class="property">class </em><code class="descclassname">fermipy.spectrum.</code><code class="descname">SEDEFluxFunctor</code><span class="sig-paren">(</span><em>sfn</em>, <em>emin</em>, <em>emax</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SEDEFluxFunctor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SEDEFluxFunctor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.spectrum.SEDFunctor" title="fermipy.spectrum.SEDFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.spectrum.SEDFunctor</span></code></a></p>
<p>Functor that computes the energy flux of a source in a
pre-defined sequence of energy bins.</p>
</dd></dl>

<dl class="class">
<dt id="fermipy.spectrum.SEDFluxFunctor">
<em class="property">class </em><code class="descclassname">fermipy.spectrum.</code><code class="descname">SEDFluxFunctor</code><span class="sig-paren">(</span><em>sfn</em>, <em>emin</em>, <em>emax</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SEDFluxFunctor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SEDFluxFunctor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.spectrum.SEDFunctor" title="fermipy.spectrum.SEDFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.spectrum.SEDFunctor</span></code></a></p>
<p>Functor that computes the flux of a source in a pre-defined
sequence of energy bins.</p>
</dd></dl>

<dl class="class">
<dt id="fermipy.spectrum.SEDFunctor">
<em class="property">class </em><code class="descclassname">fermipy.spectrum.</code><code class="descname">SEDFunctor</code><span class="sig-paren">(</span><em>sfn</em>, <em>emin</em>, <em>emax</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SEDFunctor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SEDFunctor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Functor object that wraps a
<a class="reference internal" href="#fermipy.spectrum.SpectralFunction" title="fermipy.spectrum.SpectralFunction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SpectralFunction</span></code></a> and computes the
normalization of the model in a sequence of SED energy bins.  The
evaluation method of this class accepts a single vector for the
parameters of the model.  This class serves as an object that can
be passed to likelihood optimizers.</p>
<dl class="attribute">
<dt id="fermipy.spectrum.SEDFunctor.emax">
<code class="descname">emax</code><a class="headerlink" href="#fermipy.spectrum.SEDFunctor.emax" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.spectrum.SEDFunctor.emin">
<code class="descname">emin</code><a class="headerlink" href="#fermipy.spectrum.SEDFunctor.emin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.spectrum.SEDFunctor.params">
<code class="descname">params</code><a class="headerlink" href="#fermipy.spectrum.SEDFunctor.params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.spectrum.SEDFunctor.scale">
<code class="descname">scale</code><a class="headerlink" href="#fermipy.spectrum.SEDFunctor.scale" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.spectrum.SEDFunctor.spectral_fn">
<code class="descname">spectral_fn</code><a class="headerlink" href="#fermipy.spectrum.SEDFunctor.spectral_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.spectrum.SpectralFunction">
<em class="property">class </em><code class="descclassname">fermipy.spectrum.</code><code class="descname">SpectralFunction</code><span class="sig-paren">(</span><em>params</em>, <em>scale=1.0</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for spectral models.  Spectral models inheriting
from this class should implement at a minimum an <code class="xref py py-obj docutils literal notranslate"><span class="pre">_eval_dnde</span></code>
method which evaluates the differential flux at a given energy.</p>
<dl class="classmethod">
<dt id="fermipy.spectrum.SpectralFunction.create_eflux_functor">
<em class="property">classmethod </em><code class="descname">create_eflux_functor</code><span class="sig-paren">(</span><em>emin</em>, <em>emax</em>, <em>params=None</em>, <em>scale=1.0</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.create_eflux_functor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.create_eflux_functor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.spectrum.SpectralFunction.create_flux_functor">
<em class="property">classmethod </em><code class="descname">create_flux_functor</code><span class="sig-paren">(</span><em>emin</em>, <em>emax</em>, <em>params=None</em>, <em>scale=1.0</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.create_flux_functor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.create_flux_functor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.spectrum.SpectralFunction.create_from_eflux">
<em class="property">classmethod </em><code class="descname">create_from_eflux</code><span class="sig-paren">(</span><em>params</em>, <em>emin</em>, <em>emax</em>, <em>eflux</em>, <em>scale=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.create_from_eflux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.create_from_eflux" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a spectral function instance given its energy flux.</p>
</dd></dl>

<dl class="classmethod">
<dt id="fermipy.spectrum.SpectralFunction.create_from_flux">
<em class="property">classmethod </em><code class="descname">create_from_flux</code><span class="sig-paren">(</span><em>params</em>, <em>emin</em>, <em>emax</em>, <em>flux</em>, <em>scale=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.create_from_flux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.create_from_flux" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a spectral function instance given its flux.</p>
</dd></dl>

<dl class="classmethod">
<dt id="fermipy.spectrum.SpectralFunction.create_functor">
<em class="property">classmethod </em><code class="descname">create_functor</code><span class="sig-paren">(</span><em>spec_type</em>, <em>func_type</em>, <em>emin</em>, <em>emax</em>, <em>params=None</em>, <em>scale=1.0</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.create_functor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.create_functor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.spectrum.SpectralFunction.dnde">
<code class="descname">dnde</code><span class="sig-paren">(</span><em>x</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.dnde"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.dnde" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate differential flux.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.spectrum.SpectralFunction.dnde_deriv">
<code class="descname">dnde_deriv</code><span class="sig-paren">(</span><em>x</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.dnde_deriv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.dnde_deriv" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate derivative of the differential flux with respect to E.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.spectrum.SpectralFunction.e2dnde">
<code class="descname">e2dnde</code><span class="sig-paren">(</span><em>x</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.e2dnde"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.e2dnde" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate E^2 times differential flux.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.spectrum.SpectralFunction.e2dnde_deriv">
<code class="descname">e2dnde_deriv</code><span class="sig-paren">(</span><em>x</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.e2dnde_deriv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.e2dnde_deriv" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate derivative of E^2 times differential flux with
respect to E.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.spectrum.SpectralFunction.ednde">
<code class="descname">ednde</code><span class="sig-paren">(</span><em>x</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.ednde"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.ednde" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate E times differential flux.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.spectrum.SpectralFunction.ednde_deriv">
<code class="descname">ednde_deriv</code><span class="sig-paren">(</span><em>x</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.ednde_deriv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.ednde_deriv" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate derivative of E times differential flux with respect to
E.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.spectrum.SpectralFunction.eflux">
<code class="descname">eflux</code><span class="sig-paren">(</span><em>emin</em>, <em>emax</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.eflux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.eflux" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the integral energy flux.</p>
</dd></dl>

<dl class="classmethod">
<dt id="fermipy.spectrum.SpectralFunction.eval_dnde">
<em class="property">classmethod </em><code class="descname">eval_dnde</code><span class="sig-paren">(</span><em>x</em>, <em>params</em>, <em>scale=1.0</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.eval_dnde"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.eval_dnde" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.spectrum.SpectralFunction.eval_dnde_deriv">
<em class="property">classmethod </em><code class="descname">eval_dnde_deriv</code><span class="sig-paren">(</span><em>x</em>, <em>params</em>, <em>scale=1.0</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.eval_dnde_deriv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.eval_dnde_deriv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.spectrum.SpectralFunction.eval_e2dnde">
<em class="property">classmethod </em><code class="descname">eval_e2dnde</code><span class="sig-paren">(</span><em>x</em>, <em>params</em>, <em>scale=1.0</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.eval_e2dnde"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.eval_e2dnde" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.spectrum.SpectralFunction.eval_e2dnde_deriv">
<em class="property">classmethod </em><code class="descname">eval_e2dnde_deriv</code><span class="sig-paren">(</span><em>x</em>, <em>params</em>, <em>scale=1.0</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.eval_e2dnde_deriv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.eval_e2dnde_deriv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.spectrum.SpectralFunction.eval_ednde">
<em class="property">classmethod </em><code class="descname">eval_ednde</code><span class="sig-paren">(</span><em>x</em>, <em>params</em>, <em>scale=1.0</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.eval_ednde"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.eval_ednde" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.spectrum.SpectralFunction.eval_ednde_deriv">
<em class="property">classmethod </em><code class="descname">eval_ednde_deriv</code><span class="sig-paren">(</span><em>x</em>, <em>params</em>, <em>scale=1.0</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.eval_ednde_deriv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.eval_ednde_deriv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.spectrum.SpectralFunction.eval_eflux">
<em class="property">classmethod </em><code class="descname">eval_eflux</code><span class="sig-paren">(</span><em>emin</em>, <em>emax</em>, <em>params</em>, <em>scale=1.0</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.eval_eflux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.eval_eflux" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.spectrum.SpectralFunction.eval_flux">
<em class="property">classmethod </em><code class="descname">eval_flux</code><span class="sig-paren">(</span><em>emin</em>, <em>emax</em>, <em>params</em>, <em>scale=1.0</em>, <em>extra_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.eval_flux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.eval_flux" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.spectrum.SpectralFunction.extra_params">
<code class="descname">extra_params</code><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.extra_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary containing additional parameters needed for
evaluation of the function.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.spectrum.SpectralFunction.flux">
<code class="descname">flux</code><span class="sig-paren">(</span><em>emin</em>, <em>emax</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#SpectralFunction.flux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.flux" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the integral flux.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.spectrum.SpectralFunction.log_params">
<code class="descname">log_params</code><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.log_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return transformed parameter vector in which norm and scale
parameters are converted to log10.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.spectrum.SpectralFunction.params">
<code class="descname">params</code><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Return parameter vector of the function.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.spectrum.SpectralFunction.scale">
<code class="descname">scale</code><a class="headerlink" href="#fermipy.spectrum.SpectralFunction.scale" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="fermipy.spectrum.cast_args">
<code class="descclassname">fermipy.spectrum.</code><code class="descname">cast_args</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#cast_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.cast_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.spectrum.cast_params">
<code class="descclassname">fermipy.spectrum.</code><code class="descname">cast_params</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/spectrum.html#cast_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.spectrum.cast_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-fermipy.skymap">
<span id="fermipy-skymap-module"></span><h2>fermipy.skymap module<a class="headerlink" href="#module-fermipy.skymap" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fermipy.skymap.HpxMap">
<em class="property">class </em><code class="descclassname">fermipy.skymap.</code><code class="descname">HpxMap</code><span class="sig-paren">(</span><em>counts</em>, <em>hpx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#HpxMap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.HpxMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.skymap.Map_Base" title="fermipy.skymap.Map_Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.skymap.Map_Base</span></code></a></p>
<p>Representation of a 2D or 3D counts map using HEALPix.</p>
<dl class="method">
<dt id="fermipy.skymap.HpxMap.convert_to_cached_wcs">
<code class="descname">convert_to_cached_wcs</code><span class="sig-paren">(</span><em>hpx_in</em>, <em>sum_ebins=False</em>, <em>normalize=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#HpxMap.convert_to_cached_wcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.HpxMap.convert_to_cached_wcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a WCS object and convert HEALPix data into WCS projection</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>hpx_in</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – HEALPix input data</li>
<li><strong>sum_ebins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – sum energy bins over energy bins before reprojecting</li>
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – True -&gt; perserve integral by splitting HEALPix values between bins</li>
<li><strong>(</strong><strong>WCS object</strong><strong>, </strong><strong>np.ndarray</strong><strong>(</strong><strong>) </strong><strong>with reprojected data</strong><strong>)</strong> (<em>returns</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="fermipy.skymap.HpxMap.create_from_fits">
<em class="property">classmethod </em><code class="descname">create_from_fits</code><span class="sig-paren">(</span><em>fitsfile</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#HpxMap.create_from_fits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.HpxMap.create_from_fits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.skymap.HpxMap.create_from_hdu">
<em class="property">classmethod </em><code class="descname">create_from_hdu</code><span class="sig-paren">(</span><em>hdu</em>, <em>ebins</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#HpxMap.create_from_hdu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.HpxMap.create_from_hdu" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and returns an HpxMap object from a FITS HDU.</p>
<p>hdu    : The FITS
ebins  : Energy bin edges [optional]</p>
</dd></dl>

<dl class="classmethod">
<dt id="fermipy.skymap.HpxMap.create_from_hdulist">
<em class="property">classmethod </em><code class="descname">create_from_hdulist</code><span class="sig-paren">(</span><em>hdulist</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#HpxMap.create_from_hdulist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.HpxMap.create_from_hdulist" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and returns an HpxMap object from a FITS HDUList</p>
<p>extname : The name of the HDU with the map data
ebounds : The name of the HDU with the energy bin data</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.HpxMap.create_image_hdu">
<code class="descname">create_image_hdu</code><span class="sig-paren">(</span><em>name=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#HpxMap.create_image_hdu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.HpxMap.create_image_hdu" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.skymap.HpxMap.expanded_counts_map">
<code class="descname">expanded_counts_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#HpxMap.expanded_counts_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.HpxMap.expanded_counts_map" title="Permalink to this definition">¶</a></dt>
<dd><p>return the full counts map</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.HpxMap.explicit_counts_map">
<code class="descname">explicit_counts_map</code><span class="sig-paren">(</span><em>pixels=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#HpxMap.explicit_counts_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.HpxMap.explicit_counts_map" title="Permalink to this definition">¶</a></dt>
<dd><p>return a counts map with explicit index scheme</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pixels</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code> or None) – If set, grab only those pixels.
If none, grab only non-zero pixels</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.HpxMap.get_map_values">
<code class="descname">get_map_values</code><span class="sig-paren">(</span><em>lons</em>, <em>lats</em>, <em>ibin=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#HpxMap.get_map_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.HpxMap.get_map_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the indices in the flat array corresponding to a set of coordinates</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lons</strong> (<em>array-like</em>) – ‘Longitudes’ (RA or GLON)</li>
<li><strong>lats</strong> (<em>array-like</em>) – ‘Latitidues’ (DEC or GLAT)</li>
<li><strong>ibin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>array-like</em>) – Extract data only for a given energy bin.  None -&gt; extract data for all bins</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vals</strong> – Values of pixels in the flattened map, np.nan used to flag
coords outside of map</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a>((n))</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.HpxMap.get_pixel_indices">
<code class="descname">get_pixel_indices</code><span class="sig-paren">(</span><em>lats</em>, <em>lons</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#HpxMap.get_pixel_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.HpxMap.get_pixel_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the indices in the flat array corresponding to a set of coordinates</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.HpxMap.get_pixel_skydirs">
<code class="descname">get_pixel_skydirs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#HpxMap.get_pixel_skydirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.HpxMap.get_pixel_skydirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of sky coordinates for the centers of every pixel.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.skymap.HpxMap.hpx">
<code class="descname">hpx</code><a class="headerlink" href="#fermipy.skymap.HpxMap.hpx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.skymap.HpxMap.interpolate">
<code class="descname">interpolate</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em>, <em>egy=None</em>, <em>interp_log=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#HpxMap.interpolate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.HpxMap.interpolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate map values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>interp_log</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Interpolate the z-coordinate in logspace.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.HpxMap.make_wcs_from_hpx">
<code class="descname">make_wcs_from_hpx</code><span class="sig-paren">(</span><em>sum_ebins=False</em>, <em>proj='CAR'</em>, <em>oversample=2</em>, <em>normalize=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#HpxMap.make_wcs_from_hpx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.HpxMap.make_wcs_from_hpx" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a WCS object and convert HEALPix data into WCS projection</p>
<p>NOTE: this re-calculates the mapping, if you have already
calculated the mapping it is much faster to use
convert_to_cached_wcs() instead</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sum_ebins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – sum energy bins over energy bins before reprojecting</li>
<li><strong>proj</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – WCS-projection</li>
<li><strong>oversample</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Oversampling factor for WCS map</li>
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – True -&gt; perserve integral by splitting HEALPix values between bins</li>
<li><strong>(</strong><strong>WCS object</strong><strong>, </strong><strong>np.ndarray</strong><strong>(</strong><strong>) </strong><strong>with reprojected data</strong><strong>)</strong> (<em>returns</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.HpxMap.sparse_counts_map">
<code class="descname">sparse_counts_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#HpxMap.sparse_counts_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.HpxMap.sparse_counts_map" title="Permalink to this definition">¶</a></dt>
<dd><p>return a counts map with sparse index scheme</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.HpxMap.sum_over_energy">
<code class="descname">sum_over_energy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#HpxMap.sum_over_energy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.HpxMap.sum_over_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduce a counts cube to a counts map</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.HpxMap.swap_scheme">
<code class="descname">swap_scheme</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#HpxMap.swap_scheme"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.HpxMap.swap_scheme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.skymap.HpxMap.ud_grade">
<code class="descname">ud_grade</code><span class="sig-paren">(</span><em>order</em>, <em>preserve_counts=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#HpxMap.ud_grade"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.HpxMap.ud_grade" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.skymap.Map">
<em class="property">class </em><code class="descclassname">fermipy.skymap.</code><code class="descname">Map</code><span class="sig-paren">(</span><em>counts</em>, <em>wcs</em>, <em>ebins=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.skymap.Map_Base" title="fermipy.skymap.Map_Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.skymap.Map_Base</span></code></a></p>
<p>Representation of a 2D or 3D counts map using WCS.</p>
<dl class="classmethod">
<dt id="fermipy.skymap.Map.create">
<em class="property">classmethod </em><code class="descname">create</code><span class="sig-paren">(</span><em>skydir</em>, <em>cdelt</em>, <em>npix</em>, <em>coordsys='CEL'</em>, <em>projection='AIT'</em>, <em>ebins=None</em>, <em>differential=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map.create" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.skymap.Map.create_from_fits">
<em class="property">classmethod </em><code class="descname">create_from_fits</code><span class="sig-paren">(</span><em>fitsfile</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map.create_from_fits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map.create_from_fits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.skymap.Map.create_from_hdu">
<em class="property">classmethod </em><code class="descname">create_from_hdu</code><span class="sig-paren">(</span><em>hdu</em>, <em>wcs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map.create_from_hdu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map.create_from_hdu" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.skymap.Map.create_image_hdu">
<code class="descname">create_image_hdu</code><span class="sig-paren">(</span><em>name=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map.create_image_hdu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map.create_image_hdu" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.skymap.Map.create_primary_hdu">
<code class="descname">create_primary_hdu</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map.create_primary_hdu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map.create_primary_hdu" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.skymap.Map.get_map_values">
<code class="descname">get_map_values</code><span class="sig-paren">(</span><em>lons</em>, <em>lats</em>, <em>ibin=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map.get_map_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map.get_map_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the map values corresponding to a set of coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lons</strong> (<em>array-like</em>) – ‘Longitudes’ (RA or GLON)</li>
<li><strong>lats</strong> (<em>array-like</em>) – ‘Latitidues’ (DEC or GLAT)</li>
<li><strong>ibin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>array-like</em>) – Extract data only for a given energy bin.  None -&gt; extract data for all bins</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vals</strong> – Values of pixels in the flattened map, np.nan used to flag
coords outside of map</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a>((n))</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.Map.get_pixel_indices">
<code class="descname">get_pixel_indices</code><span class="sig-paren">(</span><em>lons</em>, <em>lats</em>, <em>ibin=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map.get_pixel_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map.get_pixel_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the indices in the flat array corresponding to a set of coordinates</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lons</strong> (<em>array-like</em>) – ‘Longitudes’ (RA or GLON)</li>
<li><strong>lats</strong> (<em>array-like</em>) – ‘Latitidues’ (DEC or GLAT)</li>
<li><strong>ibin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>array-like</em>) – Extract data only for a given energy bin.  None -&gt; extract data for all energy bins.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>pixcrd</strong> – Pixel indices along each dimension of the map.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.Map.get_pixel_skydirs">
<code class="descname">get_pixel_skydirs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map.get_pixel_skydirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map.get_pixel_skydirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of sky coordinates for the centers of every pixel.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.Map.interpolate">
<code class="descname">interpolate</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em>, <em>egy=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map.interpolate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map.interpolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the interpolated map values corresponding to a set of coordinates.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.Map.interpolate_at_skydir">
<code class="descname">interpolate_at_skydir</code><span class="sig-paren">(</span><em>skydir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map.interpolate_at_skydir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map.interpolate_at_skydir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.skymap.Map.ipix_swap_axes">
<code class="descname">ipix_swap_axes</code><span class="sig-paren">(</span><em>ipix</em>, <em>colwise=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map.ipix_swap_axes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map.ipix_swap_axes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the transposed pixel index from the pixel xy coordinates</p>
<p>if colwise is True (False) this assumes the original index was
in column wise scheme</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.Map.ipix_to_xypix">
<code class="descname">ipix_to_xypix</code><span class="sig-paren">(</span><em>ipix</em>, <em>colwise=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map.ipix_to_xypix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map.ipix_to_xypix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return array multi-dimensional pixel indices from flattened index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>colwise</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Use column-wise pixel indexing.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.skymap.Map.npix">
<code class="descname">npix</code><a class="headerlink" href="#fermipy.skymap.Map.npix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.skymap.Map.pix_center">
<code class="descname">pix_center</code><a class="headerlink" href="#fermipy.skymap.Map.pix_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ROI center in pixel coordinates.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.skymap.Map.pix_size">
<code class="descname">pix_size</code><a class="headerlink" href="#fermipy.skymap.Map.pix_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the pixel size along the two image dimensions.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.skymap.Map.skydir">
<code class="descname">skydir</code><a class="headerlink" href="#fermipy.skymap.Map.skydir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sky coordinate of the image center.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.Map.sum_over_energy">
<code class="descname">sum_over_energy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map.sum_over_energy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map.sum_over_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduce a 3D counts cube to a 2D counts map</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.skymap.Map.wcs">
<code class="descname">wcs</code><a class="headerlink" href="#fermipy.skymap.Map.wcs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.skymap.Map.width">
<code class="descname">width</code><a class="headerlink" href="#fermipy.skymap.Map.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the dimensions of the image.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.Map.xypix_to_ipix">
<code class="descname">xypix_to_ipix</code><span class="sig-paren">(</span><em>xypix</em>, <em>colwise=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map.xypix_to_ipix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map.xypix_to_ipix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the flattened pixel indices from an array multi-dimensional
pixel indices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>xypix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – List of pixel indices in the order (LON,LAT,ENERGY).</li>
<li><strong>colwise</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Use column-wise pixel indexing.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.skymap.Map_Base">
<em class="property">class </em><code class="descclassname">fermipy.skymap.</code><code class="descname">Map_Base</code><span class="sig-paren">(</span><em>counts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map_Base"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map_Base" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Abstract representation of a 2D or 3D counts map.</p>
<dl class="attribute">
<dt id="fermipy.skymap.Map_Base.counts">
<code class="descname">counts</code><a class="headerlink" href="#fermipy.skymap.Map_Base.counts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.skymap.Map_Base.data">
<code class="descname">data</code><a class="headerlink" href="#fermipy.skymap.Map_Base.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.skymap.Map_Base.get_map_values">
<code class="descname">get_map_values</code><span class="sig-paren">(</span><em>lons</em>, <em>lats</em>, <em>ibin=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map_Base.get_map_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map_Base.get_map_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the map values corresponding to a set of coordinates.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.Map_Base.get_pixel_indices">
<code class="descname">get_pixel_indices</code><span class="sig-paren">(</span><em>lats</em>, <em>lons</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map_Base.get_pixel_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map_Base.get_pixel_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the indices in the flat array corresponding to a set of coordinates</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.Map_Base.get_pixel_skydirs">
<code class="descname">get_pixel_skydirs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map_Base.get_pixel_skydirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map_Base.get_pixel_skydirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of sky coordinates for the centers of every pixel.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.Map_Base.interpolate">
<code class="descname">interpolate</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em>, <em>egy=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map_Base.interpolate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map_Base.interpolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the interpolated map values corresponding to a set of coordinates.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.skymap.Map_Base.sum_over_energy">
<code class="descname">sum_over_energy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#Map_Base.sum_over_energy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.Map_Base.sum_over_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduce a counts cube to a counts map by summing over the energy planes</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="fermipy.skymap.coadd_maps">
<code class="descclassname">fermipy.skymap.</code><code class="descname">coadd_maps</code><span class="sig-paren">(</span><em>geom</em>, <em>maps</em>, <em>preserve_counts=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#coadd_maps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.coadd_maps" title="Permalink to this definition">¶</a></dt>
<dd><p>Coadd a sequence of <code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code> objects.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.skymap.make_coadd_hpx">
<code class="descclassname">fermipy.skymap.</code><code class="descname">make_coadd_hpx</code><span class="sig-paren">(</span><em>maps</em>, <em>hpx</em>, <em>shape</em>, <em>preserve_counts=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#make_coadd_hpx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.make_coadd_hpx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.skymap.make_coadd_map">
<code class="descclassname">fermipy.skymap.</code><code class="descname">make_coadd_map</code><span class="sig-paren">(</span><em>maps</em>, <em>proj</em>, <em>shape</em>, <em>preserve_counts=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#make_coadd_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.make_coadd_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.skymap.make_coadd_wcs">
<code class="descclassname">fermipy.skymap.</code><code class="descname">make_coadd_wcs</code><span class="sig-paren">(</span><em>maps</em>, <em>wcs</em>, <em>shape</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#make_coadd_wcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.make_coadd_wcs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.skymap.read_map_from_fits">
<code class="descclassname">fermipy.skymap.</code><code class="descname">read_map_from_fits</code><span class="sig-paren">(</span><em>fitsfile</em>, <em>extname=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/skymap.html#read_map_from_fits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.skymap.read_map_from_fits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-fermipy.castro">
<span id="fermipy-castro-module"></span><h2>fermipy.castro module<a class="headerlink" href="#module-fermipy.castro" title="Permalink to this headline">¶</a></h2>
<p>Utilities for dealing with ‘castro data’, i.e., 2D table of
likelihood values.</p>
<p>Castro data can be tabluated in terms of a variety of variables. The
most common example is probably a simple SED, where we have the
likelihood as a function of Energy and Energy Flux.</p>
<p>However, we could easily convert to the likelihood as a function of
other variables, such as the Flux normalization and the spectral
index, or the mass and cross-section of a putative dark matter
particle.</p>
<dl class="class">
<dt id="fermipy.castro.CastroData">
<em class="property">class </em><code class="descclassname">fermipy.castro.</code><code class="descname">CastroData</code><span class="sig-paren">(</span><em>norm_vals</em>, <em>nll_vals</em>, <em>refSpec</em>, <em>norm_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.castro.CastroData_Base" title="fermipy.castro.CastroData_Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.castro.CastroData_Base</span></code></a></p>
<p>This class wraps the data needed to make a “Castro” plot,
namely the log-likelihood as a function of normalization for a
series of energy bins.</p>
<dl class="classmethod">
<dt id="fermipy.castro.CastroData.create_from_fits">
<em class="property">classmethod </em><code class="descname">create_from_fits</code><span class="sig-paren">(</span><em>fitsfile</em>, <em>norm_type='eflux'</em>, <em>hdu_scan='SCANDATA'</em>, <em>hdu_energies='EBOUNDS'</em>, <em>irow=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData.create_from_fits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData.create_from_fits" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a CastroData object from a tscube FITS file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fitsfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name of the fits file</li>
<li><strong>norm_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – <p>Type of normalization to use.  Valid options are:</p>
<ul>
<li>norm : Normalization w.r.t. to test source</li>
<li>flux : Flux of the test source ( ph cm^-2 s^-1 )</li>
<li>eflux: Energy Flux of the test source ( MeV cm^-2 s^-1 )</li>
<li>npred: Number of predicted photons (Not implemented)</li>
<li>dnde : Differential flux of the test source ( ph cm^-2 s^-1
MeV^-1 )</li>
</ul>
</li>
<li><strong>hdu_scan</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name of the FITS HDU with the scan data</li>
<li><strong>hdu_energies</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name of the FITS HDU with the energy binning and
normalization data</li>
<li><strong>irow</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a>) – If none, then this assumes that there is a single row in
the scan data table Otherwise, this specifies which row of
the table to use</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>castro</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#fermipy.castro.CastroData" title="fermipy.castro.CastroData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CastroData</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="fermipy.castro.CastroData.create_from_flux_points">
<em class="property">classmethod </em><code class="descname">create_from_flux_points</code><span class="sig-paren">(</span><em>txtfile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData.create_from_flux_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData.create_from_flux_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Castro data object from a text file containing a
sequence of differential flux points.</p>
</dd></dl>

<dl class="classmethod">
<dt id="fermipy.castro.CastroData.create_from_sedfile">
<em class="property">classmethod </em><code class="descname">create_from_sedfile</code><span class="sig-paren">(</span><em>fitsfile</em>, <em>norm_type='eflux'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData.create_from_sedfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData.create_from_sedfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a CastroData object from an SED fits file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fitsfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name of the fits file</li>
<li><strong>norm_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – <p>Type of normalization to use, options are:</p>
<ul>
<li>norm : Normalization w.r.t. to test source</li>
<li>flux : Flux of the test source ( ph cm^-2 s^-1 )</li>
<li>eflux: Energy Flux of the test source ( MeV cm^-2 s^-1 )</li>
<li>npred: Number of predicted photons (Not implemented)</li>
<li>dnde : Differential flux of the test source ( ph cm^-2 s^-1
MeV^-1 )</li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>castro</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#fermipy.castro.CastroData" title="fermipy.castro.CastroData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CastroData</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="fermipy.castro.CastroData.create_from_stack">
<em class="property">classmethod </em><code class="descname">create_from_stack</code><span class="sig-paren">(</span><em>shape</em>, <em>components</em>, <em>ylims</em>, <em>weights=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData.create_from_stack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData.create_from_stack" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine the log-likelihoods from a number of components.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>shape</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a>) – The shape of the return array</li>
<li><strong>components</strong> (<em>[</em><a class="reference internal" href="#fermipy.castro.CastroData_Base" title="fermipy.castro.CastroData_Base"><em>CastroData_Base</em></a><em>]</em>) – The components to be stacked</li>
<li><strong>weights</strong> (<em>array-like</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>castro</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#fermipy.castro.CastroData" title="fermipy.castro.CastroData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CastroData</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="fermipy.castro.CastroData.create_from_tables">
<em class="property">classmethod </em><code class="descname">create_from_tables</code><span class="sig-paren">(</span><em>norm_type='eflux'</em>, <em>tab_s='SCANDATA'</em>, <em>tab_e='EBOUNDS'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData.create_from_tables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData.create_from_tables" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a CastroData object from two tables</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>norm_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – <p>Type of normalization to use.  Valid options are:</p>
<ul>
<li>norm : Normalization w.r.t. to test source</li>
<li>flux : Flux of the test source ( ph cm^-2 s^-1 )</li>
<li>eflux: Energy Flux of the test source ( MeV cm^-2 s^-1 )</li>
<li>npred: Number of predicted photons (Not implemented)</li>
<li>dnde : Differential flux of the test source ( ph cm^-2 s^-1
MeV^-1 )</li>
</ul>
</li>
<li><strong>tab_s</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – table scan data</li>
<li><strong>tab_e</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – table energy binning and normalization data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>castro</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#fermipy.castro.CastroData" title="fermipy.castro.CastroData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CastroData</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="fermipy.castro.CastroData.create_from_yamlfile">
<em class="property">classmethod </em><code class="descname">create_from_yamlfile</code><span class="sig-paren">(</span><em>yamlfile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData.create_from_yamlfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData.create_from_yamlfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Castro data object from a yaml file contains
the likelihood data.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.CastroData.create_functor">
<code class="descname">create_functor</code><span class="sig-paren">(</span><em>specType</em>, <em>initPars=None</em>, <em>scale=1000.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData.create_functor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData.create_functor" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a functor object that computes normalizations in a
sequence of energy bins for a given spectral model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>specType</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The type of spectrum to use.  This can be a string
corresponding to the spectral model class name or a
<a class="reference internal" href="#fermipy.spectrum.SpectralFunction" title="fermipy.spectrum.SpectralFunction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SpectralFunction</span></code></a> object.</li>
<li><strong>initPars</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Arrays of parameter values with which the spectral
function will be initialized.</li>
<li><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – The ‘pivot energy’ or energy scale to use for the spectrum</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fn</strong> – A functor object.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#fermipy.spectrum.SEDFunctor" title="fermipy.spectrum.SEDFunctor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SEDFunctor</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.CastroData.nE">
<code class="descname">nE</code><a class="headerlink" href="#fermipy.castro.CastroData.nE" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of energy bins.  This is also the number of x-axis bins.</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.CastroData.refSpec">
<code class="descname">refSpec</code><a class="headerlink" href="#fermipy.castro.CastroData.refSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#fermipy.castro.ReferenceSpec" title="fermipy.castro.ReferenceSpec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReferenceSpec</span></code></a> with the spectral data</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.CastroData.spectrum_loglike">
<code class="descname">spectrum_loglike</code><span class="sig-paren">(</span><em>specType</em>, <em>params</em>, <em>scale=1000.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData.spectrum_loglike"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData.spectrum_loglike" title="Permalink to this definition">¶</a></dt>
<dd><p>return the log-likelihood for a particular spectrum</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>specTypes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The type of spectrum to try</li>
<li><strong>params</strong> (<em>array-like</em>) – The spectral parameters</li>
<li><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – The energy scale or ‘pivot’ energy</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.CastroData.test_spectra">
<code class="descname">test_spectra</code><span class="sig-paren">(</span><em>spec_types=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData.test_spectra"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData.test_spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>Test different spectral types against the SED represented by this
CastroData.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>spec_types</strong> (<em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>,</em><em>..</em><em>]</em>) – List of spectral types to try</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>retDict</strong> – A dictionary of dictionaries.  The top level dictionary is
keyed by spec_type.  The sub-dictionaries each contain:<ul class="simple">
<li>”Function”    : <a class="reference internal" href="#fermipy.spectrum.SpectralFunction" title="fermipy.spectrum.SpectralFunction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SpectralFunction</span></code></a></li>
<li>”Result”      : tuple with the output of scipy.optimize.fmin</li>
<li>”Spectrum”    : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a> with best-fit spectral values</li>
<li>”ScaleEnergy” : float, the ‘pivot energy’ value</li>
<li>”TS”          : float, the TS for the best-fit spectrum</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.CastroData.x_edges">
<code class="descname">x_edges</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData.x_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData.x_edges" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.castro.CastroData_Base">
<em class="property">class </em><code class="descclassname">fermipy.castro.</code><code class="descname">CastroData_Base</code><span class="sig-paren">(</span><em>norm_vals</em>, <em>nll_vals</em>, <em>nll_offsets</em>, <em>norm_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData_Base"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData_Base" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class wraps the data needed to make a “Castro” plot,
namely the log-likelihood as a function of normalization.</p>
<p>In this case the x-axes and y-axes are generic
Sub-classes can implement particul axes choices (e.g., EFlux v. Energy)</p>
<dl class="method">
<dt id="fermipy.castro.CastroData_Base.TS_spectrum">
<code class="descname">TS_spectrum</code><span class="sig-paren">(</span><em>spec_vals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData_Base.TS_spectrum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData_Base.TS_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate and the TS for a given set of spectral values.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.CastroData_Base.build_lnl_fn">
<code class="descname">build_lnl_fn</code><span class="sig-paren">(</span><em>normv</em>, <em>nllv</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData_Base.build_lnl_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData_Base.build_lnl_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.castro.CastroData_Base.build_scandata_table">
<code class="descname">build_scandata_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData_Base.build_scandata_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData_Base.build_scandata_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Build an <a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.table.Table.html#astropy.table.Table" title="(in Astropy v3.2.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.table.Table</span></code></a> object from these data.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.CastroData_Base.chi2_vals">
<code class="descname">chi2_vals</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData_Base.chi2_vals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData_Base.chi2_vals" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the difference in the log-likelihood between the
MLE in each energy bin and the normalization predicted by a
global best-fit model.  This array can be summed to get a
goodness-of-fit chi2 for the model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – An array of normalizations derived from a global fit to
all energy bins.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>chi2_vals</strong> – An array of chi2 values for each energy bin.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.CastroData_Base.derivative">
<code class="descname">derivative</code><span class="sig-paren">(</span><em>x</em>, <em>der=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData_Base.derivative"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData_Base.derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the derivate of the log-like summed over the energy
bins</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of N x M values</li>
<li><strong>der</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Order of the derivate</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>der_val</strong> – Array of negative log-likelihood values.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.CastroData_Base.fitNorm_v2">
<code class="descname">fitNorm_v2</code><span class="sig-paren">(</span><em>specVals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData_Base.fitNorm_v2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData_Base.fitNorm_v2" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the normalization given a set of spectral values
that define a spectral shape.</p>
<p>This version uses <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.fmin.html#scipy.optimize.fmin" title="(in SciPy v1.3.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.optimize.fmin</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>specVals</strong> (<em>an array of</em><em> (</em><em>nebin values that define a spectral shape</em>) – </li>
<li><strong>xlims</strong> (<em>fit limits</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>norm</strong> – Best-fit normalization value</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.CastroData_Base.fitNormalization">
<code class="descname">fitNormalization</code><span class="sig-paren">(</span><em>specVals</em>, <em>xlims</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData_Base.fitNormalization"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData_Base.fitNormalization" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the normalization given a set of spectral values that
define a spectral shape</p>
<p>This version is faster, and solves for the root of the derivatvie</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>specVals</strong> (<em>an array of</em><em> (</em><em>nebin values that define a spectral shape</em>) – </li>
<li><strong>xlims</strong> (<em>fit limits</em>) – </li>
<li><strong>the best-fit normalization value</strong> (<em>returns</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.CastroData_Base.fit_spectrum">
<code class="descname">fit_spectrum</code><span class="sig-paren">(</span><em>specFunc</em>, <em>initPars</em>, <em>freePars=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData_Base.fit_spectrum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData_Base.fit_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit for the free parameters of a spectral function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>specFunc</strong> (<a class="reference internal" href="#fermipy.spectrum.SpectralFunction" title="fermipy.spectrum.SpectralFunction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SpectralFunction</span></code></a>) – The Spectral Function</li>
<li><strong>initPars</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – The initial values of the parameters</li>
<li><strong>freePars</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Boolean array indicating which parameters should be free in
the fit.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>params</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Best-fit parameters.</li>
<li><strong>spec_vals</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – The values of the best-fit spectral model in each energy bin.</li>
<li><strong>ts_spec</strong> (<em>float</em>) – The TS of the best-fit spectrum</li>
<li><strong>chi2_vals</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of chi-squared values for each energy bin.</li>
<li><strong>chi2_spec</strong> (<em>float</em>) – Global chi-squared value for the sum of all energy bins.</li>
<li><strong>pval_spec</strong> (<em>float</em>) – p-value of chi-squared for the best-fit spectrum.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.CastroData_Base.fn_mles">
<code class="descname">fn_mles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData_Base.fn_mles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData_Base.fn_mles" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the summed likelihood at the maximum likelihood estimate</p>
<p>Note that simply sums the maximum likelihood values at each
bin, and does not impose any sort of constrain between bins</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.CastroData_Base.getIntervals">
<code class="descname">getIntervals</code><span class="sig-paren">(</span><em>alpha</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData_Base.getIntervals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData_Base.getIntervals" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the two-sided intervals corresponding to a C.L. of
(1-alpha)%.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – limit confidence level.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>limit_vals_hi</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – An array of lower limit values.</li>
<li><strong>limit_vals_lo</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – An array of upper limit values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.CastroData_Base.getLimits">
<code class="descname">getLimits</code><span class="sig-paren">(</span><em>alpha</em>, <em>upper=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData_Base.getLimits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData_Base.getLimits" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the limits corresponding to a C.L. of (1-alpha)%.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – limit confidence level.</li>
<li><strong>upper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – upper or lower limits.</li>
<li><strong>an array of values</strong><strong>, </strong><strong>one for each energy bin</strong> (<em>returns</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.CastroData_Base.mles">
<code class="descname">mles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData_Base.mles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData_Base.mles" title="Permalink to this definition">¶</a></dt>
<dd><p>return the maximum likelihood estimates for each of the energy bins</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.CastroData_Base.nll_null">
<code class="descname">nll_null</code><a class="headerlink" href="#fermipy.castro.CastroData_Base.nll_null" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the negative log-likelihood for the null-hypothesis</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.CastroData_Base.nll_offsets">
<code class="descname">nll_offsets</code><a class="headerlink" href="#fermipy.castro.CastroData_Base.nll_offsets" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the offsets in the negative log-likelihoods for each bin</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.CastroData_Base.norm_derivative">
<code class="descname">norm_derivative</code><span class="sig-paren">(</span><em>spec</em>, <em>norm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData_Base.norm_derivative"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData_Base.norm_derivative" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.CastroData_Base.norm_type">
<code class="descname">norm_type</code><a class="headerlink" href="#fermipy.castro.CastroData_Base.norm_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the normalization type flag</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.CastroData_Base.nx">
<code class="descname">nx</code><a class="headerlink" href="#fermipy.castro.CastroData_Base.nx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of profiles</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.CastroData_Base.ny">
<code class="descname">ny</code><a class="headerlink" href="#fermipy.castro.CastroData_Base.ny" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of profiles</p>
</dd></dl>

<dl class="staticmethod">
<dt id="fermipy.castro.CastroData_Base.stack_nll">
<em class="property">static </em><code class="descname">stack_nll</code><span class="sig-paren">(</span><em>shape</em>, <em>components</em>, <em>ylims</em>, <em>weights=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData_Base.stack_nll"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData_Base.stack_nll" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine the log-likelihoods from a number of components.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>shape</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a>) – The shape of the return array</li>
<li><strong>components</strong> (<a class="reference internal" href="#fermipy.castro.CastroData_Base" title="fermipy.castro.CastroData_Base"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CastroData_Base</span></code></a>) – The components to be stacked</li>
<li><strong>weights</strong> (<em>array-like</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>norm_vals</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>) – N X M array of Normalization values</li>
<li><strong>nll_vals</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>) – N X M array of log-likelihood values</li>
<li><strong>nll_offsets</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>) – N array of maximum log-likelihood values in each bin</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.CastroData_Base.ts_vals">
<code class="descname">ts_vals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData_Base.ts_vals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData_Base.ts_vals" title="Permalink to this definition">¶</a></dt>
<dd><p>returns test statistic values for each energy bin</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.CastroData_Base.x_edges">
<code class="descname">x_edges</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#CastroData_Base.x_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.CastroData_Base.x_edges" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.castro.Interpolator">
<em class="property">class </em><code class="descclassname">fermipy.castro.</code><code class="descname">Interpolator</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#Interpolator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.Interpolator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Helper class for interpolating a 1-D function from a
set of tabulated values.</p>
<p>Safely deals with overflows and underflows</p>
<dl class="method">
<dt id="fermipy.castro.Interpolator.derivative">
<code class="descname">derivative</code><span class="sig-paren">(</span><em>x</em>, <em>der=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#Interpolator.derivative"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.Interpolator.derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>return the derivative a an array of input values</p>
<p>x   : the inputs
der : the order of derivative</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.Interpolator.x">
<code class="descname">x</code><a class="headerlink" href="#fermipy.castro.Interpolator.x" title="Permalink to this definition">¶</a></dt>
<dd><p>return the x values used to construct the split</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.Interpolator.xmax">
<code class="descname">xmax</code><a class="headerlink" href="#fermipy.castro.Interpolator.xmax" title="Permalink to this definition">¶</a></dt>
<dd><p>return the maximum value over which the spline is defined</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.Interpolator.xmin">
<code class="descname">xmin</code><a class="headerlink" href="#fermipy.castro.Interpolator.xmin" title="Permalink to this definition">¶</a></dt>
<dd><p>return the minimum value over which the spline is defined</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.Interpolator.y">
<code class="descname">y</code><a class="headerlink" href="#fermipy.castro.Interpolator.y" title="Permalink to this definition">¶</a></dt>
<dd><p>return the y values used to construct the split</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.castro.LnLFn">
<em class="property">class </em><code class="descclassname">fermipy.castro.</code><code class="descname">LnLFn</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>norm_type=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#LnLFn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.LnLFn" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Helper class for interpolating a 1-D log-likelihood function from a
set of tabulated values.</p>
<dl class="method">
<dt id="fermipy.castro.LnLFn.TS">
<code class="descname">TS</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#LnLFn.TS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.LnLFn.TS" title="Permalink to this definition">¶</a></dt>
<dd><p>return the Test Statistic</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.LnLFn.fn_mle">
<code class="descname">fn_mle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#LnLFn.fn_mle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.LnLFn.fn_mle" title="Permalink to this definition">¶</a></dt>
<dd><p>return the function value at the maximum likelihood estimate</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.LnLFn.getDeltaLogLike">
<code class="descname">getDeltaLogLike</code><span class="sig-paren">(</span><em>dlnl</em>, <em>upper=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#LnLFn.getDeltaLogLike"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.LnLFn.getDeltaLogLike" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the point at which the log-likelihood changes by a
given value with respect to its value at the MLE.</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.LnLFn.getInterval">
<code class="descname">getInterval</code><span class="sig-paren">(</span><em>alpha</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#LnLFn.getInterval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.LnLFn.getInterval" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the interval corresponding to a C.L. of (1-alpha)%.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<em>limit confidence level.</em>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.LnLFn.getLimit">
<code class="descname">getLimit</code><span class="sig-paren">(</span><em>alpha</em>, <em>upper=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#LnLFn.getLimit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.LnLFn.getLimit" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the limits corresponding to a C.L. of (1-alpha)%.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<em>limit confidence level.</em>) – </li>
<li><strong>upper</strong> (<em>upper</em><em> or </em><em>lower limits.</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.LnLFn.interp">
<code class="descname">interp</code><a class="headerlink" href="#fermipy.castro.LnLFn.interp" title="Permalink to this definition">¶</a></dt>
<dd><p>return the underlying Interpolator object</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.LnLFn.mle">
<code class="descname">mle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#LnLFn.mle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.LnLFn.mle" title="Permalink to this definition">¶</a></dt>
<dd><p>return the maximum likelihood estimate</p>
<p>This will return the cached value, if it exists</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.LnLFn.norm_type">
<code class="descname">norm_type</code><a class="headerlink" href="#fermipy.castro.LnLFn.norm_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string specifying the quantity used for the normalization.
This isn’t actually used in this class, but it is carried so
that the class is self-describing.  The possible values are
open-ended.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.castro.ReferenceSpec">
<em class="property">class </em><code class="descclassname">fermipy.castro.</code><code class="descname">ReferenceSpec</code><span class="sig-paren">(</span><em>emin</em>, <em>emax</em>, <em>ref_dnde</em>, <em>ref_flux</em>, <em>ref_eflux</em>, <em>ref_npred</em>, <em>eref=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#ReferenceSpec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.ReferenceSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class encapsulates data for a reference spectrum.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ne</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – Number of energy bins</li>
<li><strong>ebins</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of bin edges.</li>
<li><strong>emin</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of lower bin edges.</li>
<li><strong>emax</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of upper bin edges.</li>
<li><strong>bin_widths</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of energy bin widths.</li>
<li><strong>eref</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of reference energies. Typically these are the geometric
mean of the energy bins</li>
<li><strong>ref_dnde</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of differential photon flux values.</li>
<li><strong>ref_flux</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of integral photon flux values.</li>
<li><strong>ref_eflux</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of integral energy flux values.</li>
<li><strong>ref_npred</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of predicted number of photons in each energy bin.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="fermipy.castro.ReferenceSpec.bin_widths">
<code class="descname">bin_widths</code><a class="headerlink" href="#fermipy.castro.ReferenceSpec.bin_widths" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fermipy.castro.ReferenceSpec.build_ebound_table">
<code class="descname">build_ebound_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#ReferenceSpec.build_ebound_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.ReferenceSpec.build_ebound_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Build and return an EBOUNDS table with the encapsulated data.</p>
</dd></dl>

<dl class="classmethod">
<dt id="fermipy.castro.ReferenceSpec.create_from_table">
<em class="property">classmethod </em><code class="descname">create_from_table</code><span class="sig-paren">(</span><em>tab_e</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#ReferenceSpec.create_from_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.ReferenceSpec.create_from_table" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tab_e</strong> (<a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.table.Table.html#astropy.table.Table" title="(in Astropy v3.2.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Table</span></code></a>) – EBOUNDS table.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.ReferenceSpec.create_functor">
<code class="descname">create_functor</code><span class="sig-paren">(</span><em>specType</em>, <em>normType</em>, <em>initPars=None</em>, <em>scale=1000.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#ReferenceSpec.create_functor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.ReferenceSpec.create_functor" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a functor object that computes normalizations in a
sequence of energy bins for a given spectral model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>specType</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The type of spectrum to use.  This can be a string
corresponding to the spectral model class name or a
<a class="reference internal" href="#fermipy.spectrum.SpectralFunction" title="fermipy.spectrum.SpectralFunction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SpectralFunction</span></code></a> object.</li>
<li><strong>normType</strong> (<em>The type of normalization to use</em>) – </li>
<li><strong>initPars</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Arrays of parameter values with which the spectral
function will be initialized.</li>
<li><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – The ‘pivot energy’ or energy scale to use for the spectrum</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fn</strong> – A functor object.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#fermipy.spectrum.SEDFunctor" title="fermipy.spectrum.SEDFunctor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SEDFunctor</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.ReferenceSpec.ebins">
<code class="descname">ebins</code><a class="headerlink" href="#fermipy.castro.ReferenceSpec.ebins" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.ReferenceSpec.emax">
<code class="descname">emax</code><a class="headerlink" href="#fermipy.castro.ReferenceSpec.emax" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.ReferenceSpec.emin">
<code class="descname">emin</code><a class="headerlink" href="#fermipy.castro.ReferenceSpec.emin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.ReferenceSpec.eref">
<code class="descname">eref</code><a class="headerlink" href="#fermipy.castro.ReferenceSpec.eref" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.ReferenceSpec.log_ebins">
<code class="descname">log_ebins</code><a class="headerlink" href="#fermipy.castro.ReferenceSpec.log_ebins" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.ReferenceSpec.nE">
<code class="descname">nE</code><a class="headerlink" href="#fermipy.castro.ReferenceSpec.nE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.ReferenceSpec.ref_dnde">
<code class="descname">ref_dnde</code><a class="headerlink" href="#fermipy.castro.ReferenceSpec.ref_dnde" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.ReferenceSpec.ref_eflux">
<code class="descname">ref_eflux</code><a class="headerlink" href="#fermipy.castro.ReferenceSpec.ref_eflux" title="Permalink to this definition">¶</a></dt>
<dd><p>return the energy flux values</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.ReferenceSpec.ref_flux">
<code class="descname">ref_flux</code><a class="headerlink" href="#fermipy.castro.ReferenceSpec.ref_flux" title="Permalink to this definition">¶</a></dt>
<dd><p>return the flux values</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.ReferenceSpec.ref_npred">
<code class="descname">ref_npred</code><a class="headerlink" href="#fermipy.castro.ReferenceSpec.ref_npred" title="Permalink to this definition">¶</a></dt>
<dd><p>return the number of predicted events</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.castro.SpecData">
<em class="property">class </em><code class="descclassname">fermipy.castro.</code><code class="descname">SpecData</code><span class="sig-paren">(</span><em>ref_spec</em>, <em>norm</em>, <em>norm_err</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#SpecData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.SpecData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fermipy.castro.ReferenceSpec" title="fermipy.castro.ReferenceSpec"><code class="xref py py-class docutils literal notranslate"><span class="pre">fermipy.castro.ReferenceSpec</span></code></a></p>
<p>This class encapsulates spectral analysis results (best-fit
normalizations, errors, etc.), energy binning, and reference
spectrum definition.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>norm</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – </li>
<li><strong>norm_err</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – </li>
<li><strong>flux</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of integral photon flux values.</li>
<li><strong>eflux</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Array of integral energy flux values.</li>
<li><strong>dnde</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Differential flux values</li>
<li><strong>dnde_err</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Uncertainties on differential flux values</li>
<li><strong>e2dnde</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Differential flux values scaled by E^2</li>
<li><strong>e2dnde_err</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Uncertainties on differential flux values scaled by E^2</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="fermipy.castro.SpecData.build_spec_table">
<code class="descname">build_spec_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#SpecData.build_spec_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.SpecData.build_spec_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="fermipy.castro.SpecData.create_from_table">
<em class="property">classmethod </em><code class="descname">create_from_table</code><span class="sig-paren">(</span><em>tab</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#SpecData.create_from_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.SpecData.create_from_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.SpecData.dnde">
<code class="descname">dnde</code><a class="headerlink" href="#fermipy.castro.SpecData.dnde" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.SpecData.dnde_err">
<code class="descname">dnde_err</code><a class="headerlink" href="#fermipy.castro.SpecData.dnde_err" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.SpecData.e2dnde">
<code class="descname">e2dnde</code><a class="headerlink" href="#fermipy.castro.SpecData.e2dnde" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.SpecData.e2dnde_err">
<code class="descname">e2dnde_err</code><a class="headerlink" href="#fermipy.castro.SpecData.e2dnde_err" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.SpecData.eflux">
<code class="descname">eflux</code><a class="headerlink" href="#fermipy.castro.SpecData.eflux" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.SpecData.flux">
<code class="descname">flux</code><a class="headerlink" href="#fermipy.castro.SpecData.flux" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.SpecData.norm">
<code class="descname">norm</code><a class="headerlink" href="#fermipy.castro.SpecData.norm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.SpecData.norm_err">
<code class="descname">norm_err</code><a class="headerlink" href="#fermipy.castro.SpecData.norm_err" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.castro.TSCube">
<em class="property">class </em><code class="descclassname">fermipy.castro.</code><code class="descname">TSCube</code><span class="sig-paren">(</span><em>tsmap</em>, <em>normmap</em>, <em>tscube</em>, <em>normcube</em>, <em>norm_vals</em>, <em>nll_vals</em>, <em>refSpec</em>, <em>norm_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#TSCube"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.TSCube" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class wrapping a TSCube, which is a collection of CastroData
objects for a set of directions.</p>
<p>This class wraps a combination of:</p>
<ul class="simple">
<li>Pixel data,</li>
<li>Pixel x Energy bin data,</li>
<li>Pixel x Energy Bin x Normalization scan point data</li>
</ul>
<dl class="method">
<dt id="fermipy.castro.TSCube.castroData_from_ipix">
<code class="descname">castroData_from_ipix</code><span class="sig-paren">(</span><em>ipix</em>, <em>colwise=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#TSCube.castroData_from_ipix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.TSCube.castroData_from_ipix" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a CastroData object for a particular pixel</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.TSCube.castroData_from_pix_xy">
<code class="descname">castroData_from_pix_xy</code><span class="sig-paren">(</span><em>xy</em>, <em>colwise=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#TSCube.castroData_from_pix_xy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.TSCube.castroData_from_pix_xy" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a CastroData object for a particular pixel</p>
</dd></dl>

<dl class="classmethod">
<dt id="fermipy.castro.TSCube.create_from_fits">
<em class="property">classmethod </em><code class="descname">create_from_fits</code><span class="sig-paren">(</span><em>fitsfile</em>, <em>norm_type='flux'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#TSCube.create_from_fits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.TSCube.create_from_fits" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a TSCube object from a fits file created by gttscube
:param fitsfile: Path to the tscube FITS file.
:type fitsfile: str
:param norm_type: String specifying the quantity used for the normalization
:type norm_type: str</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.TSCube.find_and_refine_peaks">
<code class="descname">find_and_refine_peaks</code><span class="sig-paren">(</span><em>threshold</em>, <em>min_separation=1.0</em>, <em>use_cumul=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#TSCube.find_and_refine_peaks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.TSCube.find_and_refine_peaks" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a simple peak-finding algorithm, and fit the peaks to
paraboloids to extract their positions and error ellipses.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Peak threshold in TS.</li>
<li><strong>min_separation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Radius of region size in degrees.  Sets the minimum allowable
separation between peaks.</li>
<li><strong>use_cumul</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – If true, used the cumulative TS map (i.e., the TS summed
over the energy bins) instead of the TS Map from the fit
to and index=2 powerlaw.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>peaks</strong> – List of dictionaries containing the location and amplitude of
each peak.  Output of <code class="xref py py-obj docutils literal notranslate"><span class="pre">find_peaks</span></code></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.TSCube.find_sources">
<code class="descname">find_sources</code><span class="sig-paren">(</span><em>threshold</em>, <em>min_separation=1.0</em>, <em>use_cumul=False</em>, <em>output_peaks=False</em>, <em>output_castro=False</em>, <em>output_specInfo=False</em>, <em>output_src_dicts=False</em>, <em>output_srcs=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#TSCube.find_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.TSCube.find_sources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.TSCube.nE">
<code class="descname">nE</code><a class="headerlink" href="#fermipy.castro.TSCube.nE" title="Permalink to this definition">¶</a></dt>
<dd><p>return the number of energy bins</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.TSCube.nN">
<code class="descname">nN</code><a class="headerlink" href="#fermipy.castro.TSCube.nN" title="Permalink to this definition">¶</a></dt>
<dd><p>return the number of sample points in each energy bin</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.TSCube.normcube">
<code class="descname">normcube</code><a class="headerlink" href="#fermipy.castro.TSCube.normcube" title="Permalink to this definition">¶</a></dt>
<dd><p>return the Cube of the normalization value per pixel / energy bin</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.TSCube.normmap">
<code class="descname">normmap</code><a class="headerlink" href="#fermipy.castro.TSCube.normmap" title="Permalink to this definition">¶</a></dt>
<dd><p>return the Map of the Best-fit normalization value</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.TSCube.nvals">
<code class="descname">nvals</code><a class="headerlink" href="#fermipy.castro.TSCube.nvals" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of values in the tscube</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.TSCube.refSpec">
<code class="descname">refSpec</code><a class="headerlink" href="#fermipy.castro.TSCube.refSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Spectral Data object</p>
</dd></dl>

<dl class="method">
<dt id="fermipy.castro.TSCube.test_spectra_of_peak">
<code class="descname">test_spectra_of_peak</code><span class="sig-paren">(</span><em>peak</em>, <em>spec_types=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#TSCube.test_spectra_of_peak"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.TSCube.test_spectra_of_peak" title="Permalink to this definition">¶</a></dt>
<dd><p>Test different spectral types against the SED represented by the
CastroData corresponding to a single pixel in this TSCube
:param spec_types: List of spectral types to try
:type spec_types: [str,…]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>castro</strong> (<a class="reference internal" href="#fermipy.castro.CastroData" title="fermipy.castro.CastroData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CastroData</span></code></a>) – The castro data object for the pixel corresponding to the peak</li>
<li><strong>test_dict</strong> (<em>dict</em>) – The dictionary returned by <a class="reference internal" href="#fermipy.castro.CastroData.test_spectra" title="fermipy.castro.CastroData.test_spectra"><code class="xref py py-obj docutils literal notranslate"><span class="pre">test_spectra</span></code></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.TSCube.ts_cumul">
<code class="descname">ts_cumul</code><a class="headerlink" href="#fermipy.castro.TSCube.ts_cumul" title="Permalink to this definition">¶</a></dt>
<dd><p>return the Map of the cumulative TestStatistic value per pixel
(summed over energy bin)</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.TSCube.tscube">
<code class="descname">tscube</code><a class="headerlink" href="#fermipy.castro.TSCube.tscube" title="Permalink to this definition">¶</a></dt>
<dd><p>return the Cube of the TestStatistic value per pixel / energy bin</p>
</dd></dl>

<dl class="attribute">
<dt id="fermipy.castro.TSCube.tsmap">
<code class="descname">tsmap</code><a class="headerlink" href="#fermipy.castro.TSCube.tsmap" title="Permalink to this definition">¶</a></dt>
<dd><p>return the Map of the TestStatistic value</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="fermipy.castro.build_source_dict">
<code class="descclassname">fermipy.castro.</code><code class="descname">build_source_dict</code><span class="sig-paren">(</span><em>src_name</em>, <em>peak_dict</em>, <em>spec_dict</em>, <em>spec_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#build_source_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.build_source_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.castro.convert_sed_cols">
<code class="descclassname">fermipy.castro.</code><code class="descname">convert_sed_cols</code><span class="sig-paren">(</span><em>tab</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/castro.html#convert_sed_cols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.castro.convert_sed_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>Cast SED column names to lowercase.</p>
</dd></dl>

</div>
<div class="section" id="module-fermipy.tsmap">
<span id="fermipy-tsmap-module"></span><h2>fermipy.tsmap module<a class="headerlink" href="#module-fermipy.tsmap" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fermipy.tsmap.TSCubeGenerator">
<em class="property">class </em><code class="descclassname">fermipy.tsmap.</code><code class="descname">TSCubeGenerator</code><a class="reference internal" href="_modules/fermipy/tsmap.html#TSCubeGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.tsmap.TSCubeGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="fermipy.tsmap.TSCubeGenerator.tscube">
<code class="descname">tscube</code><span class="sig-paren">(</span><em>prefix=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/tsmap.html#TSCubeGenerator.tscube"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.tsmap.TSCubeGenerator.tscube" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a spatial TS map for a source component with
properties defined by the <code class="xref py py-obj docutils literal notranslate"><span class="pre">model</span></code> argument.  This method uses
the <code class="xref py py-obj docutils literal notranslate"><span class="pre">gttscube</span></code> ST application for source fitting and will
simultaneously fit the test source normalization as well as
the normalizations of any background components that are
currently free.  The output of this method is a dictionary
containing <a class="reference internal" href="#fermipy.skymap.Map" title="fermipy.skymap.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a> objects with the TS and
amplitude of the best-fit test source.  By default this method
will also save maps to FITS files and render them as image
files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Optional string that will be prepended to all output files
(FITS and rendered images).</li>
<li><strong>model</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary defining the properties of the test source.</li>
<li><strong>do_sed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Compute the energy bin-by-bin fits.</li>
<li><strong>nnorm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of points in the likelihood v. normalization scan.</li>
<li><strong>norm_sigma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Number of sigma to use for the scan range.</li>
<li><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Critetia for fit convergence (estimated vertical distance
to min &lt; tol ).</li>
<li><strong>tol_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Absoulte (0) or relative (1) criteria for convergence.</li>
<li><strong>max_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Maximum number of iterations for the Newton’s method fitter</li>
<li><strong>remake_test_source</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – If true, recomputes the test source image (otherwise just shifts it)</li>
<li><strong>st_scan_level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – </li>
<li><strong>make_plots</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Write image files.</li>
<li><strong>write_fits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Write a FITS file with the results of the analysis.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>maps</strong> – A dictionary containing the <a class="reference internal" href="#fermipy.skymap.Map" title="fermipy.skymap.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a> objects
for TS and source amplitude.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="fermipy.tsmap.TSMapGenerator">
<em class="property">class </em><code class="descclassname">fermipy.tsmap.</code><code class="descname">TSMapGenerator</code><a class="reference internal" href="_modules/fermipy/tsmap.html#TSMapGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.tsmap.TSMapGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Mixin class for <a class="reference internal" href="#fermipy.gtanalysis.GTAnalysis" title="fermipy.gtanalysis.GTAnalysis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GTAnalysis</span></code></a> that
generates TS maps.</p>
<dl class="method">
<dt id="fermipy.tsmap.TSMapGenerator.tsmap">
<code class="descname">tsmap</code><span class="sig-paren">(</span><em>prefix=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/tsmap.html#TSMapGenerator.tsmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.tsmap.TSMapGenerator.tsmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a spatial TS map for a source component with
properties defined by the <code class="xref py py-obj docutils literal notranslate"><span class="pre">model</span></code> argument.  The TS map will
have the same geometry as the ROI.  The output of this method
is a dictionary containing <a class="reference internal" href="#fermipy.skymap.Map" title="fermipy.skymap.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a> objects with
the TS and amplitude of the best-fit test source.  By default
this method will also save maps to FITS files and render them
as image files.</p>
<p>This method uses a simplified likelihood fitting
implementation that only fits for the normalization of the
test source.  Before running this method it is recommended to
first optimize the ROI model (e.g. by running
<a class="reference internal" href="#fermipy.gtanalysis.GTAnalysis.optimize" title="fermipy.gtanalysis.GTAnalysis.optimize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">optimize()</span></code></a>).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Optional string that will be prepended to all output files.</li>
<li><strong>{options}</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>tsmap</strong> – A dictionary containing the <a class="reference internal" href="#fermipy.skymap.Map" title="fermipy.skymap.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a> objects
for TS and source amplitude.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="fermipy.tsmap.cash">
<code class="descclassname">fermipy.tsmap.</code><code class="descname">cash</code><span class="sig-paren">(</span><em>counts</em>, <em>model</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/tsmap.html#cash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.tsmap.cash" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the Poisson log-likelihood function.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.tsmap.convert_tscube">
<code class="descclassname">fermipy.tsmap.</code><code class="descname">convert_tscube</code><span class="sig-paren">(</span><em>infile</em>, <em>outfile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/tsmap.html#convert_tscube"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.tsmap.convert_tscube" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.tsmap.convert_tscube_old">
<code class="descclassname">fermipy.tsmap.</code><code class="descname">convert_tscube_old</code><span class="sig-paren">(</span><em>infile</em>, <em>outfile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/tsmap.html#convert_tscube_old"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.tsmap.convert_tscube_old" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert between old and new TSCube formats.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.tsmap.extract_array">
<code class="descclassname">fermipy.tsmap.</code><code class="descname">extract_array</code><span class="sig-paren">(</span><em>array_large</em>, <em>array_small</em>, <em>position</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/tsmap.html#extract_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.tsmap.extract_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.tsmap.extract_images_from_tscube">
<code class="descclassname">fermipy.tsmap.</code><code class="descname">extract_images_from_tscube</code><span class="sig-paren">(</span><em>infile</em>, <em>outfile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/tsmap.html#extract_images_from_tscube"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.tsmap.extract_images_from_tscube" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract data from table HDUs in TSCube file and convert them to FITS images</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.tsmap.extract_large_array">
<code class="descclassname">fermipy.tsmap.</code><code class="descname">extract_large_array</code><span class="sig-paren">(</span><em>array_large</em>, <em>array_small</em>, <em>position</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/tsmap.html#extract_large_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.tsmap.extract_large_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.tsmap.extract_small_array">
<code class="descclassname">fermipy.tsmap.</code><code class="descname">extract_small_array</code><span class="sig-paren">(</span><em>array_small</em>, <em>array_large</em>, <em>position</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/tsmap.html#extract_small_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.tsmap.extract_small_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.tsmap.f_cash">
<code class="descclassname">fermipy.tsmap.</code><code class="descname">f_cash</code><span class="sig-paren">(</span><em>x</em>, <em>counts</em>, <em>bkg</em>, <em>model</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/tsmap.html#f_cash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.tsmap.f_cash" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for cash statistics, that defines the model function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Model amplitude.</li>
<li><strong>counts</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Count map slice, where model is defined.</li>
<li><strong>bkg</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Background map slice, where model is defined.</li>
<li><strong>model</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Source template (multiplied with exposure).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.tsmap.f_cash_sum">
<code class="descclassname">fermipy.tsmap.</code><code class="descname">f_cash_sum</code><span class="sig-paren">(</span><em>x</em>, <em>counts</em>, <em>bkg</em>, <em>model</em>, <em>bkg_sum=0</em>, <em>model_sum=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/tsmap.html#f_cash_sum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.tsmap.f_cash_sum" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fermipy.tsmap.poisson_log_like">
<code class="descclassname">fermipy.tsmap.</code><code class="descname">poisson_log_like</code><span class="sig-paren">(</span><em>counts</em>, <em>model</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/tsmap.html#poisson_log_like"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.tsmap.poisson_log_like" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the Poisson log-likelihood function for the given
counts and model arrays.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.tsmap.truncate_array">
<code class="descclassname">fermipy.tsmap.</code><code class="descname">truncate_array</code><span class="sig-paren">(</span><em>array1</em>, <em>array2</em>, <em>position</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/tsmap.html#truncate_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.tsmap.truncate_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Truncate array1 by finding the overlap with array2 when the
array1 center is located at the given position in array2.</p>
</dd></dl>

</div>
<div class="section" id="module-fermipy.residmap">
<span id="fermipy-residmap-module"></span><h2>fermipy.residmap module<a class="headerlink" href="#module-fermipy.residmap" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fermipy.residmap.ResidMapGenerator">
<em class="property">class </em><code class="descclassname">fermipy.residmap.</code><code class="descname">ResidMapGenerator</code><a class="reference internal" href="_modules/fermipy/residmap.html#ResidMapGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.residmap.ResidMapGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Mixin class for <a class="reference internal" href="#fermipy.gtanalysis.GTAnalysis" title="fermipy.gtanalysis.GTAnalysis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GTAnalysis</span></code></a> that generates
spatial residual maps from the difference of data and model maps
smoothed with a user-defined spatial/spectral template.  The map
of residual significance can be interpreted in the same way as a
TS map (the likelihood of a source at the given location).</p>
<dl class="method">
<dt id="fermipy.residmap.ResidMapGenerator.residmap">
<code class="descname">residmap</code><span class="sig-paren">(</span><em>prefix=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/residmap.html#ResidMapGenerator.residmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.residmap.ResidMapGenerator.residmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate 2-D spatial residual maps using the current ROI
model and the convolution kernel defined with the <code class="xref py py-obj docutils literal notranslate"><span class="pre">model</span></code>
argument.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – String that will be prefixed to the output residual map files.</li>
<li><strong>{options}</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>maps</strong> – A dictionary containing the <code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code> objects
for the residual significance and amplitude.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="fermipy.residmap.convolve_map">
<code class="descclassname">fermipy.residmap.</code><code class="descname">convolve_map</code><span class="sig-paren">(</span><em>m</em>, <em>k</em>, <em>cpix</em>, <em>threshold=0.001</em>, <em>imin=0</em>, <em>imax=None</em>, <em>wmap=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/residmap.html#convolve_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.residmap.convolve_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform an energy-dependent convolution on a sequence of 2-D spatial maps.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>m</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – 3-D map containing a sequence of 2-D spatial maps.  First
dimension should be energy.</li>
<li><strong>k</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – 3-D map containing a sequence of convolution kernels (PSF) for
each slice in m.  This map should have the same dimension as m.</li>
<li><strong>cpix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Indices of kernel reference pixel in the two spatial dimensions.</li>
<li><strong>threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Kernel amplitude</li>
<li><strong>imin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Minimum index in energy dimension.</li>
<li><strong>imax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Maximum index in energy dimension.</li>
<li><strong>wmap</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – 3-D map containing a sequence of 2-D spatial maps of weights.  First
dimension should be energy. This map should have the same dimension as m.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.residmap.convolve_map_hpx">
<code class="descclassname">fermipy.residmap.</code><code class="descname">convolve_map_hpx</code><span class="sig-paren">(</span><em>m</em>, <em>k</em>, <em>cpix</em>, <em>threshold=0.001</em>, <em>imin=0</em>, <em>imax=None</em>, <em>wmap=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/residmap.html#convolve_map_hpx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.residmap.convolve_map_hpx" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform an energy-dependent convolution on a sequence of 2-D spatial maps.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>m</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – 2-D map containing a sequence of 1-D HEALPix maps.  First
dimension should be energy.</li>
<li><strong>k</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – 2-D map containing a sequence of convolution kernels (PSF) for
each slice in m.  This map should have the same dimension as m.</li>
<li><strong>threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Kernel amplitude</li>
<li><strong>imin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Minimum index in energy dimension.</li>
<li><strong>imax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Maximum index in energy dimension.</li>
<li><strong>wmap</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – 2-D map containing a sequence of 1-D HEALPix maps of weights.  First
dimension should be energy. This map should have the same dimension as m.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.residmap.convolve_map_hpx_gauss">
<code class="descclassname">fermipy.residmap.</code><code class="descname">convolve_map_hpx_gauss</code><span class="sig-paren">(</span><em>m</em>, <em>sigmas</em>, <em>imin=0</em>, <em>imax=None</em>, <em>wmap=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/residmap.html#convolve_map_hpx_gauss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.residmap.convolve_map_hpx_gauss" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform an energy-dependent convolution on a sequence of 2-D spatial maps.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>m</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxMap</span></code>) – 2-D map containing a sequence of 1-D HEALPix maps.  First
dimension should be energy.</li>
<li><strong>sigmas</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – 1-D map containing a sequence gaussian widths for smoothing</li>
<li><strong>imin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Minimum index in energy dimension.</li>
<li><strong>imax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Maximum index in energy dimension.</li>
<li><strong>wmap</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – 2-D map containing a sequence of 1-D HEALPix maps of weights.  First
dimension should be energy. This map should have the same dimension as m.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fermipy.residmap.get_source_kernel">
<code class="descclassname">fermipy.residmap.</code><code class="descname">get_source_kernel</code><span class="sig-paren">(</span><em>gta</em>, <em>name</em>, <em>kernel=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/residmap.html#get_source_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.residmap.get_source_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the PDF for the given source.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.residmap.poisson_lnl">
<code class="descclassname">fermipy.residmap.</code><code class="descname">poisson_lnl</code><span class="sig-paren">(</span><em>nc</em>, <em>mu</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/residmap.html#poisson_lnl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.residmap.poisson_lnl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-fermipy.lightcurve">
<span id="fermipy-lightcurve-module"></span><h2>fermipy.lightcurve module<a class="headerlink" href="#module-fermipy.lightcurve" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fermipy.lightcurve.LightCurve">
<em class="property">class </em><code class="descclassname">fermipy.lightcurve.</code><code class="descname">LightCurve</code><a class="reference internal" href="_modules/fermipy/lightcurve.html#LightCurve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.lightcurve.LightCurve" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="fermipy.lightcurve.LightCurve.lightcurve">
<code class="descname">lightcurve</code><span class="sig-paren">(</span><em>name</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/lightcurve.html#LightCurve.lightcurve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.lightcurve.LightCurve.lightcurve" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a lightcurve for the named source. The function will
complete the basic analysis steps for each bin and perform a
likelihood fit for each bin. Extracted values (along with
errors) are Integral Flux, spectral model, Spectral index, TS
value, pred. # of photons. Note: successful calculation of
TS:subscript:<code class="xref py py-obj docutils literal notranslate"><span class="pre">var</span></code> requires at least one free background
parameter and a previously optimized ROI model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – source name</li>
<li><strong>{options}</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>LightCurve</strong> – Dictionary containing output of the LC analysis</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="fermipy.lightcurve.calcTS_var">
<code class="descclassname">fermipy.lightcurve.</code><code class="descname">calcTS_var</code><span class="sig-paren">(</span><em>loglike</em>, <em>loglike_const</em>, <em>flux_err</em>, <em>flux_const</em>, <em>systematic</em>, <em>fit_success</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy/lightcurve.html#calcTS_var"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.lightcurve.calcTS_var" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-fermipy">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-fermipy" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="fermipy.get_git_version_fp">
<code class="descclassname">fermipy.</code><code class="descname">get_git_version_fp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy.html#get_git_version_fp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.get_git_version_fp" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the version string of the ST release.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.get_st_version">
<code class="descclassname">fermipy.</code><code class="descname">get_st_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy.html#get_st_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.get_st_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the version string of the ST release.</p>
</dd></dl>

<dl class="function">
<dt id="fermipy.test">
<code class="descclassname">fermipy.</code><code class="descname">test</code><span class="sig-paren">(</span><em>package=None</em>, <em>test_path=None</em>, <em>args=None</em>, <em>plugins=None</em>, <em>verbose=False</em>, <em>pastebin=None</em>, <em>remote_data=False</em>, <em>pep8=False</em>, <em>pdb=False</em>, <em>coverage=False</em>, <em>open_files=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fermipy.html#test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fermipy.test" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the tests using <a class="reference external" href="http://pytest.org/latest">py.test</a>. A
proper set of arguments is constructed and passed to <a class="reference external" href="http://pytest.org/latest/builtin.html#pytest.main">pytest.main</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>package</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – The name of a specific package to test, e.g. ‘io.fits’ or ‘utils’.
If nothing is specified all default tests are run.</li>
<li><strong>test_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Specify location to test by path. May be a single file or
directory. Must be specified absolutely or relative to the
calling directory.</li>
<li><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Additional arguments to be passed to pytest.main in the <code class="docutils literal notranslate"><span class="pre">args</span></code>
keyword argument.</li>
<li><strong>plugins</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>, </em><em>optional</em>) – Plugins to be passed to pytest.main in the <code class="docutils literal notranslate"><span class="pre">plugins</span></code> keyword
argument.</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – <p>Convenience option to turn on verbose output from <a class="reference external" href="http://pytest.org/latest">py.test</a>. Passing True is the same as
specifying <code class="docutils literal notranslate"><span class="pre">'-v'</span></code> in <code class="docutils literal notranslate"><span class="pre">args</span></code>.</p>
</li>
<li><strong>pastebin</strong> (<em>{'failed'</em><em>,</em><em>'all'</em><em>,</em><em>None}</em><em>, </em><em>optional</em>) – Convenience option for turning on py.test pastebin output. Set to
<code class="docutils literal notranslate"><span class="pre">'failed'</span></code> to upload info for failed tests, or <code class="docutils literal notranslate"><span class="pre">'all'</span></code> to upload
info for all tests.</li>
<li><strong>remote_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Controls whether to run tests marked with &#64;remote_data. These
tests use online data and are not run by default. Set to True to
run these tests.</li>
<li><strong>pep8</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Turn on PEP8 checking via the <a class="reference external" href="http://pypi.python.org/pypi/pytest-pep8">pytest-pep8 plugin</a> and disable normal
tests. Same as specifying <code class="docutils literal notranslate"><span class="pre">'--pep8</span> <span class="pre">-k</span> <span class="pre">pep8'</span></code> in <code class="docutils literal notranslate"><span class="pre">args</span></code>.</li>
<li><strong>pdb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Turn on PDB post-mortem analysis for failing tests. Same as
specifying <code class="docutils literal notranslate"><span class="pre">'--pdb'</span></code> in <code class="docutils literal notranslate"><span class="pre">args</span></code>.</li>
<li><strong>coverage</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Generate a test coverage report.  The result will be placed in
the directory htmlcov.</li>
<li><strong>open_files</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Fail when any tests leave files open.  Off by default, because
this adds extra run time to the test suite.  Works only on
platforms with a working <code class="docutils literal notranslate"><span class="pre">lsof</span></code> command.</li>
<li><strong>parallel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – When provided, run the tests in parallel on the specified
number of CPUs.  If parallel is negative, it will use the all
the cores on the machine.  Requires the
<a class="reference external" href="https://pypi.python.org/pypi/pytest-xdist">pytest-xdist</a> plugin
installed. Only available when using Astropy 0.3 or later.</li>
<li><strong>kwargs</strong> – Any additional keywords passed into this function will be passed
on to the astropy test runner.  This allows use of test-related
functionality implemented in later versions of astropy without
explicitly updating the package template.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fermipy_jobs.html" class="btn btn-neutral float-right" title="fermipy.jobs subpackage" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="validation/merit_skimmer.html" class="btn btn-neutral float-left" title="Merit Skimmer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Fermipy Developers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>