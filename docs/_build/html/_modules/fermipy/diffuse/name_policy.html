

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>fermipy.diffuse.name_policy &mdash; Fermipy 0.18.0+25.g938c.dirty documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Fermipy
          

          
          </a>

          
            
            
              <div class="version">
                0.18.0+25.g938c.dirty
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../quickstart.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../output.html">Output File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fitting.html">ROI Optimization and Fitting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../model.html">Customizing the Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developer.html">Developer Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../advanced/index.html">Advanced Analysis Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../validation/index.html">Validation Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fermipy.html">fermipy package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fermipy_jobs.html">fermipy.jobs subpackage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fermipy_diffuse.html">fermipy.diffuse subpackage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Fermipy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
          <li><a href="../../fermipy.html">fermipy</a> &raquo;</li>
        
      <li>fermipy.diffuse.name_policy</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for fermipy.diffuse.name_policy</h1><div class="highlight"><pre>
<span></span><span class="c1"># Licensed under a 3-clause BSD style license - see LICENSE.rst</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Handle the naming conventions for composite likelihood analysis</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">absolute_import</span><span class="p">,</span> <span class="n">division</span><span class="p">,</span> <span class="n">print_function</span>

<span class="kn">import</span> <span class="nn">yaml</span>

<span class="c1"># Map reprocessing &#39;key&#39; to IRF name</span>
<span class="n">DATASET_DICTIONARY</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">P8_P302</span><span class="o">=</span><span class="s1">&#39;P8R2&#39;</span><span class="p">,</span> <span class="n">P8_P304</span><span class="o">=</span><span class="s1">&#39;P8R3&#39;</span><span class="p">,</span> <span class="n">P8_P305</span><span class="o">=</span><span class="s1">&#39;P8R3&#39;</span><span class="p">)</span>

<span class="c1"># Map event class &#39;key&#39; to IRF name</span>
<span class="n">EVCLASS_NAME_DICTIONARY</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s1">&#39;SOURCE&#39;</span><span class="p">,</span>
                               <span class="n">clean</span><span class="o">=</span><span class="s1">&#39;CLEAN&#39;</span><span class="p">,</span>
                               <span class="n">ultraclean</span><span class="o">=</span><span class="s1">&#39;ULTRACLEAN&#39;</span><span class="p">,</span>
                               <span class="n">ultracleanveto</span><span class="o">=</span><span class="s1">&#39;ULTRACLEANVETO&#39;</span><span class="p">)</span>

<span class="c1"># Map event class &#39;key&#39; to evtype bit mask value</span>
<span class="n">EVCLASS_MASK_DICTIONARY</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span>
                               <span class="n">clean</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span>
                               <span class="n">ultraclean</span><span class="o">=</span><span class="mi">512</span><span class="p">,</span>
                               <span class="n">ultracleanveto</span><span class="o">=</span><span class="mi">1024</span><span class="p">)</span>


<div class="viewcode-block" id="NameFactory"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory">[docs]</a><span class="k">class</span> <span class="nc">NameFactory</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Helper class to define file names and keys consistently. &quot;&quot;&quot;</span>

    <span class="c1"># dataset: specifies the data selection,</span>
    <span class="c1"># e.g., P8_P302_8years_source or P8_P302_8years_ultracleanveto</span>
    <span class="n">dataset_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{data_pass}</span><span class="s1">_</span><span class="si">{data_ver}</span><span class="s1">_</span><span class="si">{data_time}</span><span class="s1">_</span><span class="si">{evclass}</span><span class="s1">&#39;</span>

    <span class="c1"># Binning component : specifies the sub-selection,</span>
    <span class="c1"># e.g., zmax105_E3_PSF3 or zmax100_E1_ALL</span>
    <span class="n">component_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{zcut}</span><span class="s1">_</span><span class="si">{ebin}</span><span class="s1">_</span><span class="si">{psftype}</span><span class="s1">&#39;</span>

    <span class="c1"># sourcekeys, these are how we specify sources</span>

    <span class="c1"># sourcekey for diffuse templates : specifies the source and version of the source</span>
    <span class="c1"># e.g., loopI_v00 or</span>
    <span class="n">sourcekey_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{source_name}</span><span class="s1">_</span><span class="si">{source_ver}</span><span class="s1">&#39;</span>
    <span class="c1"># sourcekey for galprop input maps : specifies the component and ring.</span>
    <span class="c1"># e.g., pi0_decay_HIR_ring_11</span>
    <span class="n">galprop_ringkey_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{source_name}</span><span class="s1">_</span><span class="si">{ringkey}</span><span class="s1">&#39;</span>
    <span class="c1"># sourcekey for merged galprop maps : specifies the merged component and merging scheme</span>
    <span class="c1"># e.g., merged_CO_0_ref</span>
    <span class="n">galprop_sourcekey_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{source_name}</span><span class="s1">_</span><span class="si">{galpropkey}</span><span class="s1">&#39;</span>
    <span class="c1"># sourcekey for merged sets of point sources : specifies the catalog and merging rule</span>
    <span class="c1"># e.g., 3FLG_v00_faint</span>
    <span class="n">merged_sourcekey_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{catalog}</span><span class="s1">_</span><span class="si">{rulekey}</span><span class="s1">&#39;</span>

    <span class="c1"># File formats</span>

    <span class="c1"># Galprop inputs</span>
    <span class="c1"># Galprop input gasmaps</span>
    <span class="n">galprop_gasmap_format</span> <span class="o">=</span> <span class="s1">&#39;gasmap/</span><span class="si">{sourcekey}</span><span class="s1">_</span><span class="si">{projtype}</span><span class="s1">_</span><span class="si">{galprop_run}</span><span class="s1">.gz&#39;</span>
    <span class="c1"># Galprop merged gasmaps</span>
    <span class="n">merged_gasmap_format</span> <span class="o">=</span> <span class="s1">&#39;merged_gasmaps/</span><span class="si">{sourcekey}</span><span class="s1">_</span><span class="si">{projtype}</span><span class="s1">.fits&#39;</span>

    <span class="c1"># Other diffuse map templates</span>
    <span class="n">diffuse_template_format</span> <span class="o">=</span> <span class="s1">&#39;templates/template_</span><span class="si">{sourcekey}</span><span class="s1">.fits&#39;</span>
    <span class="c1"># Spectral templates</span>
    <span class="n">spectral_template_format</span> <span class="o">=</span> <span class="s1">&#39;templates/spectral_</span><span class="si">{sourcekey}</span><span class="s1">.txt&#39;</span>

    <span class="c1"># Source model xml files (input to gtrsrcmaps and gtlike)</span>
    <span class="n">srcmdl_xml_format</span> <span class="o">=</span> <span class="s1">&#39;srcmdls/</span><span class="si">{sourcekey}</span><span class="s1">.xml&#39;</span>
    <span class="n">nested_srcmdl_xml_format</span> <span class="o">=</span> <span class="s1">&#39;srcmdls/</span><span class="si">{sourcekey}</span><span class="s1">_sources.xml&#39;</span>

    <span class="c1"># ScienceTools output files</span>
    <span class="c1"># The input ft1 file list</span>
    <span class="n">ft1file_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{dataset}</span><span class="s1">_</span><span class="si">{zcut}</span><span class="s1">.lst&#39;</span>
    <span class="c1"># The input ft2 file list</span>
    <span class="n">ft2file_format</span> <span class="o">=</span> <span class="s1">&#39;ft2_files/ft2_</span><span class="si">{data_time}</span><span class="s1">.lst&#39;</span>

    <span class="c1"># Livetime cubes (output of gtltcube)</span>
    <span class="n">ltcube_format</span> <span class="o">=</span> <span class="s1">&#39;lt_cubes/ltcube_</span><span class="si">{data_time}</span><span class="s1">_</span><span class="si">{mktime}</span><span class="s1">_</span><span class="si">{zcut}</span><span class="s1">.fits&#39;</span>
    <span class="c1"># Selected events (output of gtselect)</span>
    <span class="n">select_format</span> <span class="o">=</span> <span class="s1">&#39;counts_cubes/select_</span><span class="si">{dataset}</span><span class="s1">_</span><span class="si">{component}</span><span class="s1">.fits&#39;</span>
    <span class="c1"># MKtime select events (output of gtmktime)</span>
    <span class="n">mktime_format</span> <span class="o">=</span> <span class="s1">&#39;counts_cubes/mktime_</span><span class="si">{dataset}</span><span class="s1">_</span><span class="si">{mktime}</span><span class="s1">_</span><span class="si">{component}</span><span class="s1">.fits&#39;</span>

    <span class="c1"># Counts cubes (output of gtbin)</span>
    <span class="n">ccube_format</span> <span class="o">=</span> <span class="s1">&#39;counts_cubes/ccube_</span><span class="si">{dataset}</span><span class="s1">_</span><span class="si">{mktime}</span><span class="s1">_</span><span class="si">{component}</span><span class="s1">_</span><span class="si">{coordsys}</span><span class="s1">.fits&#39;</span>
    <span class="c1"># Binned exposure cubes (output of gtexpcube2)</span>
    <span class="n">bexpcube_format</span> <span class="o">=</span> <span class="s1">&#39;bexp_cubes/bexcube_</span><span class="si">{dataset}</span><span class="s1">_</span><span class="si">{mktime}</span><span class="s1">_</span><span class="si">{component}</span><span class="s1">_</span><span class="si">{coordsys}</span><span class="s1">_</span><span class="si">{irf_ver}</span><span class="s1">.fits&#39;</span>
    <span class="c1"># Sources maps (output of gtsrcmaps)</span>
    <span class="n">srcmaps_format</span> <span class="o">=</span> <span class="s1">&#39;srcmaps/srcmaps_</span><span class="si">{sourcekey}</span><span class="s1">_</span><span class="si">{dataset}</span><span class="s1">_</span><span class="si">{mktime}</span><span class="s1">_</span><span class="si">{component}</span><span class="s1">_</span><span class="si">{coordsys}</span><span class="s1">_</span><span class="si">{irf_ver}</span><span class="s1">.fits&#39;</span>
    <span class="c1"># Model cubes (output of gtmodel outtype=CCUBE)</span>
    <span class="n">mcube_format</span> <span class="o">=</span> <span class="s1">&#39;model_cubes/mcube_</span><span class="si">{sourcekey}</span><span class="s1">_</span><span class="si">{dataset}</span><span class="s1">_</span><span class="si">{mktime}</span><span class="s1">_</span><span class="si">{component}</span><span class="s1">_</span><span class="si">{coordsys}</span><span class="s1">_</span><span class="si">{irf_ver}</span><span class="s1">.fits&#39;</span>

    <span class="c1"># SolarTools output files</span>
    <span class="c1"># gtltcubesun output (for sun)</span>
    <span class="n">ltcubesun_format</span> <span class="o">=</span> <span class="s1">&#39;sunmoon/ltcube_</span><span class="si">{data_time}</span><span class="s1">_</span><span class="si">{mktime}</span><span class="s1">_</span><span class="si">{zcut}</span><span class="s1">_sun.fits&#39;</span>
    <span class="c1"># gtltcubesun output (for moon)</span>
    <span class="n">ltcubemoon_format</span> <span class="o">=</span> <span class="s1">&#39;sunmoon/ltcube_</span><span class="si">{data_time}</span><span class="s1">_</span><span class="si">{mktime}</span><span class="s1">_</span><span class="si">{zcut}</span><span class="s1">_moon.fits&#39;</span>
    <span class="c1"># Binned exposure cubes (output of gtexphpsun, for sun)</span>
    <span class="n">bexpcubesun_format</span> <span class="o">=</span> <span class="s1">&#39;bexp_cubes/bexcube_</span><span class="si">{dataset}</span><span class="s1">_</span><span class="si">{mktime}</span><span class="s1">_</span><span class="si">{component}</span><span class="s1">_</span><span class="si">{irf_ver}</span><span class="s1">_sun.fits&#39;</span>
    <span class="c1"># Binned exposure cubes (output of gtexphpsun, for moon)</span>
    <span class="n">bexpcubemoon_format</span> <span class="o">=</span> <span class="s1">&#39;bexp_cubes/bexcube_</span><span class="si">{dataset}</span><span class="s1">_</span><span class="si">{mktime}</span><span class="s1">_</span><span class="si">{component}</span><span class="s1">_</span><span class="si">{irf_ver}</span><span class="s1">_moon.fits&#39;</span>
    <span class="c1"># Angular spectrum profile</span>
    <span class="n">angprofile_format</span> <span class="o">=</span> <span class="s1">&#39;templates/profile_</span><span class="si">{sourcekey}</span><span class="s1">.fits&#39;</span>

    <span class="c1"># Binned exposure cubes (output of gtexphpsun, for sun)</span>
    <span class="n">templatesunmoon_format</span> <span class="o">=</span> <span class="s1">&#39;templates/template_</span><span class="si">{sourcekey}</span><span class="s1">_</span><span class="si">{zcut}</span><span class="s1">.fits&#39;</span>

    <span class="c1"># residual CR output files</span>
    <span class="n">residual_cr_format</span> <span class="o">=</span> <span class="s1">&#39;residual_cr/residual_cr_</span><span class="si">{dataset}</span><span class="s1">_</span><span class="si">{mktime}</span><span class="s1">_</span><span class="si">{component}</span><span class="s1">_</span><span class="si">{coordsys}</span><span class="s1">_</span><span class="si">{irf_ver}</span><span class="s1">.fits&#39;</span>

    <span class="c1"># Model specific stuff</span>

    <span class="c1"># galprop rings merging yaml file</span>
    <span class="n">galprop_rings_yaml_format</span> <span class="o">=</span> <span class="s1">&#39;models/galprop_rings_</span><span class="si">{galkey}</span><span class="s1">.yaml&#39;</span>
    <span class="c1"># catalog split yaml file</span>
    <span class="n">catalog_split_yaml_format</span> <span class="o">=</span> <span class="s1">&#39;models/catalog_</span><span class="si">{sourcekey}</span><span class="s1">.yaml&#39;</span>
    <span class="c1"># model yaml file</span>
    <span class="n">model_yaml_format</span> <span class="o">=</span> <span class="s1">&#39;models/model_</span><span class="si">{modelkey}</span><span class="s1">.yaml&#39;</span>

    <span class="c1"># Merged source map file for one binning component</span>
    <span class="n">merged_srcmaps_format</span> <span class="o">=</span>\
        <span class="s1">&#39;analysis/model_</span><span class="si">{modelkey}</span><span class="s1">/srcmaps_</span><span class="si">{dataset}</span><span class="s1">_</span><span class="si">{mktime}</span><span class="s1">_</span><span class="si">{component}</span><span class="s1">_</span><span class="si">{coordsys}</span><span class="s1">_</span><span class="si">{irf_ver}</span><span class="s1">.fits&#39;</span>
    <span class="c1"># Master XML model file</span>
    <span class="n">master_srcmdl_xml_format</span> <span class="o">=</span> <span class="s1">&#39;analysis/model_</span><span class="si">{modelkey}</span><span class="s1">/srcmdl_</span><span class="si">{modelkey}</span><span class="s1">_master.xml&#39;</span>
    <span class="c1"># Component XML model file</span>
    <span class="n">comp_srcmdl_xml_format</span> <span class="o">=</span> <span class="s1">&#39;analysis/model_</span><span class="si">{modelkey}</span><span class="s1">/srcmdl_</span><span class="si">{modelkey}</span><span class="s1">_</span><span class="si">{component}</span><span class="s1">.xml&#39;</span>

    <span class="c1"># Stamp files from scatter gather jobs</span>
    <span class="n">stamp_format</span> <span class="o">=</span> <span class="s1">&#39;stamps/</span><span class="si">{linkname}</span><span class="s1">.stamp&#39;</span>

    <span class="c1"># Full filepath</span>
    <span class="n">fullpath_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{basedir}</span><span class="s1">/</span><span class="si">{localpath}</span><span class="s1">&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; C&#39;tor.  Set baseline dictionary used to resolve names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_replace_none</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aDict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Replace all None values in a dict with &#39;none&#39; &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">aDict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">aDict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span>

<div class="viewcode-block" id="NameFactory.update_base_dict"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.update_base_dict">[docs]</a>    <span class="k">def</span> <span class="nf">update_base_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">yamlfile</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Update the values in baseline dictionary used to resolve names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">yamlfile</span><span class="p">)))</span></div>

<div class="viewcode-block" id="NameFactory.irf_ver"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.irf_ver">[docs]</a>    <span class="k">def</span> <span class="nf">irf_ver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get the name of the IRF version</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;irf_ver&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;irf_ver&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="NameFactory.irfs"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.irfs">[docs]</a>    <span class="k">def</span> <span class="nf">irfs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get the name of IFRs associted with a particular dataset</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dsval</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="n">dsval</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)</span>
        <span class="n">irf_name</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">_</span><span class="si">%s</span><span class="s2">_</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">DATASET_DICTIONARY</span><span class="p">[</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">_</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">tokens</span><span class="p">[</span><span class="mi">1</span><span class="p">])],</span>
                                 <span class="n">EVCLASS_NAME_DICTIONARY</span><span class="p">[</span><span class="n">tokens</span><span class="p">[</span><span class="mi">3</span><span class="p">]],</span>
                                 <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;irf_ver&#39;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">irf_name</span></div>

<div class="viewcode-block" id="NameFactory.evclassmask"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.evclassmask">[docs]</a>    <span class="k">def</span> <span class="nf">evclassmask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evclass_str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get the bitmask for a particular event class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">EVCLASS_MASK_DICTIONARY</span><span class="p">[</span><span class="n">evclass_str</span><span class="p">]</span></div>

<div class="viewcode-block" id="NameFactory.dataset"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.dataset">[docs]</a>    <span class="k">def</span> <span class="nf">dataset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return a key that specifies the data selection</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">dataset_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="NameFactory.component"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.component">[docs]</a>    <span class="k">def</span> <span class="nf">component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return a key that specifies data the sub-selection</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">component_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="NameFactory.sourcekey"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.sourcekey">[docs]</a>    <span class="k">def</span> <span class="nf">sourcekey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return a key that specifies the name and version of a source or component</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">sourcekey_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="NameFactory.galprop_ringkey"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.galprop_ringkey">[docs]</a>    <span class="k">def</span> <span class="nf">galprop_ringkey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the sourcekey for galprop input maps : specifies the component and ring</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">galprop_ringkey_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="NameFactory.galprop_sourcekey"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.galprop_sourcekey">[docs]</a>    <span class="k">def</span> <span class="nf">galprop_sourcekey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the sourcekey for merged galprop maps :</span>
<span class="sd">        specifies the merged component and merging scheme</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">galprop_sourcekey_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="NameFactory.merged_sourcekey"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.merged_sourcekey">[docs]</a>    <span class="k">def</span> <span class="nf">merged_sourcekey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the sourcekey for merged sets of point sources :</span>
<span class="sd">        specifies the catalog and merging rule</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">merged_sourcekey_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="NameFactory.galprop_gasmap"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.galprop_gasmap">[docs]</a>    <span class="k">def</span> <span class="nf">galprop_gasmap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the file name for Galprop input gasmaps</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">galprop_gasmap_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.merged_gasmap"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.merged_gasmap">[docs]</a>    <span class="k">def</span> <span class="nf">merged_gasmap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the file name for Galprop merged gasmaps</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">merged_gasmap_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.diffuse_template"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.diffuse_template">[docs]</a>    <span class="k">def</span> <span class="nf">diffuse_template</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the file name for other diffuse map templates</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">diffuse_template_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.spectral_template"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.spectral_template">[docs]</a>    <span class="k">def</span> <span class="nf">spectral_template</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the file name for spectral templates</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">spectral_template_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.srcmdl_xml"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.srcmdl_xml">[docs]</a>    <span class="k">def</span> <span class="nf">srcmdl_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the file name for source model xml files</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">srcmdl_xml_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.nested_srcmdl_xml"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.nested_srcmdl_xml">[docs]</a>    <span class="k">def</span> <span class="nf">nested_srcmdl_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the file name for source model xml files of nested sources</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">nested_srcmdl_xml_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.ft1file"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.ft1file">[docs]</a>    <span class="k">def</span> <span class="nf">ft1file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of the input ft1 file list</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">ft1file_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.ft2file"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.ft2file">[docs]</a>    <span class="k">def</span> <span class="nf">ft2file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of the input ft2 file list</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;data_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s1">&#39;data_time&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">ft2file_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.ltcube"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.ltcube">[docs]</a>    <span class="k">def</span> <span class="nf">ltcube</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of a livetime cube file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">ltcube_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.select"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.select">[docs]</a>    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of a selected events ft1file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;component&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s1">&#39;component&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">select_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.mktime"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.mktime">[docs]</a>    <span class="k">def</span> <span class="nf">mktime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of a selected events ft1file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;component&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s1">&#39;component&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">mktime_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.ccube"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.ccube">[docs]</a>    <span class="k">def</span> <span class="nf">ccube</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of a counts cube file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;component&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s1">&#39;component&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">ccube_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.bexpcube"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.bexpcube">[docs]</a>    <span class="k">def</span> <span class="nf">bexpcube</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of a binned exposure cube file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;component&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s1">&#39;component&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">bexpcube_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.srcmaps"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.srcmaps">[docs]</a>    <span class="k">def</span> <span class="nf">srcmaps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of a source map file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;component&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s1">&#39;component&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">srcmaps_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.mcube"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.mcube">[docs]</a>    <span class="k">def</span> <span class="nf">mcube</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of a model cube file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;component&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s1">&#39;component&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">mcube_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.ltcube_sun"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.ltcube_sun">[docs]</a>    <span class="k">def</span> <span class="nf">ltcube_sun</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of a livetime cube file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">ltcubesun_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.ltcube_moon"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.ltcube_moon">[docs]</a>    <span class="k">def</span> <span class="nf">ltcube_moon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of a livetime cube file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">ltcubemoon_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.bexpcube_sun"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.bexpcube_sun">[docs]</a>    <span class="k">def</span> <span class="nf">bexpcube_sun</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of a binned exposure cube file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;component&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s1">&#39;component&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">bexpcubesun_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.bexpcube_moon"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.bexpcube_moon">[docs]</a>    <span class="k">def</span> <span class="nf">bexpcube_moon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of a binned exposure cube file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;component&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s1">&#39;component&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">bexpcubemoon_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.angprofile"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.angprofile">[docs]</a>    <span class="k">def</span> <span class="nf">angprofile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the file name for sun or moon angular profiles</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">angprofile_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.template_sunmoon"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.template_sunmoon">[docs]</a>    <span class="k">def</span> <span class="nf">template_sunmoon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the file name for sun or moon template files</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;component&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s1">&#39;component&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">templatesunmoon_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.residual_cr"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.residual_cr">[docs]</a>    <span class="k">def</span> <span class="nf">residual_cr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the name of the residual CR analysis output files&quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;component&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s1">&#39;component&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">residual_cr_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.galprop_rings_yaml"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.galprop_rings_yaml">[docs]</a>    <span class="k">def</span> <span class="nf">galprop_rings_yaml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of a galprop rings merging yaml file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">galprop_rings_yaml_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.catalog_split_yaml"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.catalog_split_yaml">[docs]</a>    <span class="k">def</span> <span class="nf">catalog_split_yaml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of a catalog split yaml file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">catalog_split_yaml_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.model_yaml"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.model_yaml">[docs]</a>    <span class="k">def</span> <span class="nf">model_yaml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of a model yaml file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">model_yaml_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.merged_srcmaps"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.merged_srcmaps">[docs]</a>    <span class="k">def</span> <span class="nf">merged_srcmaps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of a source map file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;component&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s1">&#39;component&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">merged_srcmaps_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.master_srcmdl_xml"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.master_srcmdl_xml">[docs]</a>    <span class="k">def</span> <span class="nf">master_srcmdl_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of a source model file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">master_srcmdl_xml_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.comp_srcmdl_xml"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.comp_srcmdl_xml">[docs]</a>    <span class="k">def</span> <span class="nf">comp_srcmdl_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the name of a source model file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;component&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s1">&#39;component&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="n">localpath</span> <span class="o">=</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">comp_srcmdl_xml_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullpath&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullpath</span><span class="p">(</span><span class="n">localpath</span><span class="o">=</span><span class="n">localpath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">localpath</span></div>

<div class="viewcode-block" id="NameFactory.stamp"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.stamp">[docs]</a>    <span class="k">def</span> <span class="nf">stamp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the path for a stamp file for a scatter gather job&quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="k">return</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">stamp_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span></div>

<div class="viewcode-block" id="NameFactory.fullpath"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.fullpath">[docs]</a>    <span class="k">def</span> <span class="nf">fullpath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a full path name for a given file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="k">return</span> <span class="n">NameFactory</span><span class="o">.</span><span class="n">fullpath_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span></div>

<div class="viewcode-block" id="NameFactory.generic"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.generic">[docs]</a>    <span class="k">def</span> <span class="nf">generic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_string</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return a generic filename for a given dataset and component</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">kwargs_copy</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="n">kwargs_copy</span><span class="p">[</span><span class="s1">&#39;component&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s1">&#39;component&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_replace_none</span><span class="p">(</span><span class="n">kwargs_copy</span><span class="p">)</span>        
        <span class="k">return</span> <span class="n">input_string</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs_copy</span><span class="p">)</span></div>

<div class="viewcode-block" id="NameFactory.make_filenames"><a class="viewcode-back" href="../../../fermipy_diffuse.html#fermipy.diffuse.name_policy.NameFactory.make_filenames">[docs]</a>    <span class="k">def</span> <span class="nf">make_filenames</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Make a dictionary of filenames for various types</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">out_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">ft1file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ft1file</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">),</span>
                        <span class="n">ltcube</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ltcube</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">),</span>
                        <span class="n">ccube</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ccube</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">),</span>
                        <span class="n">bexpcube</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bexpcube</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">),</span>
                        <span class="n">srcmaps</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">srcmaps</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">),</span>
                        <span class="n">mcube</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mcube</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">out_dict</span></div></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Fermipy Developers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>