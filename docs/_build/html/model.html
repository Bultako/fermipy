

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Customizing the Model &mdash; Fermipy 0.18.0+17.gdd46b.dirty documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Developer Notes" href="developer.html" />
    <link rel="prev" title="ROI Optimization and Fitting" href="fitting.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Fermipy
          

          
          </a>

          
            
            
              <div class="version">
                0.18.0+17.gdd46b.dirty
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="output.html">Output File</a></li>
<li class="toctree-l1"><a class="reference internal" href="fitting.html">ROI Optimization and Fitting</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Customizing the Model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#configuring-diffuse-components">Configuring Diffuse Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-source-components">Configuring Source Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="#spatial-models">Spatial Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="#editing-the-model-at-runtime">Editing the Model at Runtime</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developer.html">Developer Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced/index.html">Advanced Analysis Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="validation/index.html">Validation Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="fermipy.html">fermipy package</a></li>
<li class="toctree-l1"><a class="reference internal" href="fermipy_jobs.html">fermipy.jobs subpackage</a></li>
<li class="toctree-l1"><a class="reference internal" href="fermipy_diffuse.html">fermipy.diffuse subpackage</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Fermipy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Customizing the Model</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/model.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="customizing-the-model">
<span id="model"></span><h1>Customizing the Model<a class="headerlink" href="#customizing-the-model" title="Permalink to this headline">¶</a></h1>
<p>The ROIModel class is responsible for managing the source and diffuse
components in the ROI.  Configuration of the model is controlled with
the <a class="reference internal" href="config.html#config-model"><span class="std std-ref">model</span></a> block of YAML configuration file.</p>
<div class="section" id="configuring-diffuse-components">
<h2>Configuring Diffuse Components<a class="headerlink" href="#configuring-diffuse-components" title="Permalink to this headline">¶</a></h2>
<p>The simplest configuration uses a single file for the galactic and
isotropic diffuse components.  By default the galactic diffuse and
isotropic components will be named <em>galdiff</em> and <em>isodiff</em>
respectively.  An alias for each component will also be created with
the name of the mapcube or file spectrum.  For instance the galactic
diffuse can be referred to as <em>galdiff</em> or <em>gll_iem_v06</em> in the
following example.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
  <span class="nt">src_roiwidth </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10.0</span>
  <span class="nt">galdiff  </span><span class="p">:</span> <span class="s">&#39;$FERMI_DIFFUSE_DIR/gll_iem_v06.fits&#39;</span>
  <span class="nt">isodiff  </span><span class="p">:</span> <span class="s">&#39;$FERMI_DIFFUSE_DIR/isotropic_source_4years_P8V3.txt&#39;</span>
  <span class="nt">catalogs </span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;gll_psc_v14.fit&#39;</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>To define two or more galactic diffuse components you can optionally define
the <em>galdiff</em> and <em>isodiff</em> parameters as lists.  A separate
component will be generated for each element in the list with the name
<em>galdiffXX</em> or <em>isodiffXX</em> where <em>XX</em> is an integer position in the
list.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
  <span class="nt">galdiff  </span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="s">&#39;$FERMI_DIFFUSE_DIR/diffuse_component0.fits&#39;</span>
    <span class="p p-Indicator">-</span> <span class="s">&#39;$FERMI_DIFFUSE_DIR/diffuse_component1.fits&#39;</span>
</pre></div>
</div>
<p>To explicitly set the name of a component you can define any element
as a dictionary containing <em>name</em> and <em>file</em> fields:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
  <span class="nt">galdiff  </span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span><span class="nt"> &#39;name&#39; </span><span class="p">:</span> <span class="s">&#39;component0&#39;</span><span class="p p-Indicator">,</span><span class="nt"> &#39;file&#39; </span><span class="p">:</span> <span class="s">&#39;$FERMI_DIFFUSE_DIR/diffuse_component0.fits&#39;</span> <span class="p p-Indicator">}</span>
    <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span><span class="nt"> &#39;name&#39; </span><span class="p">:</span> <span class="s">&#39;component1&#39;</span><span class="p p-Indicator">,</span><span class="nt"> &#39;file&#39; </span><span class="p">:</span> <span class="s">&#39;$FERMI_DIFFUSE_DIR/diffuse_component1.fits&#39;</span> <span class="p p-Indicator">}</span>
</pre></div>
</div>
</div>
<div class="section" id="configuring-source-components">
<h2>Configuring Source Components<a class="headerlink" href="#configuring-source-components" title="Permalink to this headline">¶</a></h2>
<p>The list of sources for inclusion in the ROI model is set by defining
a list of catalogs with the <em>catalogs</em> parameter.  Catalog files can
be in either XML or FITS format.  Sources from the catalogs in this
list that satisfy either the <em>src_roiwidth</em> or <em>src_radius</em> selections
are added to the ROI model.  If a source is defined in multiple
catalogs the source definition from the last file in the catalogs list
takes precedence.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>

  <span class="nt">src_radius</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5.0</span>
  <span class="nt">src_roiwidth</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10.0</span>
  <span class="nt">catalogs </span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="s">&#39;gll_psc_v16.fit&#39;</span>
    <span class="p p-Indicator">-</span> <span class="s">&#39;extra_sources.xml&#39;</span>
</pre></div>
</div>
<p>Individual sources can also be defined within the configuration file
with the <em>sources</em> parameter.  This parameter contains a list of
dictionaries that defines the spatial and spectral parameters of each
source.  The keys of the source dictionary map to the spectral and
spatial source properties as they would be defined in the XML model
file.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
  <span class="nt">sources  </span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span><span class="nt"> name</span><span class="p">:</span> <span class="s">&#39;SourceA&#39;</span><span class="p p-Indicator">,</span><span class="nt"> glon </span><span class="p">:</span> <span class="nv">120.0</span><span class="p p-Indicator">,</span><span class="nt"> glat </span><span class="p">:</span> <span class="nv">-3.0</span><span class="p p-Indicator">,</span>
<span class="nt">     SpectrumType </span><span class="p">:</span> <span class="s">&#39;PowerLaw&#39;</span><span class="p p-Indicator">,</span><span class="nt"> Index </span><span class="p">:</span> <span class="nv">2.0</span><span class="p p-Indicator">,</span><span class="nt"> Scale </span><span class="p">:</span> <span class="nv">1000</span><span class="p p-Indicator">,</span><span class="nt"> Prefactor </span><span class="p">:</span> <span class="kt">!!float</span> <span class="nv">1e-11</span><span class="p p-Indicator">,</span>
<span class="nt">     SpatialModel</span><span class="p">:</span> <span class="s">&#39;PointSource&#39;</span> <span class="p p-Indicator">}</span>
    <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span><span class="nt"> name</span><span class="p">:</span> <span class="s">&#39;SourceB&#39;</span><span class="p p-Indicator">,</span><span class="nt"> glon </span><span class="p">:</span> <span class="nv">122.0</span><span class="p p-Indicator">,</span><span class="nt"> glat </span><span class="p">:</span> <span class="nv">-3.0</span><span class="p p-Indicator">,</span>
<span class="nt">     SpectrumType </span><span class="p">:</span> <span class="s">&#39;LogParabola&#39;</span><span class="p p-Indicator">,</span><span class="nt"> norm </span><span class="p">:</span> <span class="kt">!!float</span> <span class="nv">1E-11</span><span class="p p-Indicator">,</span><span class="nt"> Scale </span><span class="p">:</span> <span class="nv">1000</span><span class="p p-Indicator">,</span><span class="nt"> beta </span><span class="p">:</span> <span class="nv">0.0</span><span class="p p-Indicator">,</span>
<span class="nt">     SpatialModel</span><span class="p">:</span> <span class="s">&#39;PointSource&#39;</span> <span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>For parameters defined as scalars, the scale and value properties will
be assigned automatically from the input value.  To set these manually
a parameter can also be initialized with a dictionary that explicitly
sets the value and scale properties:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
  <span class="nt">sources  </span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span><span class="nt"> name</span><span class="p">:</span> <span class="s">&#39;SourceA&#39;</span><span class="p p-Indicator">,</span><span class="nt"> glon </span><span class="p">:</span> <span class="nv">120.0</span><span class="p p-Indicator">,</span><span class="nt"> glat </span><span class="p">:</span> <span class="nv">-3.0</span><span class="p p-Indicator">,</span>
<span class="nt">        SpectrumType </span><span class="p">:</span> <span class="s">&#39;PowerLaw&#39;</span><span class="p p-Indicator">,</span><span class="nt"> Index </span><span class="p">:</span> <span class="nv">2.0</span><span class="p p-Indicator">,</span><span class="nt"> Scale </span><span class="p">:</span> <span class="nv">1000</span><span class="p p-Indicator">,</span>
<span class="nt">        Prefactor </span><span class="p">:</span> <span class="p p-Indicator">{</span><span class="nt"> value </span><span class="p">:</span> <span class="nv">1.0</span><span class="p p-Indicator">,</span><span class="nt"> scale </span><span class="p">:</span> <span class="kt">!!float</span> <span class="nv">1e-11</span><span class="p p-Indicator">,</span><span class="nt"> free </span><span class="p">:</span> <span class="s">&#39;0&#39;</span> <span class="p p-Indicator">},</span>
<span class="nt">        SpatialModel</span><span class="p">:</span> <span class="s">&#39;PointSource&#39;</span> <span class="p p-Indicator">}</span>
</pre></div>
</div>
</div>
<div class="section" id="spatial-models">
<h2>Spatial Models<a class="headerlink" href="#spatial-models" title="Permalink to this headline">¶</a></h2>
<p>Fermipy supports four spatial models which are defined with the
<code class="docutils literal notranslate"><span class="pre">SpatialModel</span></code> property:</p>
<ul class="simple">
<li>PointSource : A point source (SkyDirFunction).</li>
<li>RadialGaussian : A symmetric 2D Gaussian with width parameter ‘Sigma’.</li>
<li>RadialDisk : A symmetric 2D Disk with radius ‘Radius’.</li>
<li>SpatialMap : An arbitrary 2D shape with morphology defined by a FITS template.</li>
</ul>
<p>The spatial extension of RadialDisk and RadialGaussian can be
controlled with the <code class="docutils literal notranslate"><span class="pre">SpatialWidth</span></code> parameter which sets the 68%
containment radius in degrees.  Note for ST releases prior to
11-01-01, RadialDisk and RadialGaussian sources will be represented
with the <code class="docutils literal notranslate"><span class="pre">SpatialMap</span></code> type.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
  <span class="nt">sources  </span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span><span class="nt"> name</span><span class="p">:</span> <span class="s">&#39;PointSource&#39;</span><span class="p p-Indicator">,</span><span class="nt"> glon </span><span class="p">:</span> <span class="nv">120.0</span><span class="p p-Indicator">,</span><span class="nt"> glat </span><span class="p">:</span> <span class="nv">0.0</span><span class="p p-Indicator">,</span>
<span class="nt">     SpectrumType </span><span class="p">:</span> <span class="s">&#39;PowerLaw&#39;</span><span class="p p-Indicator">,</span><span class="nt"> Index </span><span class="p">:</span> <span class="nv">2.0</span><span class="p p-Indicator">,</span><span class="nt"> Scale </span><span class="p">:</span> <span class="nv">1000</span><span class="p p-Indicator">,</span><span class="nt"> Prefactor </span><span class="p">:</span> <span class="kt">!!float</span> <span class="nv">1e-11</span><span class="p p-Indicator">,</span>
<span class="nt">     SpatialModel</span><span class="p">:</span> <span class="s">&#39;PointSource&#39;</span> <span class="p p-Indicator">}</span>
    <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span><span class="nt"> name</span><span class="p">:</span> <span class="s">&#39;DiskSource&#39;</span><span class="p p-Indicator">,</span><span class="nt"> glon </span><span class="p">:</span> <span class="nv">120.0</span><span class="p p-Indicator">,</span><span class="nt"> glat </span><span class="p">:</span> <span class="nv">0.0</span><span class="p p-Indicator">,</span>
<span class="nt">     SpectrumType </span><span class="p">:</span> <span class="s">&#39;PowerLaw&#39;</span><span class="p p-Indicator">,</span><span class="nt"> Index </span><span class="p">:</span> <span class="nv">2.0</span><span class="p p-Indicator">,</span><span class="nt"> Scale </span><span class="p">:</span> <span class="nv">1000</span><span class="p p-Indicator">,</span><span class="nt"> Prefactor </span><span class="p">:</span> <span class="kt">!!float</span> <span class="nv">1e-11</span><span class="p p-Indicator">,</span>
<span class="nt">     SpatialModel</span><span class="p">:</span> <span class="s">&#39;RadialDisk&#39;</span><span class="p p-Indicator">,</span><span class="nt"> SpatialWidth</span><span class="p">:</span> <span class="nv">1.0</span> <span class="p p-Indicator">}</span>
    <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span><span class="nt"> name</span><span class="p">:</span> <span class="s">&#39;GaussSource&#39;</span><span class="p p-Indicator">,</span><span class="nt"> glon </span><span class="p">:</span> <span class="nv">120.0</span><span class="p p-Indicator">,</span><span class="nt"> glat </span><span class="p">:</span> <span class="nv">0.0</span><span class="p p-Indicator">,</span>
<span class="nt">     SpectrumType </span><span class="p">:</span> <span class="s">&#39;PowerLaw&#39;</span><span class="p p-Indicator">,</span><span class="nt"> Index </span><span class="p">:</span> <span class="nv">2.0</span><span class="p p-Indicator">,</span><span class="nt"> Scale </span><span class="p">:</span> <span class="nv">1000</span><span class="p p-Indicator">,</span><span class="nt"> Prefactor </span><span class="p">:</span> <span class="kt">!!float</span> <span class="nv">1e-11</span><span class="p p-Indicator">,</span>
<span class="nt">     SpatialModel</span><span class="p">:</span> <span class="s">&#39;RadialGaussian&#39;</span><span class="p p-Indicator">,</span><span class="nt"> SpatialWidth</span><span class="p">:</span> <span class="nv">1.0</span> <span class="p p-Indicator">}</span>
    <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span><span class="nt"> name</span><span class="p">:</span> <span class="s">&#39;MapSource&#39;</span><span class="p p-Indicator">,</span><span class="nt"> glon </span><span class="p">:</span> <span class="nv">120.0</span><span class="p p-Indicator">,</span><span class="nt"> glat </span><span class="p">:</span> <span class="nv">0.0</span><span class="p p-Indicator">,</span>
<span class="nt">     SpectrumType </span><span class="p">:</span> <span class="s">&#39;PowerLaw&#39;</span><span class="p p-Indicator">,</span><span class="nt"> Index </span><span class="p">:</span> <span class="nv">2.0</span><span class="p p-Indicator">,</span><span class="nt"> Scale </span><span class="p">:</span> <span class="nv">1000</span><span class="p p-Indicator">,</span><span class="nt"> Prefactor </span><span class="p">:</span> <span class="kt">!!float</span> <span class="nv">1e-11</span><span class="p p-Indicator">,</span>
<span class="nt">     SpatialModel</span><span class="p">:</span> <span class="s">&#39;SpatialMap&#39;</span><span class="p p-Indicator">,</span><span class="nt"> Spatial_Filename </span><span class="p">:</span> <span class="s">&#39;template.fits&#39;</span> <span class="p p-Indicator">}</span>
</pre></div>
</div>
</div>
<div class="section" id="editing-the-model-at-runtime">
<h2>Editing the Model at Runtime<a class="headerlink" href="#editing-the-model-at-runtime" title="Permalink to this headline">¶</a></h2>
<p>The model can be manually editing at runtime with the
<a class="reference internal" href="fermipy.html#fermipy.gtanalysis.GTAnalysis.add_source" title="fermipy.gtanalysis.GTAnalysis.add_source"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_source()</span></code></a> and
<a class="reference internal" href="fermipy.html#fermipy.gtanalysis.GTAnalysis.delete_source" title="fermipy.gtanalysis.GTAnalysis.delete_source"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delete_source()</span></code></a> methods.
Sources can be added either before or after calling
<a class="reference internal" href="fermipy.html#fermipy.gtanalysis.GTAnalysis.setup" title="fermipy.gtanalysis.GTAnalysis.setup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setup()</span></code></a> as shown in the
following example.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">fermipy.gtanalysis</span> <span class="kn">import</span> <span class="n">GTAnalysis</span>

<span class="n">gta</span> <span class="o">=</span> <span class="n">GTAnalysis</span><span class="p">(</span><span class="s1">&#39;config.yaml&#39;</span><span class="p">,</span><span class="n">logging</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;verbosity&#39;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">})</span>

<span class="c1"># Remove isodiff from the model</span>
<span class="n">gta</span><span class="o">.</span><span class="n">delete_source</span><span class="p">(</span><span class="s1">&#39;isodiff&#39;</span><span class="p">)</span>

<span class="c1"># Add SourceA to the model</span>
<span class="n">gta</span><span class="o">.</span><span class="n">add_source</span><span class="p">(</span><span class="s1">&#39;SourceA&#39;</span><span class="p">,{</span> <span class="s1">&#39;glon&#39;</span> <span class="p">:</span> <span class="mf">120.0</span><span class="p">,</span> <span class="s1">&#39;glat&#39;</span> <span class="p">:</span> <span class="o">-</span><span class="mf">3.0</span><span class="p">,</span>
                <span class="s1">&#39;SpectrumType&#39;</span> <span class="p">:</span> <span class="s1">&#39;PowerLaw&#39;</span><span class="p">,</span> <span class="s1">&#39;Index&#39;</span> <span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
                <span class="s1">&#39;Scale&#39;</span> <span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="s1">&#39;Prefactor&#39;</span> <span class="p">:</span> <span class="mf">1e-11</span><span class="p">,</span>
                <span class="s1">&#39;SpatialModel&#39;</span> <span class="p">:</span> <span class="s1">&#39;PointSource&#39;</span> <span class="p">})</span>

<span class="n">gta</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>

<span class="c1"># Add SourceB to the model</span>
<span class="n">gta</span><span class="o">.</span><span class="n">add_source</span><span class="p">(</span><span class="s1">&#39;SourceB&#39;</span><span class="p">,{</span> <span class="s1">&#39;glon&#39;</span> <span class="p">:</span> <span class="mf">121.0</span><span class="p">,</span> <span class="s1">&#39;glat&#39;</span> <span class="p">:</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">,</span>
                 <span class="s1">&#39;SpectrumType&#39;</span> <span class="p">:</span> <span class="s1">&#39;PowerLaw&#39;</span><span class="p">,</span> <span class="s1">&#39;Index&#39;</span> <span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
                 <span class="s1">&#39;Scale&#39;</span> <span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="s1">&#39;Prefactor&#39;</span> <span class="p">:</span> <span class="mf">1e-11</span><span class="p">,</span>
                 <span class="s1">&#39;SpatialModel&#39;</span> <span class="p">:</span> <span class="s1">&#39;PointSource&#39;</span> <span class="p">})</span>
</pre></div>
</div>
<p>Sources added before calling
<a class="reference internal" href="fermipy.html#fermipy.gtanalysis.GTAnalysis.setup" title="fermipy.gtanalysis.GTAnalysis.setup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setup()</span></code></a> will be appended to
the XML model definition.  Sources added after calling
<a class="reference internal" href="fermipy.html#fermipy.gtanalysis.GTAnalysis.setup" title="fermipy.gtanalysis.GTAnalysis.setup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setup()</span></code></a> will be created
dynamically through the pyLikelihood object creation mechanism.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="developer.html" class="btn btn-neutral float-right" title="Developer Notes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="fitting.html" class="btn btn-neutral float-left" title="ROI Optimization and Fitting" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Fermipy Developers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>